(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function dS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var sm={exports:{}},xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function mS(){if(_v)return xl;_v=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return xl.Fragment=e,xl.jsx=n,xl.jsxs=n,xl}var vv;function pS(){return vv||(vv=1,sm.exports=mS()),sm.exports}var N=pS(),am={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function gS(){if(Ev)return Re;Ev=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function A(D){return D===null||typeof D!="object"?null:(D=w&&D[w]||D["@@iterator"],typeof D=="function"?D:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,Q={};function q(D,te,oe){this.props=D,this.context=te,this.refs=Q,this.updater=oe||P}q.prototype.isReactComponent={},q.prototype.setState=function(D,te){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,te,"setState")},q.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function W(){}W.prototype=q.prototype;function re(D,te,oe){this.props=D,this.context=te,this.refs=Q,this.updater=oe||P}var ne=re.prototype=new W;ne.constructor=re,L(ne,q.prototype),ne.isPureReactComponent=!0;var fe=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},Ae=Object.prototype.hasOwnProperty;function V(D,te,oe,ie,ge,xe){return oe=xe.ref,{$$typeof:i,type:D,key:te,ref:oe!==void 0?oe:null,props:xe}}function S(D,te){return V(D.type,te,void 0,void 0,void 0,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function x(D){var te={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(oe){return te[oe]})}var O=/\/+/g;function k(D,te){return typeof D=="object"&&D!==null&&D.key!=null?x(""+D.key):te.toString(36)}function C(){}function Pt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(te){D.status==="pending"&&(D.status="fulfilled",D.value=te)},function(te){D.status==="pending"&&(D.status="rejected",D.reason=te)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function at(D,te,oe,ie,ge){var xe=typeof D;(xe==="undefined"||xe==="boolean")&&(D=null);var be=!1;if(D===null)be=!0;else switch(xe){case"bigint":case"string":case"number":be=!0;break;case"object":switch(D.$$typeof){case i:case e:be=!0;break;case E:return be=D._init,at(be(D._payload),te,oe,ie,ge)}}if(be)return ge=ge(D),be=ie===""?"."+k(D,0):ie,fe(ge)?(oe="",be!=null&&(oe=be.replace(O,"$&/")+"/"),at(ge,te,oe,"",function(Wn){return Wn})):ge!=null&&(R(ge)&&(ge=S(ge,oe+(ge.key==null||D&&D.key===ge.key?"":(""+ge.key).replace(O,"$&/")+"/")+be)),te.push(ge)),1;be=0;var It=ie===""?".":ie+":";if(fe(D))for(var Ze=0;Ze<D.length;Ze++)ie=D[Ze],xe=It+k(ie,Ze),be+=at(ie,te,oe,xe,ge);else if(Ze=A(D),typeof Ze=="function")for(D=Ze.call(D),Ze=0;!(ie=D.next()).done;)ie=ie.value,xe=It+k(ie,Ze++),be+=at(ie,te,oe,xe,ge);else if(xe==="object"){if(typeof D.then=="function")return at(Pt(D),te,oe,ie,ge);throw te=String(D),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return be}function $(D,te,oe){if(D==null)return D;var ie=[],ge=0;return at(D,ie,"","",function(xe){return te.call(oe,xe,ge++)}),ie}function ae(D){if(D._status===-1){var te=D._result;te=te(),te.then(function(oe){(D._status===0||D._status===-1)&&(D._status=1,D._result=oe)},function(oe){(D._status===0||D._status===-1)&&(D._status=2,D._result=oe)}),D._status===-1&&(D._status=0,D._result=te)}if(D._status===1)return D._result.default;throw D._result}var me=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function ze(){}return Re.Children={map:$,forEach:function(D,te,oe){$(D,function(){te.apply(this,arguments)},oe)},count:function(D){var te=0;return $(D,function(){te++}),te},toArray:function(D){return $(D,function(te){return te})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Re.Component=q,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=re,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,Re.__COMPILER_RUNTIME={__proto__:null,c:function(D){return he.H.useMemoCache(D)}},Re.cache=function(D){return function(){return D.apply(null,arguments)}},Re.cloneElement=function(D,te,oe){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ie=L({},D.props),ge=D.key,xe=void 0;if(te!=null)for(be in te.ref!==void 0&&(xe=void 0),te.key!==void 0&&(ge=""+te.key),te)!Ae.call(te,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&te.ref===void 0||(ie[be]=te[be]);var be=arguments.length-2;if(be===1)ie.children=oe;else if(1<be){for(var It=Array(be),Ze=0;Ze<be;Ze++)It[Ze]=arguments[Ze+2];ie.children=It}return V(D.type,ge,void 0,void 0,xe,ie)},Re.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Re.createElement=function(D,te,oe){var ie,ge={},xe=null;if(te!=null)for(ie in te.key!==void 0&&(xe=""+te.key),te)Ae.call(te,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ge[ie]=te[ie]);var be=arguments.length-2;if(be===1)ge.children=oe;else if(1<be){for(var It=Array(be),Ze=0;Ze<be;Ze++)It[Ze]=arguments[Ze+2];ge.children=It}if(D&&D.defaultProps)for(ie in be=D.defaultProps,be)ge[ie]===void 0&&(ge[ie]=be[ie]);return V(D,xe,void 0,void 0,null,ge)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(D){return{$$typeof:m,render:D}},Re.isValidElement=R,Re.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:ae}},Re.memo=function(D,te){return{$$typeof:g,type:D,compare:te===void 0?null:te}},Re.startTransition=function(D){var te=he.T,oe={};he.T=oe;try{var ie=D(),ge=he.S;ge!==null&&ge(oe,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(ze,me)}catch(xe){me(xe)}finally{he.T=te}},Re.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},Re.use=function(D){return he.H.use(D)},Re.useActionState=function(D,te,oe){return he.H.useActionState(D,te,oe)},Re.useCallback=function(D,te){return he.H.useCallback(D,te)},Re.useContext=function(D){return he.H.useContext(D)},Re.useDebugValue=function(){},Re.useDeferredValue=function(D,te){return he.H.useDeferredValue(D,te)},Re.useEffect=function(D,te,oe){var ie=he.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(D,te)},Re.useId=function(){return he.H.useId()},Re.useImperativeHandle=function(D,te,oe){return he.H.useImperativeHandle(D,te,oe)},Re.useInsertionEffect=function(D,te){return he.H.useInsertionEffect(D,te)},Re.useLayoutEffect=function(D,te){return he.H.useLayoutEffect(D,te)},Re.useMemo=function(D,te){return he.H.useMemo(D,te)},Re.useOptimistic=function(D,te){return he.H.useOptimistic(D,te)},Re.useReducer=function(D,te,oe){return he.H.useReducer(D,te,oe)},Re.useRef=function(D){return he.H.useRef(D)},Re.useState=function(D){return he.H.useState(D)},Re.useSyncExternalStore=function(D,te,oe){return he.H.useSyncExternalStore(D,te,oe)},Re.useTransition=function(){return he.H.useTransition()},Re.version="19.1.0",Re}var Tv;function rp(){return Tv||(Tv=1,am.exports=gS()),am.exports}var G=rp();const Hs=dS(G);var om={exports:{}},Nl={},lm={exports:{}},um={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function yS(){return bv||(bv=1,function(i){function e($,ae){var me=$.length;$.push(ae);e:for(;0<me;){var ze=me-1>>>1,D=$[ze];if(0<o(D,ae))$[ze]=ae,$[me]=D,me=ze;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ae=$[0],me=$.pop();if(me!==ae){$[0]=me;e:for(var ze=0,D=$.length,te=D>>>1;ze<te;){var oe=2*(ze+1)-1,ie=$[oe],ge=oe+1,xe=$[ge];if(0>o(ie,me))ge<D&&0>o(xe,ie)?($[ze]=xe,$[ge]=me,ze=ge):($[ze]=ie,$[oe]=me,ze=oe);else if(ge<D&&0>o(xe,me))$[ze]=xe,$[ge]=me,ze=ge;else break e}}return ae}function o($,ae){var me=$.sortIndex-ae.sortIndex;return me!==0?me:$.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,w=null,A=3,P=!1,L=!1,Q=!1,q=!1,W=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function fe($){for(var ae=n(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=$)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(g)}}function he($){if(Q=!1,fe($),!L)if(n(p)!==null)L=!0,Ae||(Ae=!0,k());else{var ae=n(g);ae!==null&&at(he,ae.startTime-$)}}var Ae=!1,V=-1,S=5,R=-1;function x(){return q?!0:!(i.unstable_now()-R<S)}function O(){if(q=!1,Ae){var $=i.unstable_now();R=$;var ae=!0;try{e:{L=!1,Q&&(Q=!1,re(V),V=-1),P=!0;var me=A;try{t:{for(fe($),w=n(p);w!==null&&!(w.expirationTime>$&&x());){var ze=w.callback;if(typeof ze=="function"){w.callback=null,A=w.priorityLevel;var D=ze(w.expirationTime<=$);if($=i.unstable_now(),typeof D=="function"){w.callback=D,fe($),ae=!0;break t}w===n(p)&&s(p),fe($)}else s(p);w=n(p)}if(w!==null)ae=!0;else{var te=n(g);te!==null&&at(he,te.startTime-$),ae=!1}}break e}finally{w=null,A=me,P=!1}ae=void 0}}finally{ae?k():Ae=!1}}}var k;if(typeof ne=="function")k=function(){ne(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Pt=C.port2;C.port1.onmessage=O,k=function(){Pt.postMessage(null)}}else k=function(){W(O,0)};function at($,ae){V=W(function(){$(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function($){switch(A){case 1:case 2:case 3:var ae=3;break;default:ae=A}var me=A;A=ae;try{return $()}finally{A=me}},i.unstable_requestPaint=function(){q=!0},i.unstable_runWithPriority=function($,ae){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var me=A;A=$;try{return ae()}finally{A=me}},i.unstable_scheduleCallback=function($,ae,me){var ze=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ze+me:ze):me=ze,$){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=me+D,$={id:E++,callback:ae,priorityLevel:$,startTime:me,expirationTime:D,sortIndex:-1},me>ze?($.sortIndex=me,e(g,$),n(p)===null&&$===n(g)&&(Q?(re(V),V=-1):Q=!0,at(he,me-ze))):($.sortIndex=D,e(p,$),L||P||(L=!0,Ae||(Ae=!0,k()))),$},i.unstable_shouldYield=x,i.unstable_wrapCallback=function($){var ae=A;return function(){var me=A;A=ae;try{return $.apply(this,arguments)}finally{A=me}}}}(um)),um}var wv;function _S(){return wv||(wv=1,lm.exports=yS()),lm.exports}var cm={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function vS(){if(Av)return Qt;Av=1;var i=rp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Qt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Qt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Qt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,P=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:P}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:A,fetchPriority:P,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Qt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Qt.requestFormReset=function(p){s.d.r(p)},Qt.unstable_batchedUpdates=function(p,g){return p(g)},Qt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Qt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qt.version="19.1.0",Qt}var Sv;function ES(){if(Sv)return cm.exports;Sv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),cm.exports=vS(),cm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function TS(){if(Rv)return Nl;Rv=1;var i=_S(),e=rp(),n=ES();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),re=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Pt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case q:return"Profiler";case Q:return"StrictMode";case he:return"Suspense";case Ae:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case ne:return(t.displayName||"Context")+".Provider";case re:return(t._context.displayName||"Context")+".Consumer";case fe:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return r=t.displayName||null,r!==null?r:Pt(t.type)||"Memo";case S:r=t._payload,t=t._init;try{return Pt(t(r))}catch{}}return null}var at=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ze=[],D=-1;function te(t){return{current:t}}function oe(t){0>D||(t.current=ze[D],ze[D]=null,D--)}function ie(t,r){D++,ze[D]=t.current,t.current=r}var ge=te(null),xe=te(null),be=te(null),It=te(null);function Ze(t,r){switch(ie(be,r),ie(xe,t),ie(ge,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?K_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=K_(r),t=Q_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(ge),ie(ge,t)}function Wn(){oe(ge),oe(xe),oe(be)}function sr(t){t.memoizedState!==null&&ie(It,t);var r=ge.current,a=Q_(r,t.type);r!==a&&(ie(xe,t),ie(ge,a))}function bi(t){xe.current===t&&(oe(ge),oe(xe)),It.current===t&&(oe(It),Al._currentValue=me)}var ns=Object.prototype.hasOwnProperty,is=i.unstable_scheduleCallback,rs=i.unstable_cancelCallback,To=i.unstable_shouldYield,gu=i.unstable_requestPaint,bn=i.unstable_now,sf=i.unstable_getCurrentPriorityLevel,bo=i.unstable_ImmediatePriority,ia=i.unstable_UserBlockingPriority,ss=i.unstable_NormalPriority,af=i.unstable_LowPriority,ra=i.unstable_IdlePriority,wo=i.log,yu=i.unstable_setDisableYieldValue,ot=null,Fe=null;function cn(t){if(typeof wo=="function"&&yu(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(ot,t)}catch{}}var Gt=Math.clz32?Math.clz32:as,_u=Math.log,of=Math.LN2;function as(t){return t>>>=0,t===0?32:31-(_u(t)/of|0)|0}var os=256,ls=4194304;function Un(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function sa(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Un(l):(v&=T,v!==0?h=Un(v):a||(a=T&~t,a!==0&&(h=Un(a))))):(T=l&~d,T!==0?h=Un(T):v!==0?h=Un(v):a||(a=l&~t,a!==0&&(h=Un(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function us(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Ao(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function So(){var t=os;return os<<=1,(os&4194048)===0&&(os=256),t}function Ro(){var t=ls;return ls<<=1,(ls&62914560)===0&&(ls=4194304),t}function wi(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Ai(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Io(t,r,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,B=t.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-Gt(a),Z=1<<Y;T[Y]=0,I[Y]=-1;var H=B[Y];if(H!==null)for(B[Y]=null,Y=0;Y<H.length;Y++){var F=H[Y];F!==null&&(F.lane&=-536870913)}a&=~Z}l!==0&&Zn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function Zn(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Gt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Co(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Gt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function ar(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function aa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function or(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:fv(t.type))}function vu(t,r){var a=ae.p;try{return ae.p=t,r()}finally{ae.p=a}}var tt=Math.random().toString(36).slice(2),Tt="__reactFiber$"+tt,mt="__reactProps$"+tt,wn="__reactContainer$"+tt,xo="__reactEvents$"+tt,lf="__reactListeners$"+tt,lr="__reactHandles$"+tt,Eu="__reactResources$"+tt,cs="__reactMarker$"+tt;function ur(t){delete t[Tt],delete t[mt],delete t[xo],delete t[lf],delete t[lr]}function Si(t){var r=t[Tt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[wn]||a[Tt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=W_(t);t!==null;){if(a=t[Tt])return a;t=W_(t)}return r}t=a,a=t.parentNode}return null}function Jn(t){if(t=t[Tt]||t[wn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function ei(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Zt(t){var r=t[Eu];return r||(r=t[Eu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ct(t){t[cs]=!0}var No=new Set,oa={};function jn(t,r){Ri(t,r),Ri(t+"Capture",r)}function Ri(t,r){for(oa[t]=r,t=0;t<r.length;t++)No.add(r[t])}var Tu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bu={},hs={};function wu(t){return ns.call(hs,t)?!0:ns.call(bu,t)?!1:Tu.test(t)?hs[t]=!0:(bu[t]=!0,!1)}function cr(t,r,a){if(wu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function ti(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function kt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var fs,Au;function Ii(t){if(fs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);fs=r&&r[1]||"",Au=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fs+t+Au}var la=!1;function ua(t,r){if(!t||la)return"";la=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var H=F}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(F){H=F}t.call(Z.prototype)}}else{try{throw Error()}catch(F){H=F}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),B=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===B.length)for(l=I.length-1,h=B.length-1;1<=l&&0<=h&&I[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==B[h]){var Y=`
`+I[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{la=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ii(a):""}function Do(t){switch(t.tag){case 26:case 27:case 5:return Ii(t.type);case 16:return Ii("Lazy");case 13:return Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return ua(t.type,!1);case 11:return ua(t.type.render,!1);case 1:return ua(t.type,!0);case 31:return Ii("Activity");default:return""}}function ca(t){try{var r="";do r+=Do(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Oo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function uf(t){var r=Oo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ha(t){t._valueTracker||(t._valueTracker=uf(t))}function Mo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Oo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function ds(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var cf=/[\n"\\]/g;function pt(t){return t.replace(cf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function hn(t,r,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Jt(r)):t.value!==""+Jt(r)&&(t.value=""+Jt(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?hr(t,v,Jt(r)):a!=null?hr(t,v,Jt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Jt(T):t.removeAttribute("name")}function ms(t,r,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+Jt(a):"",r=r!=null?""+Jt(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function hr(t,r,a){r==="number"&&ds(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ci(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Jt(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Qe(t,r,a){if(r!=null&&(r=""+Jt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Jt(a):""}function ps(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(at(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Jt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function An(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var gs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Su(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||gs.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Vo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Su(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Su(t,d,r[d])}function Po(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ff=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(t){return ff.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var xi=null;function Sn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ni=null,Di=null;function ko(t){var r=Jn(t);if(r&&(t=r.stateNode)){var a=t[mt]||null;e:switch(t=r.stateNode,r.type){case"input":if(hn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[mt]||null;if(!h)throw Error(s(90));hn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Mo(l)}break e;case"textarea":Qe(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ci(t,!!a.multiple,r,!1)}}}var ni=!1;function Ru(t,r,a){if(ni)return t(r,a);ni=!0;try{var l=t(r);return l}finally{if(ni=!1,(Ni!==null||Di!==null)&&(vc(),Ni&&(r=Ni,t=Di,Di=Ni=null,ko(r),t)))for(r=0;r<t.length;r++)ko(t[r])}}function ys(t,r){var a=t.stateNode;if(a===null)return null;var l=a[mt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rn=!1;if(zn)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){Rn=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{Rn=!1}var ii=null,fr=null,Oi=null;function Lo(){if(Oi)return Oi;var t,r=fr,a=r.length,l,h="value"in ii?ii.value:ii.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return Oi=h.slice(t,1<l?1-l:void 0)}function ri(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function si(){return!0}function Uo(){return!1}function Ct(t){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?si:Uo,this.isPropagationStopped=Uo,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),r}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},da=Ct(qe),vs=E({},qe,{view:0,detail:0}),Iu=Ct(vs),ma,pa,ai,Es=E({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ai&&(ai&&t.type==="mousemove"?(ma=t.screenX-ai.screenX,pa=t.screenY-ai.screenY):pa=ma=0,ai=t),ma)},movementY:function(t){return"movementY"in t?t.movementY:pa}}),In=Ct(Es),Cu=E({},Es,{dataTransfer:0}),df=Ct(Cu),Ts=E({},vs,{relatedTarget:0}),ga=Ct(Ts),jo=E({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),ya=Ct(jo),xu=E({},qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_a=Ct(xu),mf=E({},qe,{data:0}),zo=Ct(mf),bs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Du[t])?!!r[t]:!1}function ws(){return Bo}var Ou=E({},vs,{key:function(t){if(t.key){var r=bs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ri(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(t){return t.type==="keypress"?ri(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ri(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),va=Ct(Ou),Mu=E({},Es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qo=Ct(Mu),Mi=E({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),Vu=Ct(Mi),Pu=E({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),ku=Ct(Pu),Lu=E({},Es,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ea=Ct(Lu),en=E({},qe,{newState:0,oldState:0}),Uu=Ct(en),ju=[9,13,27,32],oi=zn&&"CompositionEvent"in window,c=null;zn&&"documentMode"in document&&(c=document.documentMode);var y=zn&&"TextEvent"in window&&!c,_=zn&&(!oi||c&&8<c&&11>=c),b=" ",j=!1;function K(t,r){switch(t){case"keyup":return ju.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pe=!1;function bt(t,r){switch(t){case"compositionend":return se(r);case"keypress":return r.which!==32?null:(j=!0,b);case"textInput":return t=r.data,t===b&&j?null:t;default:return null}}function ke(t,r){if(Pe)return t==="compositionend"||!oi&&K(t,r)?(t=Lo(),Oi=fr=ii=null,Pe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var xt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!xt[t.type]:r==="textarea"}function Vi(t,r,a,l){Ni?Di?Di.push(l):Di=[l]:Ni=l,r=Sc(r,"onChange"),0<r.length&&(a=new da("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Lt=null,li=null;function Ho(t){B_(t,0)}function zu(t){var r=ei(t);if(Mo(r))return t}function lg(t,r){if(t==="change")return r}var ug=!1;if(zn){var pf;if(zn){var gf="oninput"in document;if(!gf){var cg=document.createElement("div");cg.setAttribute("oninput","return;"),gf=typeof cg.oninput=="function"}pf=gf}else pf=!1;ug=pf&&(!document.documentMode||9<document.documentMode)}function hg(){Lt&&(Lt.detachEvent("onpropertychange",fg),li=Lt=null)}function fg(t){if(t.propertyName==="value"&&zu(li)){var r=[];Vi(r,li,t,Sn(t)),Ru(Ho,r)}}function Hw(t,r,a){t==="focusin"?(hg(),Lt=r,li=a,Lt.attachEvent("onpropertychange",fg)):t==="focusout"&&hg()}function Fw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zu(li)}function Gw(t,r){if(t==="click")return zu(r)}function Kw(t,r){if(t==="input"||t==="change")return zu(r)}function Qw(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var fn=typeof Object.is=="function"?Object.is:Qw;function Fo(t,r){if(fn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ns.call(r,h)||!fn(t[h],r[h]))return!1}return!0}function dg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mg(t,r){var a=dg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=dg(a)}}function pg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?pg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function gg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=ds(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=ds(t.document)}return r}function yf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var $w=zn&&"documentMode"in document&&11>=document.documentMode,Ta=null,_f=null,Go=null,vf=!1;function yg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vf||Ta==null||Ta!==ds(l)||(l=Ta,"selectionStart"in l&&yf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Go&&Fo(Go,l)||(Go=l,l=Sc(_f,"onSelect"),0<l.length&&(r=new da("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ta)))}function As(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var ba={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionrun:As("Transition","TransitionRun"),transitionstart:As("Transition","TransitionStart"),transitioncancel:As("Transition","TransitionCancel"),transitionend:As("Transition","TransitionEnd")},Ef={},_g={};zn&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function Ss(t){if(Ef[t])return Ef[t];if(!ba[t])return t;var r=ba[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in _g)return Ef[t]=r[a];return t}var vg=Ss("animationend"),Eg=Ss("animationiteration"),Tg=Ss("animationstart"),Yw=Ss("transitionrun"),Xw=Ss("transitionstart"),Ww=Ss("transitioncancel"),bg=Ss("transitionend"),wg=new Map,Tf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tf.push("scrollEnd");function Bn(t,r){wg.set(t,r),jn(r,[t])}var Ag=new WeakMap;function Cn(t,r){if(typeof t=="object"&&t!==null){var a=Ag.get(t);return a!==void 0?a:(r={value:t,source:r,stack:ca(r)},Ag.set(t,r),r)}return{value:t,source:r,stack:ca(r)}}var xn=[],wa=0,bf=0;function Bu(){for(var t=wa,r=bf=wa=0;r<t;){var a=xn[r];xn[r++]=null;var l=xn[r];xn[r++]=null;var h=xn[r];xn[r++]=null;var d=xn[r];if(xn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Sg(a,h,d)}}function qu(t,r,a,l){xn[wa++]=t,xn[wa++]=r,xn[wa++]=a,xn[wa++]=l,bf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function wf(t,r,a,l){return qu(t,r,a,l),Hu(t)}function Aa(t,r){return qu(t,null,null,r),Hu(t)}function Sg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Gt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function Hu(t){if(50<gl)throw gl=0,xd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Sa={};function Zw(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,r,a,l){return new Zw(t,r,a,l)}function Af(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pi(t,r){var a=t.alternate;return a===null?(a=dn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Rg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Fu(t,r,a,l,h,d){var v=0;if(l=t,typeof t=="function")Af(t)&&(v=1);else if(typeof t=="string")v=eS(t,a,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=dn(31,a,r,h),t.elementType=R,t.lanes=d,t;case L:return Rs(a.children,h,d,r);case Q:v=8,h|=24;break;case q:return t=dn(12,a,r,h|2),t.elementType=q,t.lanes=d,t;case he:return t=dn(13,a,r,h),t.elementType=he,t.lanes=d,t;case Ae:return t=dn(19,a,r,h),t.elementType=Ae,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W:case ne:v=10;break e;case re:v=9;break e;case fe:v=11;break e;case V:v=14;break e;case S:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=dn(v,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Rs(t,r,a,l){return t=dn(7,t,l,r),t.lanes=a,t}function Sf(t,r,a){return t=dn(6,t,null,r),t.lanes=a,t}function Rf(t,r,a){return r=dn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Ra=[],Ia=0,Gu=null,Ku=0,Nn=[],Dn=0,Is=null,ki=1,Li="";function Cs(t,r){Ra[Ia++]=Ku,Ra[Ia++]=Gu,Gu=t,Ku=r}function Ig(t,r,a){Nn[Dn++]=ki,Nn[Dn++]=Li,Nn[Dn++]=Is,Is=t;var l=ki;t=Li;var h=32-Gt(l)-1;l&=~(1<<h),a+=1;var d=32-Gt(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,ki=1<<32-Gt(r)+h|a<<h|l,Li=d+t}else ki=1<<d|a<<h|l,Li=t}function If(t){t.return!==null&&(Cs(t,1),Ig(t,1,0))}function Cf(t){for(;t===Gu;)Gu=Ra[--Ia],Ra[Ia]=null,Ku=Ra[--Ia],Ra[Ia]=null;for(;t===Is;)Is=Nn[--Dn],Nn[Dn]=null,Li=Nn[--Dn],Nn[Dn]=null,ki=Nn[--Dn],Nn[Dn]=null}var tn=null,lt=null,Be=!1,xs=null,ui=!1,xf=Error(s(519));function Ns(t){var r=Error(s(418,""));throw $o(Cn(r,t)),xf}function Cg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Tt]=t,r[mt]=l,a){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(a=0;a<_l.length;a++)Oe(_l[a],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),ms(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ha(r);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),ps(r,l.value,l.defaultValue,l.children),ha(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||G_(r.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),l.onScroll!=null&&Oe("scroll",r),l.onScrollEnd!=null&&Oe("scrollend",r),l.onClick!=null&&(r.onclick=Rc),r=!0):r=!1,r||Ns(t)}function xg(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:tn=tn.return}}function Ko(t){if(t!==tn)return!1;if(!Be)return xg(t),Be=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Gd(t.type,t.memoizedProps)),a=!a),a&&lt&&Ns(t),xg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){lt=Hn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}lt=null}}else r===27?(r=lt,Cr(t.type)?(t=Yd,Yd=null,lt=t):lt=r):lt=tn?Hn(t.stateNode.nextSibling):null;return!0}function Qo(){lt=tn=null,Be=!1}function Ng(){var t=xs;return t!==null&&(an===null?an=t:an.push.apply(an,t),xs=null),t}function $o(t){xs===null?xs=[t]:xs.push(t)}var Nf=te(null),Ds=null,Ui=null;function dr(t,r,a){ie(Nf,r._currentValue),r._currentValue=a}function ji(t){t._currentValue=Nf.current,oe(Nf)}function Df(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Of(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<r.length;I++)if(T.context===r[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Df(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Df(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Yo(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;fn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===It.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Al):t=[Al])}h=h.return}t!==null&&Of(r,t,a,l),r.flags|=262144}function Qu(t){for(t=t.firstContext;t!==null;){if(!fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Os(t){Ds=t,Ui=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return Dg(Ds,t)}function $u(t,r){return Ds===null&&Os(t),Dg(t,r)}function Dg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Ui===null){if(t===null)throw Error(s(308));Ui=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Ui=Ui.next=r;return a}var Jw=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},eA=i.unstable_scheduleCallback,tA=i.unstable_NormalPriority,At={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mf(){return{controller:new Jw,data:new Map,refCount:0}}function Xo(t){t.refCount--,t.refCount===0&&eA(tA,function(){t.controller.abort()})}var Wo=null,Vf=0,Ca=0,xa=null;function nA(t,r){if(Wo===null){var a=Wo=[];Vf=0,Ca=kd(),xa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Vf++,r.then(Og,Og),r}function Og(){if(--Vf===0&&Wo!==null){xa!==null&&(xa.status="fulfilled");var t=Wo;Wo=null,Ca=0,xa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function iA(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Mg=$.S;$.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&nA(t,r),Mg!==null&&Mg(t,r)};var Ms=te(null);function Pf(){var t=Ms.current;return t!==null?t:Je.pooledCache}function Yu(t,r){r===null?ie(Ms,Ms.current):ie(Ms,r.pool)}function Vg(){var t=Pf();return t===null?null:{parent:At._currentValue,pool:t}}var Zo=Error(s(460)),Pg=Error(s(474)),Xu=Error(s(542)),kf={then:function(){}};function kg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wu(){}function Lg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Wu,Wu),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,jg(t),t;default:if(typeof r.status=="string")r.then(Wu,Wu);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,jg(t),t}throw Jo=r,Zo}}var Jo=null;function Ug(){if(Jo===null)throw Error(s(459));var t=Jo;return Jo=null,t}function jg(t){if(t===Zo||t===Xu)throw Error(s(483))}var mr=!1;function Lf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function pr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function gr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Hu(t),Sg(t,null,a),r}return qu(t,l,r,a),Hu(t)}function el(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Co(t,a)}}function jf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var zf=!1;function tl(){if(zf){var t=xa;if(t!==null)throw t}}function nl(t,r,a,l){zf=!1;var h=t.updateQueue;mr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,B=I.next;I.next=null,v===null?d=B:v.next=B,v=I;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=B:T.next=B,Y.lastBaseUpdate=I))}if(d!==null){var Z=h.baseState;v=0,Y=B=I=null,T=d;do{var H=T.lane&-536870913,F=H!==T.lane;if(F?(Le&H)===H:(l&H)===H){H!==0&&H===Ca&&(zf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ee=t,ye=T;H=r;var Xe=a;switch(ye.tag){case 1:if(Ee=ye.payload,typeof Ee=="function"){Z=Ee.call(Xe,Z,H);break e}Z=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=ye.payload,H=typeof Ee=="function"?Ee.call(Xe,Z,H):Ee,H==null)break e;Z=E({},Z,H);break e;case 2:mr=!0}}H=T.callback,H!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[H]:F.push(H))}else F={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(B=Y=F,I=Z):Y=Y.next=F,v|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Y===null&&(I=Z),h.baseState=I,h.firstBaseUpdate=B,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),Ar|=v,t.lanes=v,t.memoizedState=Z}}function zg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Bg(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)zg(a[t],r)}var Na=te(null),Zu=te(0);function qg(t,r){t=Ki,ie(Zu,t),ie(Na,r),Ki=t|r.baseLanes}function Bf(){ie(Zu,Ki),ie(Na,Na.current)}function qf(){Ki=Zu.current,oe(Na),oe(Zu)}var yr=0,Ie=null,$e=null,gt=null,Ju=!1,Da=!1,Vs=!1,ec=0,il=0,Oa=null,rA=0;function ht(){throw Error(s(321))}function Hf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!fn(t[a],r[a]))return!1;return!0}function Ff(t,r,a,l,h,d){return yr=d,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=t===null||t.memoizedState===null?Sy:Ry,Vs=!1,d=a(l,h),Vs=!1,Da&&(d=Fg(r,a,l,h)),Hg(t),d}function Hg(t){$.H=ac;var r=$e!==null&&$e.next!==null;if(yr=0,gt=$e=Ie=null,Ju=!1,il=0,Oa=null,r)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&Qu(t)&&(Nt=!0))}function Fg(t,r,a,l){Ie=t;var h=0;do{if(Da&&(Oa=null),il=0,Da=!1,25<=h)throw Error(s(301));if(h+=1,gt=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=hA,d=r(a,l)}while(Da);return d}function sA(){var t=$.H,r=t.useState()[0];return r=typeof r.then=="function"?rl(r):r,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Ie.flags|=1024),r}function Gf(){var t=ec!==0;return ec=0,t}function Kf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Qf(t){if(Ju){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Ju=!1}yr=0,gt=$e=Ie=null,Da=!1,il=ec=0,Oa=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ie.memoizedState=gt=t:gt=gt.next=t,gt}function yt(){if($e===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var r=gt===null?Ie.memoizedState:gt.next;if(r!==null)gt=r,$e=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},gt===null?Ie.memoizedState=gt=t:gt=gt.next=t}return gt}function $f(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rl(t){var r=il;return il+=1,Oa===null&&(Oa=[]),t=Lg(Oa,t,r),r=Ie,(gt===null?r.memoizedState:gt.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?Sy:Ry),t}function tc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return rl(t);if(t.$$typeof===ne)return Kt(t)}throw Error(s(438,String(t)))}function Yf(t){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=$f(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=x;return r.index++,a}function zi(t,r){return typeof r=="function"?r(t):r}function nc(t){var r=yt();return Xf(r,$e,t)}function Xf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var T=v=null,I=null,B=r,Y=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(Le&Z)===Z:(yr&Z)===Z){var H=B.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===Ca&&(Y=!0);else if((yr&H)===H){B=B.next,H===Ca&&(Y=!0);continue}else Z={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=Z,v=d):I=I.next=Z,Ie.lanes|=H,Ar|=H;Z=B.action,Vs&&a(d,Z),d=B.hasEagerState?B.eagerState:a(d,Z)}else H={lane:Z,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=H,v=d):I=I.next=H,Ie.lanes|=Z,Ar|=Z;B=B.next}while(B!==null&&B!==r);if(I===null?v=d:I.next=T,!fn(d,t.memoizedState)&&(Nt=!0,Y&&(a=xa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Wf(t){var r=yt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);fn(d,r.memoizedState)||(Nt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Gg(t,r,a){var l=Ie,h=yt(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!fn(($e||h).memoizedState,a);v&&(h.memoizedState=a,Nt=!0),h=h.queue;var T=$g.bind(null,l,h,t);if(sl(2048,8,T,[t]),h.getSnapshot!==r||v||gt!==null&&gt.memoizedState.tag&1){if(l.flags|=2048,Ma(9,ic(),Qg.bind(null,l,h,a,r),null),Je===null)throw Error(s(349));d||(yr&124)!==0||Kg(l,r,a)}return a}function Kg(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=$f(),Ie.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Qg(t,r,a,l){r.value=a,r.getSnapshot=l,Yg(r)&&Xg(t)}function $g(t,r,a){return a(function(){Yg(r)&&Xg(t)})}function Yg(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!fn(t,a)}catch{return!0}}function Xg(t){var r=Aa(t,2);r!==null&&_n(r,t,2)}function Zf(t){var r=rn();if(typeof t=="function"){var a=t;if(t=a(),Vs){cn(!0);try{a()}finally{cn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:t},r}function Wg(t,r,a,l){return t.baseState=a,Xf(t,$e,typeof l=="function"?l:zi)}function aA(t,r,a,l,h){if(sc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Zg(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Zg(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=$.T,v={};$.T=v;try{var T=a(h,l),I=$.S;I!==null&&I(v,T),Jg(t,r,T)}catch(B){Jf(t,r,B)}finally{$.T=d}}else try{d=a(h,l),Jg(t,r,d)}catch(B){Jf(t,r,B)}}function Jg(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ey(t,r,l)},function(l){return Jf(t,r,l)}):ey(t,r,a)}function ey(t,r,a){r.status="fulfilled",r.value=a,ty(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Zg(t,a)))}function Jf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,ty(r),r=r.next;while(r!==l)}t.action=null}function ty(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function ny(t,r){return r}function iy(t,r){if(Be){var a=Je.formState;if(a!==null){e:{var l=Ie;if(Be){if(lt){t:{for(var h=lt,d=ui;h.nodeType!==8;){if(!d){h=null;break t}if(h=Hn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){lt=Hn(h.nextSibling),l=h.data==="F!";break e}}Ns(l)}l=!1}l&&(r=a[0])}}return a=rn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ny,lastRenderedState:r},a.queue=l,a=by.bind(null,Ie,l),l.dispatch=a,l=Zf(!1),d=rd.bind(null,Ie,!1,l.queue),l=rn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=aA.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function ry(t){var r=yt();return sy(r,$e,t)}function sy(t,r,a){if(r=Xf(t,r,ny)[0],t=nc(zi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=rl(r)}catch(v){throw v===Zo?Xu:v}else l=r;r=yt();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Ie.flags|=2048,Ma(9,ic(),oA.bind(null,h,a),null)),[l,d,t]}function oA(t,r){t.action=r}function ay(t){var r=yt(),a=$e;if(a!==null)return sy(r,a,t);yt(),r=r.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Ma(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=$f(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function ic(){return{destroy:void 0,resource:void 0}}function oy(){return yt().memoizedState}function rc(t,r,a,l){var h=rn();l=l===void 0?null:l,Ie.flags|=t,h.memoizedState=Ma(1|r,ic(),a,l)}function sl(t,r,a,l){var h=yt();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&Hf(l,$e.memoizedState.deps)?h.memoizedState=Ma(r,d,a,l):(Ie.flags|=t,h.memoizedState=Ma(1|r,d,a,l))}function ly(t,r){rc(8390656,8,t,r)}function uy(t,r){sl(2048,8,t,r)}function cy(t,r){return sl(4,2,t,r)}function hy(t,r){return sl(4,4,t,r)}function fy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function dy(t,r,a){a=a!=null?a.concat([t]):null,sl(4,4,fy.bind(null,r,t),a)}function ed(){}function my(t,r){var a=yt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Hf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function py(t,r){var a=yt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Hf(r,l[1]))return l[0];if(l=t(),Vs){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,r],l}function td(t,r,a){return a===void 0||(yr&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=__(),Ie.lanes|=t,Ar|=t,a)}function gy(t,r,a,l){return fn(a,r)?a:Na.current!==null?(t=td(t,a,l),fn(t,r)||(Nt=!0),t):(yr&42)===0?(Nt=!0,t.memoizedState=a):(t=__(),Ie.lanes|=t,Ar|=t,r)}function yy(t,r,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=$.T,T={};$.T=T,rd(t,!1,r,a);try{var I=h(),B=$.S;if(B!==null&&B(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Y=iA(I,l);al(t,r,Y,yn(t))}else al(t,r,l,yn(t))}catch(Z){al(t,r,{then:function(){},status:"rejected",reason:Z},yn())}finally{ae.p=d,$.T=v}}function lA(){}function nd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=_y(t).queue;yy(t,h,r,me,a===null?lA:function(){return vy(t),a(l)})}function _y(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:me},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function vy(t){var r=_y(t).next.queue;al(t,r,{},yn())}function id(){return Kt(Al)}function Ey(){return yt().memoizedState}function Ty(){return yt().memoizedState}function uA(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=yn();t=pr(a);var l=gr(r,t,a);l!==null&&(_n(l,r,a),el(l,r,a)),r={cache:Mf()},t.payload=r;return}r=r.return}}function cA(t,r,a){var l=yn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},sc(t)?wy(r,a):(a=wf(t,r,a,l),a!==null&&(_n(a,t,l),Ay(a,r,l)))}function by(t,r,a){var l=yn();al(t,r,a,l)}function al(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(sc(t))wy(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,fn(T,v))return qu(t,r,h,0),Je===null&&Bu(),!1}catch{}finally{}if(a=wf(t,r,h,l),a!==null)return _n(a,t,l),Ay(a,r,l),!0}return!1}function rd(t,r,a,l){if(l={lane:2,revertLane:kd(),action:l,hasEagerState:!1,eagerState:null,next:null},sc(t)){if(r)throw Error(s(479))}else r=wf(t,a,l,2),r!==null&&_n(r,t,2)}function sc(t){var r=t.alternate;return t===Ie||r!==null&&r===Ie}function wy(t,r){Da=Ju=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Ay(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Co(t,a)}}var ac={readContext:Kt,use:tc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht},Sy={readContext:Kt,use:tc,useCallback:function(t,r){return rn().memoizedState=[t,r===void 0?null:r],t},useContext:Kt,useEffect:ly,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,rc(4194308,4,fy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return rc(4194308,4,t,r)},useInsertionEffect:function(t,r){rc(4,2,t,r)},useMemo:function(t,r){var a=rn();r=r===void 0?null:r;var l=t();if(Vs){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=rn();if(a!==void 0){var h=a(r);if(Vs){cn(!0);try{a(r)}finally{cn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=cA.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var r=rn();return t={current:t},r.memoizedState=t},useState:function(t){t=Zf(t);var r=t.queue,a=by.bind(null,Ie,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:ed,useDeferredValue:function(t,r){var a=rn();return td(a,t,r)},useTransition:function(){var t=Zf(!1);return t=yy.bind(null,Ie,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ie,h=rn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Je===null)throw Error(s(349));(Le&124)!==0||Kg(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,ly($g.bind(null,l,d,t),[t]),l.flags|=2048,Ma(9,ic(),Qg.bind(null,l,d,a,r),null),a},useId:function(){var t=rn(),r=Je.identifierPrefix;if(Be){var a=Li,l=ki;a=(l&~(1<<32-Gt(l)-1)).toString(32)+a,r=""+r+"R"+a,a=ec++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=rA++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:id,useFormState:iy,useActionState:iy,useOptimistic:function(t){var r=rn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=rd.bind(null,Ie,!0,a),a.dispatch=r,[t,r]},useMemoCache:Yf,useCacheRefresh:function(){return rn().memoizedState=uA.bind(null,Ie)}},Ry={readContext:Kt,use:tc,useCallback:my,useContext:Kt,useEffect:uy,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:hy,useMemo:py,useReducer:nc,useRef:oy,useState:function(){return nc(zi)},useDebugValue:ed,useDeferredValue:function(t,r){var a=yt();return gy(a,$e.memoizedState,t,r)},useTransition:function(){var t=nc(zi)[0],r=yt().memoizedState;return[typeof t=="boolean"?t:rl(t),r]},useSyncExternalStore:Gg,useId:Ey,useHostTransitionStatus:id,useFormState:ry,useActionState:ry,useOptimistic:function(t,r){var a=yt();return Wg(a,$e,t,r)},useMemoCache:Yf,useCacheRefresh:Ty},hA={readContext:Kt,use:tc,useCallback:my,useContext:Kt,useEffect:uy,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:hy,useMemo:py,useReducer:Wf,useRef:oy,useState:function(){return Wf(zi)},useDebugValue:ed,useDeferredValue:function(t,r){var a=yt();return $e===null?td(a,t,r):gy(a,$e.memoizedState,t,r)},useTransition:function(){var t=Wf(zi)[0],r=yt().memoizedState;return[typeof t=="boolean"?t:rl(t),r]},useSyncExternalStore:Gg,useId:Ey,useHostTransitionStatus:id,useFormState:ay,useActionState:ay,useOptimistic:function(t,r){var a=yt();return $e!==null?Wg(a,$e,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Yf,useCacheRefresh:Ty},Va=null,ol=0;function oc(t){var r=ol;return ol+=1,Va===null&&(Va=[]),Lg(Va,t,r)}function ll(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function lc(t,r){throw r.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Iy(t){var r=t._init;return r(t._payload)}function Cy(t){function r(U,M){if(t){var z=U.deletions;z===null?(U.deletions=[M],U.flags|=16):z.push(M)}}function a(U,M){if(!t)return null;for(;M!==null;)r(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=Pi(U,M),U.index=0,U.sibling=null,U}function d(U,M,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<M?(U.flags|=67108866,M):z):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,M,z,X){return M===null||M.tag!==6?(M=Sf(z,U.mode,X),M.return=U,M):(M=h(M,z),M.return=U,M)}function I(U,M,z,X){var ce=z.type;return ce===L?Y(U,M,z.props.children,X,z.key):M!==null&&(M.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===S&&Iy(ce)===M.type)?(M=h(M,z.props),ll(M,z),M.return=U,M):(M=Fu(z.type,z.key,z.props,null,U.mode,X),ll(M,z),M.return=U,M)}function B(U,M,z,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=Rf(z,U.mode,X),M.return=U,M):(M=h(M,z.children||[]),M.return=U,M)}function Y(U,M,z,X,ce){return M===null||M.tag!==7?(M=Rs(z,U.mode,X,ce),M.return=U,M):(M=h(M,z),M.return=U,M)}function Z(U,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Sf(""+M,U.mode,z),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case A:return z=Fu(M.type,M.key,M.props,null,U.mode,z),ll(z,M),z.return=U,z;case P:return M=Rf(M,U.mode,z),M.return=U,M;case S:var X=M._init;return M=X(M._payload),Z(U,M,z)}if(at(M)||k(M))return M=Rs(M,U.mode,z,null),M.return=U,M;if(typeof M.then=="function")return Z(U,oc(M),z);if(M.$$typeof===ne)return Z(U,$u(U,M),z);lc(U,M)}return null}function H(U,M,z,X){var ce=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ce!==null?null:T(U,M,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return z.key===ce?I(U,M,z,X):null;case P:return z.key===ce?B(U,M,z,X):null;case S:return ce=z._init,z=ce(z._payload),H(U,M,z,X)}if(at(z)||k(z))return ce!==null?null:Y(U,M,z,X,null);if(typeof z.then=="function")return H(U,M,oc(z),X);if(z.$$typeof===ne)return H(U,M,$u(U,z),X);lc(U,z)}return null}function F(U,M,z,X,ce){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(z)||null,T(M,U,""+X,ce);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case A:return U=U.get(X.key===null?z:X.key)||null,I(M,U,X,ce);case P:return U=U.get(X.key===null?z:X.key)||null,B(M,U,X,ce);case S:var Ne=X._init;return X=Ne(X._payload),F(U,M,z,X,ce)}if(at(X)||k(X))return U=U.get(z)||null,Y(M,U,X,ce,null);if(typeof X.then=="function")return F(U,M,z,oc(X),ce);if(X.$$typeof===ne)return F(U,M,z,$u(M,X),ce);lc(M,X)}return null}function Ee(U,M,z,X){for(var ce=null,Ne=null,de=M,_e=M=0,Ot=null;de!==null&&_e<z.length;_e++){de.index>_e?(Ot=de,de=null):Ot=de.sibling;var je=H(U,de,z[_e],X);if(je===null){de===null&&(de=Ot);break}t&&de&&je.alternate===null&&r(U,de),M=d(je,M,_e),Ne===null?ce=je:Ne.sibling=je,Ne=je,de=Ot}if(_e===z.length)return a(U,de),Be&&Cs(U,_e),ce;if(de===null){for(;_e<z.length;_e++)de=Z(U,z[_e],X),de!==null&&(M=d(de,M,_e),Ne===null?ce=de:Ne.sibling=de,Ne=de);return Be&&Cs(U,_e),ce}for(de=l(de);_e<z.length;_e++)Ot=F(de,U,_e,z[_e],X),Ot!==null&&(t&&Ot.alternate!==null&&de.delete(Ot.key===null?_e:Ot.key),M=d(Ot,M,_e),Ne===null?ce=Ot:Ne.sibling=Ot,Ne=Ot);return t&&de.forEach(function(Mr){return r(U,Mr)}),Be&&Cs(U,_e),ce}function ye(U,M,z,X){if(z==null)throw Error(s(151));for(var ce=null,Ne=null,de=M,_e=M=0,Ot=null,je=z.next();de!==null&&!je.done;_e++,je=z.next()){de.index>_e?(Ot=de,de=null):Ot=de.sibling;var Mr=H(U,de,je.value,X);if(Mr===null){de===null&&(de=Ot);break}t&&de&&Mr.alternate===null&&r(U,de),M=d(Mr,M,_e),Ne===null?ce=Mr:Ne.sibling=Mr,Ne=Mr,de=Ot}if(je.done)return a(U,de),Be&&Cs(U,_e),ce;if(de===null){for(;!je.done;_e++,je=z.next())je=Z(U,je.value,X),je!==null&&(M=d(je,M,_e),Ne===null?ce=je:Ne.sibling=je,Ne=je);return Be&&Cs(U,_e),ce}for(de=l(de);!je.done;_e++,je=z.next())je=F(de,U,_e,je.value,X),je!==null&&(t&&je.alternate!==null&&de.delete(je.key===null?_e:je.key),M=d(je,M,_e),Ne===null?ce=je:Ne.sibling=je,Ne=je);return t&&de.forEach(function(fS){return r(U,fS)}),Be&&Cs(U,_e),ce}function Xe(U,M,z,X){if(typeof z=="object"&&z!==null&&z.type===L&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case A:e:{for(var ce=z.key;M!==null;){if(M.key===ce){if(ce=z.type,ce===L){if(M.tag===7){a(U,M.sibling),X=h(M,z.props.children),X.return=U,U=X;break e}}else if(M.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===S&&Iy(ce)===M.type){a(U,M.sibling),X=h(M,z.props),ll(X,z),X.return=U,U=X;break e}a(U,M);break}else r(U,M);M=M.sibling}z.type===L?(X=Rs(z.props.children,U.mode,X,z.key),X.return=U,U=X):(X=Fu(z.type,z.key,z.props,null,U.mode,X),ll(X,z),X.return=U,U=X)}return v(U);case P:e:{for(ce=z.key;M!==null;){if(M.key===ce)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(U,M.sibling),X=h(M,z.children||[]),X.return=U,U=X;break e}else{a(U,M);break}else r(U,M);M=M.sibling}X=Rf(z,U.mode,X),X.return=U,U=X}return v(U);case S:return ce=z._init,z=ce(z._payload),Xe(U,M,z,X)}if(at(z))return Ee(U,M,z,X);if(k(z)){if(ce=k(z),typeof ce!="function")throw Error(s(150));return z=ce.call(z),ye(U,M,z,X)}if(typeof z.then=="function")return Xe(U,M,oc(z),X);if(z.$$typeof===ne)return Xe(U,M,$u(U,z),X);lc(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(U,M.sibling),X=h(M,z),X.return=U,U=X):(a(U,M),X=Sf(z,U.mode,X),X.return=U,U=X),v(U)):a(U,M)}return function(U,M,z,X){try{ol=0;var ce=Xe(U,M,z,X);return Va=null,ce}catch(de){if(de===Zo||de===Xu)throw de;var Ne=dn(29,de,null,U.mode);return Ne.lanes=X,Ne.return=U,Ne}finally{}}}var Pa=Cy(!0),xy=Cy(!1),On=te(null),ci=null;function _r(t){var r=t.alternate;ie(St,St.current&1),ie(On,t),ci===null&&(r===null||Na.current!==null||r.memoizedState!==null)&&(ci=t)}function Ny(t){if(t.tag===22){if(ie(St,St.current),ie(On,t),ci===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(ci=t)}}else vr()}function vr(){ie(St,St.current),ie(On,On.current)}function Bi(t){oe(On),ci===t&&(ci=null),oe(St)}var St=te(0);function uc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||$d(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function sd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ad={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=yn(),h=pr(l);h.payload=r,a!=null&&(h.callback=a),r=gr(t,h,l),r!==null&&(_n(r,t,l),el(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=yn(),h=pr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=gr(t,h,l),r!==null&&(_n(r,t,l),el(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=yn(),l=pr(a);l.tag=2,r!=null&&(l.callback=r),r=gr(t,l,a),r!==null&&(_n(r,t,a),el(r,t,a))}};function Dy(t,r,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!Fo(a,l)||!Fo(h,d):!0}function Oy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&ad.enqueueReplaceState(r,r.state,null)}function Ps(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var cc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function My(t){cc(t)}function Vy(t){console.error(t)}function Py(t){cc(t)}function hc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function ky(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function od(t,r,a){return a=pr(a),a.tag=3,a.payload={element:null},a.callback=function(){hc(t,r)},a}function Ly(t){return t=pr(t),t.tag=3,t}function Uy(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){ky(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){ky(r,a,l),typeof h!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function fA(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Yo(r,a,h,!0),a=On.current,a!==null){switch(a.tag){case 13:return ci===null?Dd():a.alternate===null&&ut===0&&(ut=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===kf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Md(t,l,h)),!1;case 22:return a.flags|=65536,l===kf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Md(t,l,h)),!1}throw Error(s(435,a.tag))}return Md(t,l,h),Dd(),!1}if(Be)return r=On.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==xf&&(t=Error(s(422),{cause:l}),$o(Cn(t,a)))):(l!==xf&&(r=Error(s(423),{cause:l}),$o(Cn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Cn(l,a),h=od(t.stateNode,l,h),jf(t,h),ut!==4&&(ut=2)),!1;var d=Error(s(520),{cause:l});if(d=Cn(d,a),pl===null?pl=[d]:pl.push(d),ut!==4&&(ut=2),r===null)return!0;l=Cn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=od(a.stateNode,l,t),jf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Sr===null||!Sr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ly(h),Uy(h,t,a,l),jf(a,h),!1}a=a.return}while(a!==null);return!1}var jy=Error(s(461)),Nt=!1;function Ut(t,r,a,l){r.child=t===null?xy(r,null,a,l):Pa(r,t.child,a,l)}function zy(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Os(r),l=Ff(t,r,a,v,d,h),T=Gf(),t!==null&&!Nt?(Kf(t,r,h),qi(t,r,h)):(Be&&T&&If(r),r.flags|=1,Ut(t,r,l,h),r.child)}function By(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Af(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,qy(t,r,d,l,h)):(t=Fu(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!pd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Fo,a(v,l)&&t.ref===r.ref)return qi(t,r,h)}return r.flags|=1,t=Pi(d,l),t.ref=r.ref,t.return=r,r.child=t}function qy(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(Fo(d,l)&&t.ref===r.ref)if(Nt=!1,r.pendingProps=l=d,pd(t,h))(t.flags&131072)!==0&&(Nt=!0);else return r.lanes=t.lanes,qi(t,r,h)}return ld(t,r,a,l,h)}function Hy(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Fy(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(r,d!==null?d.cachePool:null),d!==null?qg(r,d):Bf(),Ny(r);else return r.lanes=r.childLanes=536870912,Fy(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Yu(r,d.cachePool),qg(r,d),vr(),r.memoizedState=null):(t!==null&&Yu(r,null),Bf(),vr());return Ut(t,r,h,a),r.child}function Fy(t,r,a,l){var h=Pf();return h=h===null?null:{parent:At._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&Yu(r,null),Bf(),Ny(r),t!==null&&Yo(t,r,l,!0),null}function fc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function ld(t,r,a,l,h){return Os(r),a=Ff(t,r,a,l,void 0,h),l=Gf(),t!==null&&!Nt?(Kf(t,r,h),qi(t,r,h)):(Be&&l&&If(r),r.flags|=1,Ut(t,r,a,h),r.child)}function Gy(t,r,a,l,h,d){return Os(r),r.updateQueue=null,a=Fg(r,l,a,h),Hg(t),l=Gf(),t!==null&&!Nt?(Kf(t,r,d),qi(t,r,d)):(Be&&l&&If(r),r.flags|=1,Ut(t,r,a,d),r.child)}function Ky(t,r,a,l,h){if(Os(r),r.stateNode===null){var d=Sa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Kt(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ad,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Lf(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Kt(v):Sa,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(sd(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&ad.enqueueReplaceState(d,d.state,null),nl(r,l,d,h),tl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,I=Ps(a,T);d.props=I;var B=d.context,Y=a.contextType;v=Sa,typeof Y=="object"&&Y!==null&&(v=Kt(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==v)&&Oy(r,d,l,v),mr=!1;var H=r.memoizedState;d.state=H,nl(r,l,d,h),tl(),B=r.memoizedState,T||H!==B||mr?(typeof Z=="function"&&(sd(r,a,Z,l),B=r.memoizedState),(I=mr||Dy(r,a,I,l,H,B,v))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=B),d.props=l,d.state=B,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Uf(t,r),v=r.memoizedProps,Y=Ps(a,v),d.props=Y,Z=r.pendingProps,H=d.context,B=a.contextType,I=Sa,typeof B=="object"&&B!==null&&(I=Kt(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||H!==I)&&Oy(r,d,l,I),mr=!1,H=r.memoizedState,d.state=H,nl(r,l,d,h),tl();var F=r.memoizedState;v!==Z||H!==F||mr||t!==null&&t.dependencies!==null&&Qu(t.dependencies)?(typeof T=="function"&&(sd(r,a,T,l),F=r.memoizedState),(Y=mr||Dy(r,a,Y,l,H,F,I)||t!==null&&t.dependencies!==null&&Qu(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=I,l=Y):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,fc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Pa(r,t.child,null,h),r.child=Pa(r,null,a,h)):Ut(t,r,a,h),r.memoizedState=d.state,t=r.child):t=qi(t,r,h),t}function Qy(t,r,a,l){return Qo(),r.flags|=256,Ut(t,r,a,l),r.child}var ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cd(t){return{baseLanes:t,cachePool:Vg()}}function hd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Mn),t}function $y(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Be){if(h?_r(r):vr(),Be){var T=lt,I;if(I=T){e:{for(I=T,T=ui;I.nodeType!==8;){if(!T){T=null;break e}if(I=Hn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(r.memoizedState={dehydrated:T,treeContext:Is!==null?{id:ki,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},I=dn(18,null,null,0),I.stateNode=T,I.return=r,r.child=I,tn=r,lt=null,I=!0):I=!1}I||Ns(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return $d(T)?r.lanes=32:r.lanes=536870912,null;Bi(r)}return T=l.children,l=l.fallback,h?(vr(),h=r.mode,T=dc({mode:"hidden",children:T},h),l=Rs(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=cd(a),h.childLanes=hd(t,v,a),r.memoizedState=ud,l):(_r(r),fd(r,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)r.flags&256?(_r(r),r.flags&=-257,r=dd(t,r,a)):r.memoizedState!==null?(vr(),r.child=t.child,r.flags|=128,r=null):(vr(),h=l.fallback,T=r.mode,l=dc({mode:"visible",children:l.children},T),h=Rs(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Pa(r,t.child,null,a),l=r.child,l.memoizedState=cd(a),l.childLanes=hd(t,v,a),r.memoizedState=ud,r=h);else if(_r(r),$d(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,$o({value:l,source:null,stack:null}),r=dd(t,r,a)}else if(Nt||Yo(t,r,a,!1),v=(a&t.childLanes)!==0,Nt||v){if(v=Je,v!==null&&(l=a&-a,l=(l&42)!==0?1:ar(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Aa(t,l),_n(v,t,l),jy;T.data==="$?"||Dd(),r=dd(t,r,a)}else T.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,lt=Hn(T.nextSibling),tn=r,Be=!0,xs=null,ui=!1,t!==null&&(Nn[Dn++]=ki,Nn[Dn++]=Li,Nn[Dn++]=Is,ki=t.id,Li=t.overflow,Is=r),r=fd(r,l.children),r.flags|=4096);return r}return h?(vr(),h=l.fallback,T=r.mode,I=t.child,B=I.sibling,l=Pi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,B!==null?h=Pi(B,h):(h=Rs(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=t.child.memoizedState,T===null?T=cd(a):(I=T.cachePool,I!==null?(B=At._currentValue,I=I.parent!==B?{parent:B,pool:B}:I):I=Vg(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=hd(t,v,a),r.memoizedState=ud,l):(_r(r),a=t.child,t=a.sibling,a=Pi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function fd(t,r){return r=dc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function dc(t,r){return t=dn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function dd(t,r,a){return Pa(r,t.child,null,a),t=fd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Yy(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Df(t.return,r,a)}function md(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Xy(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Ut(t,r,l.children,a),l=St.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yy(t,a,r);else if(t.tag===19)Yy(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ie(St,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&uc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),md(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&uc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}md(r,!0,a,null,d);break;case"together":md(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function qi(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Ar|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Yo(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Pi(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Pi(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function pd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Qu(t)))}function dA(t,r,a){switch(r.tag){case 3:Ze(r,r.stateNode.containerInfo),dr(r,At,t.memoizedState.cache),Qo();break;case 27:case 5:sr(r);break;case 4:Ze(r,r.stateNode.containerInfo);break;case 10:dr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(_r(r),r.flags|=128,null):(a&r.child.childLanes)!==0?$y(t,r,a):(_r(r),t=qi(t,r,a),t!==null?t.sibling:null);_r(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Yo(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return Xy(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(St,St.current),l)break;return null;case 22:case 23:return r.lanes=0,Hy(t,r,a);case 24:dr(r,At,t.memoizedState.cache)}return qi(t,r,a)}function Wy(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Nt=!0;else{if(!pd(t,a)&&(r.flags&128)===0)return Nt=!1,dA(t,r,a);Nt=(t.flags&131072)!==0}else Nt=!1,Be&&(r.flags&1048576)!==0&&Ig(r,Ku,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Af(l)?(t=Ps(l,t),r.tag=1,r=Ky(null,r,l,t,a)):(r.tag=0,r=ld(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===fe){r.tag=11,r=zy(null,r,l,t,a);break e}else if(h===V){r.tag=14,r=By(null,r,l,t,a);break e}}throw r=Pt(l)||l,Error(s(306,r,""))}}return r;case 0:return ld(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Ps(l,r.pendingProps),Ky(t,r,l,h,a);case 3:e:{if(Ze(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Uf(t,r),nl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,dr(r,At,l),l!==d.cache&&Of(r,[At],a,!0),tl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Qy(t,r,l,a);break e}else if(l!==h){h=Cn(Error(s(424)),r),$o(h),r=Qy(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(lt=Hn(t.firstChild),tn=r,Be=!0,xs=null,ui=!0,a=xy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Qo(),l===h){r=qi(t,r,a);break e}Ut(t,r,l,a)}r=r.child}return r;case 26:return fc(t,r),t===null?(a=tv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Be||(a=r.type,t=r.pendingProps,l=Ic(be.current).createElement(a),l[Tt]=r,l[mt]=t,zt(l,a,t),ct(l),r.stateNode=l):r.memoizedState=tv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return sr(r),t===null&&Be&&(l=r.stateNode=Z_(r.type,r.pendingProps,be.current),tn=r,ui=!0,h=lt,Cr(r.type)?(Yd=h,lt=Hn(l.firstChild)):lt=h),Ut(t,r,r.pendingProps.children,a),fc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Be&&((h=l=lt)&&(l=BA(l,r.type,r.pendingProps,ui),l!==null?(r.stateNode=l,tn=r,lt=Hn(l.firstChild),ui=!1,h=!0):h=!1),h||Ns(r)),sr(r),h=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Gd(h,d)?l=null:v!==null&&Gd(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=Ff(t,r,sA,null,null,a),Al._currentValue=h),fc(t,r),Ut(t,r,l,a),r.child;case 6:return t===null&&Be&&((t=a=lt)&&(a=qA(a,r.pendingProps,ui),a!==null?(r.stateNode=a,tn=r,lt=null,t=!0):t=!1),t||Ns(r)),null;case 13:return $y(t,r,a);case 4:return Ze(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Pa(r,null,l,a):Ut(t,r,l,a),r.child;case 11:return zy(t,r,r.type,r.pendingProps,a);case 7:return Ut(t,r,r.pendingProps,a),r.child;case 8:return Ut(t,r,r.pendingProps.children,a),r.child;case 12:return Ut(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,dr(r,r.type,l.value),Ut(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Os(r),h=Kt(h),l=l(h),r.flags|=1,Ut(t,r,l,a),r.child;case 14:return By(t,r,r.type,r.pendingProps,a);case 15:return qy(t,r,r.type,r.pendingProps,a);case 19:return Xy(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=dc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Pi(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Hy(t,r,a);case 24:return Os(r),l=Kt(At),t===null?(h=Pf(),h===null&&(h=Je,d=Mf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Lf(r),dr(r,At,h)):((t.lanes&a)!==0&&(Uf(t,r),nl(r,null,null,a),tl()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),dr(r,At,l)):(l=d.cache,dr(r,At,l),l!==h.cache&&Of(r,[At],a,!0))),Ut(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Hi(t){t.flags|=4}function Zy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!av(r)){if(r=On.current,r!==null&&((Le&4194048)===Le?ci!==null:(Le&62914560)!==Le&&(Le&536870912)===0||r!==ci))throw Jo=kf,Pg;t.flags|=8192}}function mc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Ro():536870912,t.lanes|=r,ja|=r)}function ul(t,r){if(!Be)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function mA(t,r,a){var l=r.pendingProps;switch(Cf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(r),null;case 1:return it(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ji(At),Wn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ko(r)?Hi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ng())),it(r),null;case 26:return a=r.memoizedState,t===null?(Hi(r),a!==null?(it(r),Zy(r,a)):(it(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Hi(r),it(r),Zy(r,a)):(it(r),r.flags&=-16777217):(t.memoizedProps!==l&&Hi(r),it(r),r.flags&=-16777217),null;case 27:bi(r),a=be.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Hi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return it(r),null}t=ge.current,Ko(r)?Cg(r):(t=Z_(h,l,a),r.stateNode=t,Hi(r))}return it(r),null;case 5:if(bi(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Hi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return it(r),null}if(t=ge.current,Ko(r))Cg(r);else{switch(h=Ic(be.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Tt]=r,t[mt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(zt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Hi(r)}}return it(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Hi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=be.current,Ko(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Tt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||G_(t.nodeValue,a)),t||Ns(r)}else t=Ic(t).createTextNode(l),t[Tt]=r,r.stateNode=t}return it(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ko(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Tt]=r}else Qo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;it(r),h=!1}else h=Ng(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Bi(r),r):(Bi(r),null)}if(Bi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),mc(r,r.updateQueue),it(r),null;case 4:return Wn(),t===null&&zd(r.stateNode.containerInfo),it(r),null;case 10:return ji(r.type),it(r),null;case 19:if(oe(St),h=r.memoizedState,h===null)return it(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)ul(h,!1);else{if(ut!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=uc(t),d!==null){for(r.flags|=128,ul(h,!1),t=d.updateQueue,r.updateQueue=t,mc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Rg(a,t),a=a.sibling;return ie(St,St.current&1|2),r.child}t=t.sibling}h.tail!==null&&bn()>yc&&(r.flags|=128,l=!0,ul(h,!1),r.lanes=4194304)}else{if(!l)if(t=uc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,mc(r,t),ul(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return it(r),null}else 2*bn()-h.renderingStartTime>yc&&a!==536870912&&(r.flags|=128,l=!0,ul(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=bn(),r.sibling=null,t=St.current,ie(St,l?t&1|2:t&1),r):(it(r),null);case 22:case 23:return Bi(r),qf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(it(r),r.subtreeFlags&6&&(r.flags|=8192)):it(r),a=r.updateQueue,a!==null&&mc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&oe(Ms),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ji(At),it(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function pA(t,r){switch(Cf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ji(At),Wn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return bi(r),null;case 13:if(Bi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Qo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return oe(St),null;case 4:return Wn(),null;case 10:return ji(r.type),null;case 22:case 23:return Bi(r),qf(),t!==null&&oe(Ms),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return ji(At),null;case 25:return null;default:return null}}function Jy(t,r){switch(Cf(r),r.tag){case 3:ji(At),Wn();break;case 26:case 27:case 5:bi(r);break;case 4:Wn();break;case 13:Bi(r);break;case 19:oe(St);break;case 10:ji(r.type);break;case 22:case 23:Bi(r),qf(),t!==null&&oe(Ms);break;case 24:ji(At)}}function cl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){We(r,r.return,T)}}function Er(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=r;var I=a,B=T;try{B()}catch(Y){We(h,I,Y)}}}l=l.next}while(l!==d)}}catch(Y){We(r,r.return,Y)}}function e_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Bg(r,a)}catch(l){We(t,t.return,l)}}}function t_(t,r,a){a.props=Ps(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,r,l)}}function hl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,r,h)}}function hi(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,r,h)}else a.current=null}function n_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function gd(t,r,a){try{var l=t.stateNode;kA(l,t.type,a,r),l[mt]=r}catch(h){We(t,t.return,h)}}function i_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Cr(t.type)||t.tag===4}function yd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||i_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Cr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _d(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Rc));else if(l!==4&&(l===27&&Cr(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(_d(t,r,a),t=t.sibling;t!==null;)_d(t,r,a),t=t.sibling}function pc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Cr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(pc(t,r,a),t=t.sibling;t!==null;)pc(t,r,a),t=t.sibling}function r_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);zt(r,l,a),r[Tt]=t,r[mt]=a}catch(d){We(t,t.return,d)}}var Fi=!1,ft=!1,vd=!1,s_=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function gA(t,r){if(t=t.containerInfo,Hd=Mc,t=gg(t),yf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,I=-1,B=0,Y=0,Z=t,H=null;t:for(;;){for(var F;Z!==a||h!==0&&Z.nodeType!==3||(T=v+h),Z!==d||l!==0&&Z.nodeType!==3||(I=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(F=Z.firstChild)!==null;)H=Z,Z=F;for(;;){if(Z===t)break t;if(H===a&&++B===h&&(T=v),H===d&&++Y===l&&(I=v),(F=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=F}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Fd={focusedElem:t,selectionRange:a},Mc=!1,Dt=r;Dt!==null;)if(r=Dt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Dt=t;else for(;Dt!==null;){switch(r=Dt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ee=Ps(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ee,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){We(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Qd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Dt=t;break}Dt=r.return}}function a_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Tr(t,a),l&4&&cl(5,a);break;case 1:if(Tr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){We(a,a.return,v)}else{var h=Ps(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}l&64&&e_(a),l&512&&hl(a,a.return);break;case 3:if(Tr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Bg(t,r)}catch(v){We(a,a.return,v)}}break;case 27:r===null&&l&4&&r_(a);case 26:case 5:Tr(t,a),r===null&&l&4&&n_(a),l&512&&hl(a,a.return);break;case 12:Tr(t,a);break;case 13:Tr(t,a),l&4&&u_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=SA.bind(null,a),HA(t,a))));break;case 22:if(l=a.memoizedState!==null||Fi,!l){r=r!==null&&r.memoizedState!==null||ft,h=Fi;var d=ft;Fi=l,(ft=r)&&!d?br(t,a,(a.subtreeFlags&8772)!==0):Tr(t,a),Fi=h,ft=d}break;case 30:break;default:Tr(t,a)}}function o_(t){var r=t.alternate;r!==null&&(t.alternate=null,o_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&ur(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var nt=null,sn=!1;function Gi(t,r,a){for(a=a.child;a!==null;)l_(t,r,a),a=a.sibling}function l_(t,r,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(ot,a)}catch{}switch(a.tag){case 26:ft||hi(a,r),Gi(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ft||hi(a,r);var l=nt,h=sn;Cr(a.type)&&(nt=a.stateNode,sn=!1),Gi(t,r,a),El(a.stateNode),nt=l,sn=h;break;case 5:ft||hi(a,r);case 6:if(l=nt,h=sn,nt=null,Gi(t,r,a),nt=l,sn=h,nt!==null)if(sn)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(a.stateNode)}catch(d){We(a,r,d)}else try{nt.removeChild(a.stateNode)}catch(d){We(a,r,d)}break;case 18:nt!==null&&(sn?(t=nt,X_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Cl(t)):X_(nt,a.stateNode));break;case 4:l=nt,h=sn,nt=a.stateNode.containerInfo,sn=!0,Gi(t,r,a),nt=l,sn=h;break;case 0:case 11:case 14:case 15:ft||Er(2,a,r),ft||Er(4,a,r),Gi(t,r,a);break;case 1:ft||(hi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&t_(a,r,l)),Gi(t,r,a);break;case 21:Gi(t,r,a);break;case 22:ft=(l=ft)||a.memoizedState!==null,Gi(t,r,a),ft=l;break;default:Gi(t,r,a)}}function u_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(a){We(r,r.return,a)}}function yA(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new s_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new s_),r;default:throw Error(s(435,t.tag))}}function Ed(t,r){var a=yA(t);r.forEach(function(l){var h=RA.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function mn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Cr(T.type)){nt=T.stateNode,sn=!1;break e}break;case 5:nt=T.stateNode,sn=!1;break e;case 3:case 4:nt=T.stateNode.containerInfo,sn=!0;break e}T=T.return}if(nt===null)throw Error(s(160));l_(d,v,h),nt=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)c_(r,t),r=r.sibling}var qn=null;function c_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(r,t),pn(t),l&4&&(Er(3,t,t.return),cl(3,t),Er(5,t,t.return));break;case 1:mn(r,t),pn(t),l&512&&(ft||a===null||hi(a,a.return)),l&64&&Fi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=qn;if(mn(r,t),pn(t),l&512&&(ft||a===null||hi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[cs]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),zt(d,l,a),d[Tt]=t,ct(d),l=d;break e;case"link":var v=rv("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=rv("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Tt]=t,ct(d),l=d}t.stateNode=l}else sv(h,t.type,t.stateNode);else t.stateNode=iv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?sv(h,t.type,t.stateNode):iv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&gd(t,t.memoizedProps,a.memoizedProps)}break;case 27:mn(r,t),pn(t),l&512&&(ft||a===null||hi(a,a.return)),a!==null&&l&4&&gd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(mn(r,t),pn(t),l&512&&(ft||a===null||hi(a,a.return)),t.flags&32){h=t.stateNode;try{An(h,"")}catch(F){We(t,t.return,F)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,gd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(vd=!0);break;case 6:if(mn(r,t),pn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(F){We(t,t.return,F)}}break;case 3:if(Nc=null,h=qn,qn=Cc(r.containerInfo),mn(r,t),qn=h,pn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Cl(r.containerInfo)}catch(F){We(t,t.return,F)}vd&&(vd=!1,h_(t));break;case 4:l=qn,qn=Cc(t.stateNode.containerInfo),mn(r,t),pn(t),qn=l;break;case 12:mn(r,t),pn(t);break;case 13:mn(r,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rd=bn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ed(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,B=Fi,Y=ft;if(Fi=B||h,ft=Y||I,mn(r,t),ft=Y,Fi=B,pn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||I||Fi||ft||ks(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var Z=I.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(F){We(I,I.return,F)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(F){We(I,I.return,F)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ed(t,a))));break;case 19:mn(r,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ed(t,l)));break;case 30:break;case 21:break;default:mn(r,t),pn(t)}}function pn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(i_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=yd(t);pc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(An(v,""),a.flags&=-33);var T=yd(t);pc(t,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,B=yd(t);_d(t,B,I);break;default:throw Error(s(161))}}catch(Y){We(t,t.return,Y)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function h_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;h_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Tr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)a_(t,r.alternate,r),r=r.sibling}function ks(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Er(4,r,r.return),ks(r);break;case 1:hi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&t_(r,r.return,a),ks(r);break;case 27:El(r.stateNode);case 26:case 5:hi(r,r.return),ks(r);break;case 22:r.memoizedState===null&&ks(r);break;case 30:ks(r);break;default:ks(r)}t=t.sibling}}function br(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:br(h,d,a),cl(4,d);break;case 1:if(br(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){We(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)zg(I[h],T)}catch(B){We(l,l.return,B)}}a&&v&64&&e_(d),hl(d,d.return);break;case 27:r_(d);case 26:case 5:br(h,d,a),a&&l===null&&v&4&&n_(d),hl(d,d.return);break;case 12:br(h,d,a);break;case 13:br(h,d,a),a&&v&4&&u_(h,d);break;case 22:d.memoizedState===null&&br(h,d,a),hl(d,d.return);break;case 30:break;default:br(h,d,a)}r=r.sibling}}function Td(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Xo(a))}function bd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Xo(t))}function fi(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)f_(t,r,a,l),r=r.sibling}function f_(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:fi(t,r,a,l),h&2048&&cl(9,r);break;case 1:fi(t,r,a,l);break;case 3:fi(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Xo(t)));break;case 12:if(h&2048){fi(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){We(r,r.return,I)}}else fi(t,r,a,l);break;case 13:fi(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?fi(t,r,a,l):fl(t,r):d._visibility&2?fi(t,r,a,l):(d._visibility|=2,ka(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&Td(v,r);break;case 24:fi(t,r,a,l),h&2048&&bd(r.alternate,r);break;default:fi(t,r,a,l)}}function ka(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,v=r,T=a,I=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:ka(d,v,T,I,h),cl(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?ka(d,v,T,I,h):fl(d,v):(Y._visibility|=2,ka(d,v,T,I,h)),h&&B&2048&&Td(v.alternate,v);break;case 24:ka(d,v,T,I,h),h&&B&2048&&bd(v.alternate,v);break;default:ka(d,v,T,I,h)}r=r.sibling}}function fl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:fl(a,l),h&2048&&Td(l.alternate,l);break;case 24:fl(a,l),h&2048&&bd(l.alternate,l);break;default:fl(a,l)}r=r.sibling}}var dl=8192;function La(t){if(t.subtreeFlags&dl)for(t=t.child;t!==null;)d_(t),t=t.sibling}function d_(t){switch(t.tag){case 26:La(t),t.flags&dl&&t.memoizedState!==null&&nS(qn,t.memoizedState,t.memoizedProps);break;case 5:La(t);break;case 3:case 4:var r=qn;qn=Cc(t.stateNode.containerInfo),La(t),qn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=dl,dl=16777216,La(t),dl=r):La(t));break;default:La(t)}}function m_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function ml(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Dt=l,g_(l,t)}m_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)p_(t),t=t.sibling}function p_(t){switch(t.tag){case 0:case 11:case 15:ml(t),t.flags&2048&&Er(9,t,t.return);break;case 3:ml(t);break;case 12:ml(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,gc(t)):ml(t);break;default:ml(t)}}function gc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Dt=l,g_(l,t)}m_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Er(8,r,r.return),gc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,gc(r));break;default:gc(r)}t=t.sibling}}function g_(t,r){for(;Dt!==null;){var a=Dt;switch(a.tag){case 0:case 11:case 15:Er(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Xo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Dt=l;else e:for(a=t;Dt!==null;){l=Dt;var h=l.sibling,d=l.return;if(o_(l),l===a){Dt=null;break e}if(h!==null){h.return=d,Dt=h;break e}Dt=d}}}var _A={getCacheForType:function(t){var r=Kt(At),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},vA=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Je=null,De=null,Le=0,Ke=0,gn=null,wr=!1,Ua=!1,wd=!1,Ki=0,ut=0,Ar=0,Ls=0,Ad=0,Mn=0,ja=0,pl=null,an=null,Sd=!1,Rd=0,yc=1/0,_c=null,Sr=null,jt=0,Rr=null,za=null,Ba=0,Id=0,Cd=null,y_=null,gl=0,xd=null;function yn(){if((Ge&2)!==0&&Le!==0)return Le&-Le;if($.T!==null){var t=Ca;return t!==0?t:kd()}return or()}function __(){Mn===0&&(Mn=(Le&536870912)===0||Be?So():536870912);var t=On.current;return t!==null&&(t.flags|=32),Mn}function _n(t,r,a){(t===Je&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(qa(t,0),Ir(t,Le,Mn,!1)),Ai(t,a),((Ge&2)===0||t!==Je)&&(t===Je&&((Ge&2)===0&&(Ls|=a),ut===4&&Ir(t,Le,Mn,!1)),di(t))}function v_(t,r,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||us(t,r),h=l?bA(t,r):Od(t,r,!0),d=l;do{if(h===0){Ua&&!l&&Ir(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!EA(a)){h=Od(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var T=t;h=pl;var I=T.current.memoizedState.isDehydrated;if(I&&(qa(T,v).flags|=256),v=Od(T,v,!1),v!==2){if(wd&&!I){T.errorRecoveryDisabledLanes|=d,Ls|=d,h=4;break e}d=an,an=h,d!==null&&(an===null?an=d:an.push.apply(an,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){qa(t,0),Ir(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ir(l,r,Mn,!wr);break e;case 2:an=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Rd+300-bn(),10<h)){if(Ir(l,r,Mn,!wr),sa(l,0,!0)!==0)break e;l.timeoutHandle=$_(E_.bind(null,l,a,an,_c,Sd,r,Mn,Ls,ja,wr,d,2,-0,0),h);break e}E_(l,a,an,_c,Sd,r,Mn,Ls,ja,wr,d,0,-0,0)}}break}while(!0);di(t)}function E_(t,r,a,l,h,d,v,T,I,B,Y,Z,H,F){if(t.timeoutHandle=-1,Z=r.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(wl={stylesheets:null,count:0,unsuspend:tS},d_(r),Z=iS(),Z!==null)){t.cancelPendingCommit=Z(I_.bind(null,t,r,d,a,l,h,v,T,I,Y,1,H,F)),Ir(t,d,v,!B);return}I_(t,r,d,a,l,h,v,T,I)}function EA(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!fn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ir(t,r,a,l){r&=~Ad,r&=~Ls,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Gt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Zn(t,a,r)}function vc(){return(Ge&6)===0?(yl(0),!1):!0}function Nd(){if(De!==null){if(Ke===0)var t=De.return;else t=De,Ui=Ds=null,Qf(t),Va=null,ol=0,t=De;for(;t!==null;)Jy(t.alternate,t),t=t.return;De=null}}function qa(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,UA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Nd(),Je=t,De=a=Pi(t.current,null),Le=r,Ke=0,gn=null,wr=!1,Ua=us(t,r),wd=!1,ja=Mn=Ad=Ls=Ar=ut=0,an=pl=null,Sd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Gt(l),d=1<<h;r|=t[h],l&=~d}return Ki=r,Bu(),a}function T_(t,r){Ie=null,$.H=ac,r===Zo||r===Xu?(r=Ug(),Ke=3):r===Pg?(r=Ug(),Ke=4):Ke=r===jy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,gn=r,De===null&&(ut=1,hc(t,Cn(r,t.current)))}function b_(){var t=$.H;return $.H=ac,t===null?ac:t}function w_(){var t=$.A;return $.A=_A,t}function Dd(){ut=4,wr||(Le&4194048)!==Le&&On.current!==null||(Ua=!0),(Ar&134217727)===0&&(Ls&134217727)===0||Je===null||Ir(Je,Le,Mn,!1)}function Od(t,r,a){var l=Ge;Ge|=2;var h=b_(),d=w_();(Je!==t||Le!==r)&&(_c=null,qa(t,r)),r=!1;var v=ut;e:do try{if(Ke!==0&&De!==null){var T=De,I=gn;switch(Ke){case 8:Nd(),v=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(r=!0);var B=Ke;if(Ke=0,gn=null,Ha(t,T,I,B),a&&Ua){v=0;break e}break;default:B=Ke,Ke=0,gn=null,Ha(t,T,I,B)}}TA(),v=ut;break}catch(Y){T_(t,Y)}while(!0);return r&&t.shellSuspendCounter++,Ui=Ds=null,Ge=l,$.H=h,$.A=d,De===null&&(Je=null,Le=0,Bu()),v}function TA(){for(;De!==null;)A_(De)}function bA(t,r){var a=Ge;Ge|=2;var l=b_(),h=w_();Je!==t||Le!==r?(_c=null,yc=bn()+500,qa(t,r)):Ua=us(t,r);e:do try{if(Ke!==0&&De!==null){r=De;var d=gn;t:switch(Ke){case 1:Ke=0,gn=null,Ha(t,r,d,1);break;case 2:case 9:if(kg(d)){Ke=0,gn=null,S_(r);break}r=function(){Ke!==2&&Ke!==9||Je!==t||(Ke=7),di(t)},d.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:kg(d)?(Ke=0,gn=null,S_(r)):(Ke=0,gn=null,Ha(t,r,d,7));break;case 5:var v=null;switch(De.tag){case 26:v=De.memoizedState;case 5:case 27:var T=De;if(!v||av(v)){Ke=0,gn=null;var I=T.sibling;if(I!==null)De=I;else{var B=T.return;B!==null?(De=B,Ec(B)):De=null}break t}}Ke=0,gn=null,Ha(t,r,d,5);break;case 6:Ke=0,gn=null,Ha(t,r,d,6);break;case 8:Nd(),ut=6;break e;default:throw Error(s(462))}}wA();break}catch(Y){T_(t,Y)}while(!0);return Ui=Ds=null,$.H=l,$.A=h,Ge=a,De!==null?0:(Je=null,Le=0,Bu(),ut)}function wA(){for(;De!==null&&!To();)A_(De)}function A_(t){var r=Wy(t.alternate,t,Ki);t.memoizedProps=t.pendingProps,r===null?Ec(t):De=r}function S_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Gy(a,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=Gy(a,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:Qf(r);default:Jy(a,r),r=De=Rg(r,Ki),r=Wy(a,r,Ki)}t.memoizedProps=t.pendingProps,r===null?Ec(t):De=r}function Ha(t,r,a,l){Ui=Ds=null,Qf(r),Va=null,ol=0;var h=r.return;try{if(fA(t,h,r,a,Le)){ut=1,hc(t,Cn(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ut=1,hc(t,Cn(a,t.current)),De=null;return}r.flags&32768?(Be||l===1?t=!0:Ua||(Le&536870912)!==0?t=!1:(wr=t=!0,(l===2||l===9||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),R_(r,t)):Ec(r)}function Ec(t){var r=t;do{if((r.flags&32768)!==0){R_(r,wr);return}t=r.return;var a=mA(r.alternate,r,Ki);if(a!==null){De=a;return}if(r=r.sibling,r!==null){De=r;return}De=r=t}while(r!==null);ut===0&&(ut=5)}function R_(t,r){do{var a=pA(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ut=6,De=null}function I_(t,r,a,l,h,d,v,T,I){t.cancelPendingCommit=null;do Tc();while(jt!==0);if((Ge&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=bf,Io(t,a,d,v,T,I),t===Je&&(De=Je=null,Le=0),za=r,Rr=t,Ba=a,Id=d,Cd=h,y_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,IA(ss,function(){return O_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=ae.p,ae.p=2,v=Ge,Ge|=4;try{gA(t,r,a)}finally{Ge=v,ae.p=h,$.T=l}}jt=1,C_(),x_(),N_()}}function C_(){if(jt===1){jt=0;var t=Rr,r=za,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{c_(r,t);var d=Fd,v=gg(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&pg(T.ownerDocument.documentElement,T)){if(I!==null&&yf(T)){var B=I.start,Y=I.end;if(Y===void 0&&(Y=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(Y,T.value.length);else{var Z=T.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var F=H.getSelection(),Ee=T.textContent.length,ye=Math.min(I.start,Ee),Xe=I.end===void 0?ye:Math.min(I.end,Ee);!F.extend&&ye>Xe&&(v=Xe,Xe=ye,ye=v);var U=mg(T,ye),M=mg(T,Xe);if(U&&M&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var z=Z.createRange();z.setStart(U.node,U.offset),F.removeAllRanges(),ye>Xe?(F.addRange(z),F.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),F.addRange(z))}}}}for(Z=[],F=T;F=F.parentNode;)F.nodeType===1&&Z.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var X=Z[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Mc=!!Hd,Fd=Hd=null}finally{Ge=h,ae.p=l,$.T=a}}t.current=r,jt=2}}function x_(){if(jt===2){jt=0;var t=Rr,r=za,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{a_(t,r.alternate,r)}finally{Ge=h,ae.p=l,$.T=a}}jt=3}}function N_(){if(jt===4||jt===3){jt=0,gu();var t=Rr,r=za,a=Ba,l=y_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?jt=5:(jt=0,za=Rr=null,D_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Sr=null),aa(a),r=r.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(ot,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=$.T,h=ae.p,ae.p=2,$.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{$.T=r,ae.p=h}}(Ba&3)!==0&&Tc(),di(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===xd?gl++:(gl=0,xd=t):gl=0,yl(0)}}function D_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Xo(r)))}function Tc(t){return C_(),x_(),N_(),O_()}function O_(){if(jt!==5)return!1;var t=Rr,r=Id;Id=0;var a=aa(Ba),l=$.T,h=ae.p;try{ae.p=32>a?32:a,$.T=null,a=Cd,Cd=null;var d=Rr,v=Ba;if(jt=0,za=Rr=null,Ba=0,(Ge&6)!==0)throw Error(s(331));var T=Ge;if(Ge|=4,p_(d.current),f_(d,d.current,v,a),Ge=T,yl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(ot,d)}catch{}return!0}finally{ae.p=h,$.T=l,D_(t,r)}}function M_(t,r,a){r=Cn(a,r),r=od(t.stateNode,r,2),t=gr(t,r,2),t!==null&&(Ai(t,2),di(t))}function We(t,r,a){if(t.tag===3)M_(t,t,a);else for(;r!==null;){if(r.tag===3){M_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Sr===null||!Sr.has(l))){t=Cn(a,t),a=Ly(2),l=gr(r,a,2),l!==null&&(Uy(a,l,r,t),Ai(l,2),di(l));break}}r=r.return}}function Md(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new vA;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(wd=!0,h.add(a),t=AA.bind(null,t,r,a),r.then(t,t))}function AA(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(Le&a)===a&&(ut===4||ut===3&&(Le&62914560)===Le&&300>bn()-Rd?(Ge&2)===0&&qa(t,0):Ad|=a,ja===Le&&(ja=0)),di(t)}function V_(t,r){r===0&&(r=Ro()),t=Aa(t,r),t!==null&&(Ai(t,r),di(t))}function SA(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),V_(t,a)}function RA(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),V_(t,a)}function IA(t,r){return is(t,r)}var bc=null,Fa=null,Vd=!1,wc=!1,Pd=!1,Us=0;function di(t){t!==Fa&&t.next===null&&(Fa===null?bc=Fa=t:Fa=Fa.next=t),wc=!0,Vd||(Vd=!0,xA())}function yl(t,r){if(!Pd&&wc){Pd=!0;do for(var a=!1,l=bc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Gt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,U_(l,d))}else d=Le,d=sa(l,l===Je?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||us(l,d)||(a=!0,U_(l,d));l=l.next}while(a);Pd=!1}}function CA(){P_()}function P_(){wc=Vd=!1;var t=0;Us!==0&&(LA()&&(t=Us),Us=0);for(var r=bn(),a=null,l=bc;l!==null;){var h=l.next,d=k_(l,r);d===0?(l.next=null,a===null?bc=h:a.next=h,h===null&&(Fa=a)):(a=l,(t!==0||(d&3)!==0)&&(wc=!0)),l=h}yl(t)}function k_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Gt(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Ao(T,r)):I<=r&&(t.expiredLanes|=T),d&=~T}if(r=Je,a=Le,a=sa(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&rs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||us(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&rs(l),aa(a)){case 2:case 8:a=ia;break;case 32:a=ss;break;case 268435456:a=ra;break;default:a=ss}return l=L_.bind(null,t),a=is(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&rs(l),t.callbackPriority=2,t.callbackNode=null,2}function L_(t,r){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Tc()&&t.callbackNode!==a)return null;var l=Le;return l=sa(t,t===Je?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(v_(t,l,r),k_(t,bn()),t.callbackNode!=null&&t.callbackNode===a?L_.bind(null,t):null)}function U_(t,r){if(Tc())return null;v_(t,r,!0)}function xA(){jA(function(){(Ge&6)!==0?is(bo,CA):P_()})}function kd(){return Us===0&&(Us=So()),Us}function j_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:fa(""+t)}function z_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function NA(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=j_((h[mt]||null).action),v=l.submitter;v&&(r=(r=v[mt]||null)?j_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new da("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Us!==0){var I=v?z_(h,v):new FormData(h);nd(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?z_(h,v):new FormData(h),nd(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Ld=0;Ld<Tf.length;Ld++){var Ud=Tf[Ld],DA=Ud.toLowerCase(),OA=Ud[0].toUpperCase()+Ud.slice(1);Bn(DA,"on"+OA)}Bn(vg,"onAnimationEnd"),Bn(Eg,"onAnimationIteration"),Bn(Tg,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(Yw,"onTransitionRun"),Bn(Xw,"onTransitionStart"),Bn(Ww,"onTransitionCancel"),Bn(bg,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function B_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,B=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(Y){cc(Y)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,B=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(Y){cc(Y)}h.currentTarget=null,d=I}}}}function Oe(t,r){var a=r[xo];a===void 0&&(a=r[xo]=new Set);var l=t+"__bubble";a.has(l)||(q_(r,t,2,!1),a.add(l))}function jd(t,r,a){var l=0;r&&(l|=4),q_(a,t,l,r)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function zd(t){if(!t[Ac]){t[Ac]=!0,No.forEach(function(a){a!=="selectionchange"&&(MA.has(a)||jd(a,!1,t),jd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ac]||(r[Ac]=!0,jd("selectionchange",!1,r))}}function q_(t,r,a,l){switch(fv(r)){case 2:var h=aS;break;case 8:h=oS;break;default:h=em}a=h.bind(null,r,a,t),h=void 0,!Rn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Bd(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Si(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Ru(function(){var B=d,Y=Sn(a),Z=[];e:{var H=wg.get(t);if(H!==void 0){var F=da,Ee=t;switch(t){case"keypress":if(ri(a)===0)break e;case"keydown":case"keyup":F=va;break;case"focusin":Ee="focus",F=ga;break;case"focusout":Ee="blur",F=ga;break;case"beforeblur":case"afterblur":F=ga;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=In;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Vu;break;case vg:case Eg:case Tg:F=ya;break;case bg:F=ku;break;case"scroll":case"scrollend":F=Iu;break;case"wheel":F=Ea;break;case"copy":case"cut":case"paste":F=_a;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=qo;break;case"toggle":case"beforetoggle":F=Uu}var ye=(r&4)!==0,Xe=!ye&&(t==="scroll"||t==="scrollend"),U=ye?H!==null?H+"Capture":null:H;ye=[];for(var M=B,z;M!==null;){var X=M;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||U===null||(X=ys(M,U),X!=null&&ye.push(vl(M,X,z))),Xe)break;M=M.return}0<ye.length&&(H=new F(H,Ee,null,a,Y),Z.push({event:H,listeners:ye}))}}if((r&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",H&&a!==xi&&(Ee=a.relatedTarget||a.fromElement)&&(Si(Ee)||Ee[wn]))break e;if((F||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,F?(Ee=a.relatedTarget||a.toElement,F=B,Ee=Ee?Si(Ee):null,Ee!==null&&(Xe=u(Ee),ye=Ee.tag,Ee!==Xe||ye!==5&&ye!==27&&ye!==6)&&(Ee=null)):(F=null,Ee=B),F!==Ee)){if(ye=In,X="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ye=qo,X="onPointerLeave",U="onPointerEnter",M="pointer"),Xe=F==null?H:ei(F),z=Ee==null?H:ei(Ee),H=new ye(X,M+"leave",F,a,Y),H.target=Xe,H.relatedTarget=z,X=null,Si(Y)===B&&(ye=new ye(U,M+"enter",Ee,a,Y),ye.target=z,ye.relatedTarget=Xe,X=ye),Xe=X,F&&Ee)t:{for(ye=F,U=Ee,M=0,z=ye;z;z=Ga(z))M++;for(z=0,X=U;X;X=Ga(X))z++;for(;0<M-z;)ye=Ga(ye),M--;for(;0<z-M;)U=Ga(U),z--;for(;M--;){if(ye===U||U!==null&&ye===U.alternate)break t;ye=Ga(ye),U=Ga(U)}ye=null}else ye=null;F!==null&&H_(Z,H,F,ye,!1),Ee!==null&&Xe!==null&&H_(Z,Xe,Ee,ye,!0)}}e:{if(H=B?ei(B):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var ce=lg;else if(wt(H))if(ug)ce=Kw;else{ce=Fw;var Ne=Hw}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&Po(B.elementType)&&(ce=lg):ce=Gw;if(ce&&(ce=ce(t,B))){Vi(Z,ce,a,Y);break e}Ne&&Ne(t,H,B),t==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&hr(H,"number",H.value)}switch(Ne=B?ei(B):window,t){case"focusin":(wt(Ne)||Ne.contentEditable==="true")&&(Ta=Ne,_f=B,Go=null);break;case"focusout":Go=_f=Ta=null;break;case"mousedown":vf=!0;break;case"contextmenu":case"mouseup":case"dragend":vf=!1,yg(Z,a,Y);break;case"selectionchange":if($w)break;case"keydown":case"keyup":yg(Z,a,Y)}var de;if(oi)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Pe?K(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(_&&a.locale!=="ko"&&(Pe||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Pe&&(de=Lo()):(ii=Y,fr="value"in ii?ii.value:ii.textContent,Pe=!0)),Ne=Sc(B,_e),0<Ne.length&&(_e=new zo(_e,t,null,a,Y),Z.push({event:_e,listeners:Ne}),de?_e.data=de:(de=se(a),de!==null&&(_e.data=de)))),(de=y?bt(t,a):ke(t,a))&&(_e=Sc(B,"onBeforeInput"),0<_e.length&&(Ne=new zo("onBeforeInput","beforeinput",null,a,Y),Z.push({event:Ne,listeners:_e}),Ne.data=de)),NA(Z,t,B,a,Y)}B_(Z,r)})}function vl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Sc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ys(t,a),h!=null&&l.unshift(vl(t,h,d)),h=ys(t,r),h!=null&&l.push(vl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Ga(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function H_(t,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,B=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||B===null||(I=B,h?(B=ys(a,d),B!=null&&v.unshift(vl(a,B,I))):h||(B=ys(a,d),B!=null&&v.push(vl(a,B,I)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var VA=/\r\n?/g,PA=/\u0000|\uFFFD/g;function F_(t){return(typeof t=="string"?t:""+t).replace(VA,`
`).replace(PA,"")}function G_(t,r){return r=F_(r),F_(t)===r}function Rc(){}function Ye(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&An(t,""+l);break;case"className":ti(t,"class",l);break;case"tabIndex":ti(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(t,a,l);break;case"style":Vo(t,l,d);break;case"data":if(r!=="object"){ti(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=fa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Ye(t,r,"name",h.name,h,null),Ye(t,r,"formEncType",h.formEncType,h,null),Ye(t,r,"formMethod",h.formMethod,h,null),Ye(t,r,"formTarget",h.formTarget,h,null)):(Ye(t,r,"encType",h.encType,h,null),Ye(t,r,"method",h.method,h,null),Ye(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=fa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Rc);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=fa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),cr(t,"popover",l);break;case"xlinkActuate":kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":kt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":kt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":kt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":kt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":cr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=hf.get(a)||a,cr(t,a,l))}}function qd(t,r,a,l,h,d){switch(a){case"style":Vo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Rc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[mt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):cr(t,a,l)}}}function zt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ye(t,r,d,v,a,null)}}h&&Ye(t,r,"srcSet",a.srcSet,a,null),l&&Ye(t,r,"src",a.src,a,null);return;case"input":Oe("invalid",t);var T=d=v=h=null,I=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":v=Y;break;case"checked":I=Y;break;case"defaultChecked":B=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Ye(t,r,l,Y,a,null)}}ms(t,d,T,I,B,v,h,!1),ha(t);return;case"select":Oe("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Ye(t,r,h,T,a,null)}r=d,a=v,t.multiple=!!l,r!=null?Ci(t,!!l,r,!1):a!=null&&Ci(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Ye(t,r,v,T,a,null)}ps(t,l,h,d),ha(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ye(t,r,I,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<_l.length;l++)Oe(_l[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ye(t,r,B,l,a,null)}return;default:if(Po(r)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&qd(t,r,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Ye(t,r,T,l,a,null))}function kA(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,B=null,Y=null;for(F in a){var Z=a[F];if(a.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":I=Z;default:l.hasOwnProperty(F)||Ye(t,r,F,null,l,Z)}}for(var H in l){var F=l[H];if(Z=a[H],l.hasOwnProperty(H)&&(F!=null||Z!=null))switch(H){case"type":d=F;break;case"name":h=F;break;case"checked":B=F;break;case"defaultChecked":Y=F;break;case"value":v=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:F!==Z&&Ye(t,r,H,F,l,Z)}}hn(t,v,T,I,B,Y,d,h);return;case"select":F=v=T=H=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":F=I;default:l.hasOwnProperty(d)||Ye(t,r,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&Ye(t,r,h,d,l,I)}r=T,a=v,l=F,H!=null?Ci(t,!!a,H,!1):!!l!=!!a&&(r!=null?Ci(t,!!a,r,!0):Ci(t,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ye(t,r,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ye(t,r,v,h,l,d)}Qe(t,H,F);return;case"option":for(var Ee in a)if(H=a[Ee],a.hasOwnProperty(Ee)&&H!=null&&!l.hasOwnProperty(Ee))switch(Ee){case"selected":t.selected=!1;break;default:Ye(t,r,Ee,null,l,H)}for(I in l)if(H=l[I],F=a[I],l.hasOwnProperty(I)&&H!==F&&(H!=null||F!=null))switch(I){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Ye(t,r,I,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)H=a[ye],a.hasOwnProperty(ye)&&H!=null&&!l.hasOwnProperty(ye)&&Ye(t,r,ye,null,l,H);for(B in l)if(H=l[B],F=a[B],l.hasOwnProperty(B)&&H!==F&&(H!=null||F!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:Ye(t,r,B,H,l,F)}return;default:if(Po(r)){for(var Xe in a)H=a[Xe],a.hasOwnProperty(Xe)&&H!==void 0&&!l.hasOwnProperty(Xe)&&qd(t,r,Xe,void 0,l,H);for(Y in l)H=l[Y],F=a[Y],!l.hasOwnProperty(Y)||H===F||H===void 0&&F===void 0||qd(t,r,Y,H,l,F);return}}for(var U in a)H=a[U],a.hasOwnProperty(U)&&H!=null&&!l.hasOwnProperty(U)&&Ye(t,r,U,null,l,H);for(Z in l)H=l[Z],F=a[Z],!l.hasOwnProperty(Z)||H===F||H==null&&F==null||Ye(t,r,Z,H,l,F)}var Hd=null,Fd=null;function Ic(t){return t.nodeType===9?t:t.ownerDocument}function K_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Q_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Gd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Kd=null;function LA(){var t=window.event;return t&&t.type==="popstate"?t===Kd?!1:(Kd=t,!0):(Kd=null,!1)}var $_=typeof setTimeout=="function"?setTimeout:void 0,UA=typeof clearTimeout=="function"?clearTimeout:void 0,Y_=typeof Promise=="function"?Promise:void 0,jA=typeof queueMicrotask=="function"?queueMicrotask:typeof Y_<"u"?function(t){return Y_.resolve(null).then(t).catch(zA)}:$_;function zA(t){setTimeout(function(){throw t})}function Cr(t){return t==="head"}function X_(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&El(v.documentElement),a&2&&El(v.body),a&4)for(a=v.head,El(a),v=a.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[cs]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),Cl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Cl(r)}function Qd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Qd(a),ur(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function BA(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[cs])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function qA(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Hn(t.nextSibling),t===null))return null;return t}function $d(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function HA(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Hn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Yd=null;function W_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function Z_(t,r,a){switch(r=Ic(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function El(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ur(t)}var Vn=new Map,J_=new Set;function Cc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Qi=ae.d;ae.d={f:FA,r:GA,D:KA,C:QA,L:$A,m:YA,X:WA,S:XA,M:ZA};function FA(){var t=Qi.f(),r=vc();return t||r}function GA(t){var r=Jn(t);r!==null&&r.tag===5&&r.type==="form"?vy(r):Qi.r(t)}var Ka=typeof document>"u"?null:document;function ev(t,r,a){var l=Ka;if(l&&typeof r=="string"&&r){var h=pt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),J_.has(h)||(J_.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),zt(r,"link",t),ct(r),l.head.appendChild(r)))}}function KA(t){Qi.D(t),ev("dns-prefetch",t,null)}function QA(t,r){Qi.C(t,r),ev("preconnect",t,r)}function $A(t,r,a){Qi.L(t,r,a);var l=Ka;if(l&&t&&r){var h='link[rel="preload"][as="'+pt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pt(a.imageSizes)+'"]')):h+='[href="'+pt(t)+'"]';var d=h;switch(r){case"style":d=Qa(t);break;case"script":d=$a(t)}Vn.has(d)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Vn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Tl(d))||r==="script"&&l.querySelector(bl(d))||(r=l.createElement("link"),zt(r,"link",t),ct(r),l.head.appendChild(r)))}}function YA(t,r){Qi.m(t,r);var a=Ka;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+pt(l)+'"][href="'+pt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=$a(t)}if(!Vn.has(d)&&(t=E({rel:"modulepreload",href:t},r),Vn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bl(d)))return}l=a.createElement("link"),zt(l,"link",t),ct(l),a.head.appendChild(l)}}}function XA(t,r,a){Qi.S(t,r,a);var l=Ka;if(l&&t){var h=Zt(l).hoistableStyles,d=Qa(t);r=r||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Tl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Vn.get(d))&&Xd(t,a);var I=v=l.createElement("link");ct(I),zt(I,"link",t),I._p=new Promise(function(B,Y){I.onload=B,I.onerror=Y}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,xc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function WA(t,r){Qi.X(t,r);var a=Ka;if(a&&t){var l=Zt(a).hoistableScripts,h=$a(t),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(t=E({src:t,async:!0},r),(r=Vn.get(h))&&Wd(t,r),d=a.createElement("script"),ct(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function ZA(t,r){Qi.M(t,r);var a=Ka;if(a&&t){var l=Zt(a).hoistableScripts,h=$a(t),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=Vn.get(h))&&Wd(t,r),d=a.createElement("script"),ct(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function tv(t,r,a,l){var h=(h=be.current)?Cc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Qa(a.href),a=Zt(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Qa(a.href);var d=Zt(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Tl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Vn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(t,a),d||JA(h,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=$a(a),a=Zt(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Qa(t){return'href="'+pt(t)+'"'}function Tl(t){return'link[rel="stylesheet"]['+t+"]"}function nv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function JA(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),zt(r,"link",a),ct(r),t.head.appendChild(r))}function $a(t){return'[src="'+pt(t)+'"]'}function bl(t){return"script[async]"+t}function iv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+pt(a.href)+'"]');if(l)return r.instance=l,ct(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ct(l),zt(l,"style",h),xc(l,a.precedence,t),r.instance=l;case"stylesheet":h=Qa(a.href);var d=t.querySelector(Tl(h));if(d)return r.state.loading|=4,r.instance=d,ct(d),d;l=nv(a),(h=Vn.get(h))&&Xd(l,h),d=(t.ownerDocument||t).createElement("link"),ct(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),zt(d,"link",l),r.state.loading|=4,xc(d,a.precedence,t),r.instance=d;case"script":return d=$a(a.src),(h=t.querySelector(bl(d)))?(r.instance=h,ct(h),h):(l=a,(h=Vn.get(d))&&(l=E({},a),Wd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ct(h),zt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,xc(l,a.precedence,t));return r.instance}function xc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Xd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Wd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Nc=null;function rv(t,r,a){if(Nc===null){var l=new Map,h=Nc=new Map;h.set(a,l)}else h=Nc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[cs]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function sv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function eS(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function av(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var wl=null;function tS(){}function nS(t,r,a){if(wl===null)throw Error(s(475));var l=wl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Qa(a.href),d=t.querySelector(Tl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Dc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,ct(d);return}d=t.ownerDocument||t,a=nv(a),(h=Vn.get(h))&&Xd(a,h),d=d.createElement("link"),ct(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),zt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Dc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function iS(){if(wl===null)throw Error(s(475));var t=wl;return t.stylesheets&&t.count===0&&Zd(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&Zd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Dc(){if(this.count--,this.count===0){if(this.stylesheets)Zd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Oc=null;function Zd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Oc=new Map,r.forEach(rS,t),Oc=null,Dc.call(t))}function rS(t,r){if(!(r.state.loading&4)){var a=Oc.get(t);if(a)var l=a.get(null);else{a=new Map,Oc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Dc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Al={$$typeof:ne,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function sS(t,r,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function ov(t,r,a,l,h,d,v,T,I,B,Y,Z){return t=new sS(t,r,a,v,T,I,B,Z),r=1,d===!0&&(r|=24),d=dn(3,null,null,r),t.current=d,d.stateNode=t,r=Mf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Lf(d),t}function lv(t){return t?(t=Sa,t):Sa}function uv(t,r,a,l,h,d){h=lv(h),l.context===null?l.context=h:l.pendingContext=h,l=pr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=gr(t,l,r),a!==null&&(_n(a,t,r),el(a,t,r))}function cv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Jd(t,r){cv(t,r),(t=t.alternate)&&cv(t,r)}function hv(t){if(t.tag===13){var r=Aa(t,67108864);r!==null&&_n(r,t,67108864),Jd(t,67108864)}}var Mc=!0;function aS(t,r,a,l){var h=$.T;$.T=null;var d=ae.p;try{ae.p=2,em(t,r,a,l)}finally{ae.p=d,$.T=h}}function oS(t,r,a,l){var h=$.T;$.T=null;var d=ae.p;try{ae.p=8,em(t,r,a,l)}finally{ae.p=d,$.T=h}}function em(t,r,a,l){if(Mc){var h=tm(l);if(h===null)Bd(t,r,l,Vc,a),dv(t,l);else if(uS(h,t,r,a,l))l.stopPropagation();else if(dv(t,l),r&4&&-1<lS.indexOf(t)){for(;h!==null;){var d=Jn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Un(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-Gt(v);T.entanglements[1]|=I,v&=~I}di(d),(Ge&6)===0&&(yc=bn()+500,yl(0))}}break;case 13:T=Aa(d,2),T!==null&&_n(T,d,2),vc(),Jd(d,2)}if(d=tm(l),d===null&&Bd(t,r,l,Vc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Bd(t,r,l,null,a)}}function tm(t){return t=Sn(t),nm(t)}var Vc=null;function nm(t){if(Vc=null,t=Si(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Vc=t,null}function fv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sf()){case bo:return 2;case ia:return 8;case ss:case af:return 32;case ra:return 268435456;default:return 32}default:return 32}}var im=!1,xr=null,Nr=null,Dr=null,Sl=new Map,Rl=new Map,Or=[],lS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dv(t,r){switch(t){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":Sl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(r.pointerId)}}function Il(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Jn(r),r!==null&&hv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function uS(t,r,a,l,h){switch(r){case"focusin":return xr=Il(xr,t,r,a,l,h),!0;case"dragenter":return Nr=Il(Nr,t,r,a,l,h),!0;case"mouseover":return Dr=Il(Dr,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Sl.set(d,Il(Sl.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Rl.set(d,Il(Rl.get(d)||null,t,r,a,l,h)),!0}return!1}function mv(t){var r=Si(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,vu(t.priority,function(){if(a.tag===13){var l=yn();l=ar(l);var h=Aa(a,l);h!==null&&_n(h,a,l),Jd(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=tm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);xi=l,a.target.dispatchEvent(l),xi=null}else return r=Jn(a),r!==null&&hv(r),t.blockedOn=a,!1;r.shift()}return!0}function pv(t,r,a){Pc(t)&&a.delete(r)}function cS(){im=!1,xr!==null&&Pc(xr)&&(xr=null),Nr!==null&&Pc(Nr)&&(Nr=null),Dr!==null&&Pc(Dr)&&(Dr=null),Sl.forEach(pv),Rl.forEach(pv)}function kc(t,r){t.blockedOn===r&&(t.blockedOn=null,im||(im=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,cS)))}var Lc=null;function gv(t){Lc!==t&&(Lc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Lc===t&&(Lc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(nm(l||a)===null)continue;break}var d=Jn(a);d!==null&&(t.splice(r,3),r-=3,nd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Cl(t){function r(I){return kc(I,t)}xr!==null&&kc(xr,t),Nr!==null&&kc(Nr,t),Dr!==null&&kc(Dr,t),Sl.forEach(r),Rl.forEach(r);for(var a=0;a<Or.length;a++){var l=Or[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Or.length&&(a=Or[0],a.blockedOn===null);)mv(a),a.blockedOn===null&&Or.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[mt]||null;if(typeof d=="function")v||gv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[mt]||null)T=v.formAction;else if(nm(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),gv(a)}}}function rm(t){this._internalRoot=t}Uc.prototype.render=rm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=yn();uv(a,l,t,r,null,null)},Uc.prototype.unmount=rm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;uv(t.current,2,null,t,null,null),vc(),r[wn]=null}};function Uc(t){this._internalRoot=t}Uc.prototype.unstable_scheduleHydration=function(t){if(t){var r=or();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Or.length&&r!==0&&r<Or[a].priority;a++);Or.splice(a,0,t),a===0&&mv(t)}};var yv=e.version;if(yv!=="19.1.0")throw Error(s(527,yv,"19.1.0"));ae.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var hS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{ot=jc.inject(hS),Fe=jc}catch{}}return Nl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=My,d=Vy,v=Py,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=ov(t,1,!1,null,null,a,l,h,d,v,T,null),t[wn]=r.current,zd(t),new rm(r)},Nl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=My,v=Vy,T=Py,I=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),r=ov(t,1,!0,r,a??null,l,h,d,v,T,I,B),r.context=lv(null),a=r.current,l=yn(),l=ar(l),h=pr(l),h.callback=null,gr(a,h,l),a=l,r.current.lanes=a,Ai(r,a),di(r),t[wn]=r.current,zd(t),new Uc(r)},Nl.version="19.1.0",Nl}var Iv;function bS(){if(Iv)return om.exports;Iv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),om.exports=TS(),om.exports}var wS=bS(),Dl={},Cv;function AS(){if(Cv)return Dl;Cv=1,Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.parse=f,Dl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function f(A,P){const L=new u,Q=A.length;if(Q<2)return L;const q=(P==null?void 0:P.decode)||E;let W=0;do{const re=A.indexOf("=",W);if(re===-1)break;const ne=A.indexOf(";",W),fe=ne===-1?Q:ne;if(re>fe){W=A.lastIndexOf(";",re-1)+1;continue}const he=m(A,W,re),Ae=p(A,re,he),V=A.slice(he,Ae);if(L[V]===void 0){let S=m(A,re+1,fe),R=p(A,fe,S);const x=q(A.slice(S,R));L[V]=x}W=fe+1}while(W<Q);return L}function m(A,P,L){do{const Q=A.charCodeAt(P);if(Q!==32&&Q!==9)return P}while(++P<L);return L}function p(A,P,L){for(;P>L;){const Q=A.charCodeAt(--P);if(Q!==32&&Q!==9)return P+1}return L}function g(A,P,L){const Q=(L==null?void 0:L.encode)||encodeURIComponent;if(!i.test(A))throw new TypeError(`argument name is invalid: ${A}`);const q=Q(P);if(!e.test(q))throw new TypeError(`argument val is invalid: ${P}`);let W=A+"="+q;if(!L)return W;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);W+="; Max-Age="+L.maxAge}if(L.domain){if(!n.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);W+="; Domain="+L.domain}if(L.path){if(!s.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);W+="; Path="+L.path}if(L.expires){if(!w(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);W+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(W+="; HttpOnly"),L.secure&&(W+="; Secure"),L.partitioned&&(W+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":W+="; Priority=Low";break;case"medium":W+="; Priority=Medium";break;case"high":W+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":W+="; SameSite=Strict";break;case"lax":W+="; SameSite=Lax";break;case"none":W+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return W}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function w(A){return o.call(A)==="[object Date]"}return Dl}AS();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xv="popstate";function SS(i={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=Xs(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Cm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Kl(u))}function s(o,u){Gn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return IS(e,n,s,i)}function rt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Gn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RS(){return Math.random().toString(36).substring(2,10)}function Nv(i,e){return{usr:i.state,key:i.key,idx:e}}function Cm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Xs(e):e,state:n,key:e&&e.key||s||RS()}}function Kl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Xs(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function IS(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let q=E(),W=q==null?null:q-g;g=q,p&&p({action:m,location:Q.location,delta:W})}function A(q,W){m="PUSH";let re=Cm(Q.location,q,W);n&&n(re,q),g=E()+1;let ne=Nv(re,g),fe=Q.createHref(re);try{f.pushState(ne,"",fe)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(fe)}u&&p&&p({action:m,location:Q.location,delta:1})}function P(q,W){m="REPLACE";let re=Cm(Q.location,q,W);n&&n(re,q),g=E();let ne=Nv(re,g),fe=Q.createHref(re);f.replaceState(ne,"",fe),u&&p&&p({action:m,location:Q.location,delta:0})}function L(q){let W=o.location.origin!=="null"?o.location.origin:o.location.href,re=typeof q=="string"?q:Kl(q);return re=re.replace(/ $/,"%20"),rt(W,`No window.location.(origin|href) available to create URL for href: ${re}`),new URL(re,W)}let Q={get action(){return m},get location(){return i(o,f)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(xv,w),p=q,()=>{o.removeEventListener(xv,w),p=null}},createHref(q){return e(o,q)},createURL:L,encodeLocation(q){let W=L(q);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:A,replace:P,go(q){return f.go(q)}};return Q}function TE(i,e,n="/"){return CS(i,e,n,!1)}function CS(i,e,n,s){let o=typeof e=="string"?Xs(e):e,u=Ji(o.pathname||"/",n);if(u==null)return null;let f=bE(i);xS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=zS(u);m=US(f[p],g,s)}return m}function bE(i,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(rt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Xi([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(rt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),bE(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:kS(g,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of wE(u.path))o(u,f,p)}),e}function wE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=wE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function xS(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:LS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var NS=/^:[\w-]+$/,DS=3,OS=2,MS=1,VS=10,PS=-2,Dv=i=>i==="*";function kS(i,e){let n=i.split("/"),s=n.length;return n.some(Dv)&&(s+=PS),e&&(s+=OS),n.filter(o=>!Dv(o)).reduce((o,u)=>o+(NS.test(u)?DS:u===""?MS:VS),s)}function LS(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function US(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:Xi([u,w.pathname]),pathnameBase:FS(Xi([u,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(u=Xi([u,w.pathnameBase]))}return f}function sh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=jS(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:w},A)=>{if(E==="*"){let L=m[A]||"";f=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const P=m[A];return w&&!P?g[E]=void 0:g[E]=(P||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function jS(i,e=!1,n=!0){Gn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function zS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Ji(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function BS(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Xs(i):i;return{pathname:n?n.startsWith("/")?n:qS(n,e):e,search:GS(s),hash:KS(o)}}function qS(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function hm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HS(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function AE(i){let e=HS(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function SE(i,e,n,s=!1){let o;typeof i=="string"?o=Xs(i):(o={...i},rt(!o.pathname||!o.pathname.includes("?"),hm("?","pathname","search",o)),rt(!o.pathname||!o.pathname.includes("#"),hm("#","pathname","hash",o)),rt(!o.search||!o.search.includes("#"),hm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}m=w>=0?e[w]:"/"}let p=BS(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Xi=i=>i.join("/").replace(/\/\/+/g,"/"),FS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),GS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,KS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function QS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var RE=["POST","PUT","PATCH","DELETE"];new Set(RE);var $S=["GET",...RE];new Set($S);var ho=G.createContext(null);ho.displayName="DataRouter";var Dh=G.createContext(null);Dh.displayName="DataRouterState";var IE=G.createContext({isTransitioning:!1});IE.displayName="ViewTransition";var YS=G.createContext(new Map);YS.displayName="Fetchers";var XS=G.createContext(null);XS.displayName="Await";var Ti=G.createContext(null);Ti.displayName="Navigation";var nu=G.createContext(null);nu.displayName="Location";var rr=G.createContext({outlet:null,matches:[],isDataRoute:!1});rr.displayName="Route";var sp=G.createContext(null);sp.displayName="RouteError";function WS(i,{relative:e}={}){rt(iu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(Ti),{hash:o,pathname:u,search:f}=ru(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Xi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function iu(){return G.useContext(nu)!=null}function Wr(){return rt(iu(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(nu).location}var CE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xE(i){G.useContext(Ti).static||G.useLayoutEffect(i)}function fo(){let{isDataRoute:i}=G.useContext(rr);return i?cR():ZS()}function ZS(){rt(iu(),"useNavigate() may be used only in the context of a <Router> component.");let i=G.useContext(ho),{basename:e,navigator:n}=G.useContext(Ti),{matches:s}=G.useContext(rr),{pathname:o}=Wr(),u=JSON.stringify(AE(s)),f=G.useRef(!1);return xE(()=>{f.current=!0}),G.useCallback((p,g={})=>{if(Gn(f.current,CE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=SE(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Xi([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}G.createContext(null);function ru(i,{relative:e}={}){let{matches:n}=G.useContext(rr),{pathname:s}=Wr(),o=JSON.stringify(AE(n));return G.useMemo(()=>SE(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function JS(i,e){return NE(i,e)}function NE(i,e,n,s){var re;rt(iu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=G.useContext(Ti),{matches:f}=G.useContext(rr),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",w=m&&m.route;{let ne=w&&w.path||"";DE(g,!w||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let A=Wr(),P;if(e){let ne=typeof e=="string"?Xs(e):e;rt(E==="/"||((re=ne.pathname)==null?void 0:re.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),P=ne}else P=A;let L=P.pathname||"/",Q=L;if(E!=="/"){let ne=E.replace(/^\//,"").split("/");Q="/"+L.replace(/^\//,"").split("/").slice(ne.length).join("/")}let q=!u&&n&&n.matches&&n.matches.length>0?n.matches:TE(i,{pathname:Q});Gn(w||q!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Gn(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=rR(q&&q.map(ne=>Object.assign({},ne,{params:Object.assign({},p,ne.params),pathname:Xi([E,o.encodeLocation?o.encodeLocation(ne.pathname).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?E:Xi([E,o.encodeLocation?o.encodeLocation(ne.pathnameBase).pathname:ne.pathnameBase])})),f,n,s);return e&&W?G.createElement(nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},W):W}function eR(){let i=uR(),e=QS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:o},n):null,f)}var tR=G.createElement(eR,null),nR=class extends G.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?G.createElement(rr.Provider,{value:this.props.routeContext},G.createElement(sp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iR({routeContext:i,match:e,children:n}){let s=G.useContext(ho);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(rr.Provider,{value:i},n)}function rR(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);rt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:w}=n,A=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||A){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let w,A=!1,P=null,L=null;n&&(w=u&&g.route.id?u[g.route.id]:void 0,P=g.route.errorElement||tR,f&&(m<0&&E===0?(DE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,L=null):m===E&&(A=!0,L=g.route.hydrateFallbackElement||null)));let Q=e.concat(o.slice(0,E+1)),q=()=>{let W;return w?W=P:A?W=L:g.route.Component?W=G.createElement(g.route.Component,null):g.route.element?W=g.route.element:W=p,G.createElement(iR,{match:g,routeContext:{outlet:p,matches:Q,isDataRoute:n!=null},children:W})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?G.createElement(nR,{location:n.location,revalidation:n.revalidation,component:P,error:w,children:q(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):q()},null)}function ap(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sR(i){let e=G.useContext(ho);return rt(e,ap(i)),e}function aR(i){let e=G.useContext(Dh);return rt(e,ap(i)),e}function oR(i){let e=G.useContext(rr);return rt(e,ap(i)),e}function op(i){let e=oR(i),n=e.matches[e.matches.length-1];return rt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function lR(){return op("useRouteId")}function uR(){var s;let i=G.useContext(sp),e=aR("useRouteError"),n=op("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function cR(){let{router:i}=sR("useNavigate"),e=op("useNavigate"),n=G.useRef(!1);return xE(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{Gn(n.current,CE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Ov={};function DE(i,e,n){!e&&!Ov[i]&&(Ov[i]=!0,Gn(!1,n))}G.memo(hR);function hR({routes:i,future:e,state:n}){return NE(i,void 0,n,e)}function OE(i){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fR({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){rt(!iu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Xs(n));let{pathname:p="/",search:g="",hash:E="",state:w=null,key:A="default"}=n,P=G.useMemo(()=>{let L=Ji(p,f);return L==null?null:{location:{pathname:L,search:g,hash:E,state:w,key:A},navigationType:s}},[f,p,g,E,w,A,s]);return Gn(P!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:G.createElement(Ti.Provider,{value:m},G.createElement(nu.Provider,{children:e,value:P}))}function dR({children:i,location:e}){return JS(xm(i),e)}function xm(i,e=[]){let n=[];return G.Children.forEach(i,(s,o)=>{if(!G.isValidElement(s))return;let u=[...e,o];if(s.type===G.Fragment){n.push.apply(n,xm(s.props.children,u));return}rt(s.type===OE,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=xm(s.props.children,u)),n.push(f)}),n}var Qc="get",$c="application/x-www-form-urlencoded";function Oh(i){return i!=null&&typeof i.tagName=="string"}function mR(i){return Oh(i)&&i.tagName.toLowerCase()==="button"}function pR(i){return Oh(i)&&i.tagName.toLowerCase()==="form"}function gR(i){return Oh(i)&&i.tagName.toLowerCase()==="input"}function yR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function _R(i,e){return i.button===0&&(!e||e==="_self")&&!yR(i)}var zc=null;function vR(){if(zc===null)try{new FormData(document.createElement("form"),0),zc=!1}catch{zc=!0}return zc}var ER=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fm(i){return i!=null&&!ER.has(i)?(Gn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$c}"`),null):i}function TR(i,e){let n,s,o,u,f;if(pR(i)){let m=i.getAttribute("action");s=m?Ji(m,e):null,n=i.getAttribute("method")||Qc,o=fm(i.getAttribute("enctype"))||$c,u=new FormData(i)}else if(mR(i)||gR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Ji(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Qc,o=fm(i.getAttribute("formenctype"))||fm(m.getAttribute("enctype"))||$c,u=new FormData(m,i),!vR()){let{name:g,type:E,value:w}=i;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,w)}}else{if(Oh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Qc,s=null,o=$c,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function lp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function bR(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function AR(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await bR(u,n);return f.links?f.links():[]}return[]}));return CR(s.flat(1).filter(wR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Mv(i,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function SR(i,e,{includeHydrateFallback:n}={}){return RR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function RR(i){return[...new Set(i)]}function IR(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function CR(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(IR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function xR(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&Ji(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function ME(){let i=G.useContext(ho);return lp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function NR(){let i=G.useContext(Dh);return lp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var up=G.createContext(void 0);up.displayName="FrameworkContext";function VE(){let i=G.useContext(up);return lp(i,"You must render this element inside a <HydratedRouter> element"),i}function DR(i,e){let n=G.useContext(up),[s,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=e,A=G.useRef(null);G.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let Q=W=>{W.forEach(re=>{f(re.isIntersecting)})},q=new IntersectionObserver(Q,{threshold:.5});return A.current&&q.observe(A.current),()=>{q.disconnect()}}},[i]),G.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let P=()=>{o(!0)},L=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:Ol(m,P),onBlur:Ol(p,L),onMouseEnter:Ol(g,P),onMouseLeave:Ol(E,L),onTouchStart:Ol(w,P)}]:[!1,A,{}]}function Ol(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function OR({page:i,...e}){let{router:n}=ME(),s=G.useMemo(()=>TE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?G.createElement(VR,{page:i,matches:s,...e}):null}function MR(i){let{manifest:e,routeModules:n}=VE(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return AR(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function VR({page:i,matches:e,...n}){let s=Wr(),{manifest:o,routeModules:u}=VE(),{basename:f}=ME(),{loaderData:m,matches:p}=NR(),g=G.useMemo(()=>Mv(i,e,p,o,s,"data"),[i,e,p,o,s]),E=G.useMemo(()=>Mv(i,e,p,o,s,"assets"),[i,e,p,o,s]),w=G.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let L=new Set,Q=!1;if(e.forEach(W=>{var ne;let re=o.routes[W.route.id];!re||!re.hasLoader||(!g.some(fe=>fe.route.id===W.route.id)&&W.route.id in m&&((ne=u[W.route.id])!=null&&ne.shouldRevalidate)||re.hasClientLoader?Q=!0:L.add(W.route.id))}),L.size===0)return[];let q=xR(i,f);return Q&&L.size>0&&q.searchParams.set("_routes",e.filter(W=>L.has(W.route.id)).map(W=>W.route.id).join(",")),[q.pathname+q.search]},[f,m,s,o,g,e,i,u]),A=G.useMemo(()=>SR(E,o),[E,o]),P=MR(E);return G.createElement(G.Fragment,null,w.map(L=>G.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),A.map(L=>G.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),P.map(({key:L,link:Q})=>G.createElement("link",{key:L,...Q})))}function PR(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var PE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PE&&(window.__reactRouterVersion="7.5.0")}catch{}function kR({basename:i,children:e,window:n}){let s=G.useRef();s.current==null&&(s.current=SS({window:n,v5Compat:!0}));let o=s.current,[u,f]=G.useState({action:o.action,location:o.location}),m=G.useCallback(p=>{G.startTransition(()=>f(p))},[f]);return G.useLayoutEffect(()=>o.listen(m),[o,m]),G.createElement(fR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var kE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vn=G.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:w,...A},P){let{basename:L}=G.useContext(Ti),Q=typeof g=="string"&&kE.test(g),q,W=!1;if(typeof g=="string"&&Q&&(q=g,PE))try{let R=new URL(window.location.href),x=g.startsWith("//")?new URL(R.protocol+g):new URL(g),O=Ji(x.pathname,L);x.origin===R.origin&&O!=null?g=O+x.search+x.hash:W=!0}catch{Gn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=WS(g,{relative:o}),[ne,fe,he]=DR(s,A),Ae=zR(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w});function V(R){e&&e(R),R.defaultPrevented||Ae(R)}let S=G.createElement("a",{...A,...he,href:q||re,onClick:W||u?e:V,ref:PR(P,fe),target:p,"data-discover":!Q&&n==="render"?"true":void 0});return ne&&!Q?G.createElement(G.Fragment,null,S,G.createElement(OR,{page:re})):S});vn.displayName="Link";var LR=G.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let w=ru(f,{relative:g.relative}),A=Wr(),P=G.useContext(Dh),{navigator:L,basename:Q}=G.useContext(Ti),q=P!=null&&GR(w)&&m===!0,W=L.encodeLocation?L.encodeLocation(w).pathname:w.pathname,re=A.pathname,ne=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(re=re.toLowerCase(),ne=ne?ne.toLowerCase():null,W=W.toLowerCase()),ne&&Q&&(ne=Ji(ne,Q)||ne);const fe=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let he=re===W||!o&&re.startsWith(W)&&re.charAt(fe)==="/",Ae=ne!=null&&(ne===W||!o&&ne.startsWith(W)&&ne.charAt(W.length)==="/"),V={isActive:he,isPending:Ae,isTransitioning:q},S=he?e:void 0,R;typeof s=="function"?R=s(V):R=[s,he?"active":null,Ae?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(V):u;return G.createElement(vn,{...g,"aria-current":S,className:R,ref:E,style:x,to:f,viewTransition:m},typeof p=="function"?p(V):p)});LR.displayName="NavLink";var UR=G.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Qc,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:w,...A},P)=>{let L=HR(),Q=FR(m,{relative:g}),q=f.toLowerCase()==="get"?"get":"post",W=typeof m=="string"&&kE.test(m),re=ne=>{if(p&&p(ne),ne.defaultPrevented)return;ne.preventDefault();let fe=ne.nativeEvent.submitter,he=(fe==null?void 0:fe.getAttribute("formmethod"))||f;L(fe||ne.currentTarget,{fetcherKey:e,method:he,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:w})};return G.createElement("form",{ref:P,method:q,action:Q,onSubmit:s?p:re,...A,"data-discover":!W&&i==="render"?"true":void 0})});UR.displayName="Form";function jR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LE(i){let e=G.useContext(ho);return rt(e,jR(i)),e}function zR(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=fo(),p=Wr(),g=ru(i,{relative:u});return G.useCallback(E=>{if(_R(E,e)){E.preventDefault();let w=n!==void 0?n:Kl(p)===Kl(g);m(i,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,i,o,u,f])}var BR=0,qR=()=>`__${String(++BR)}__`;function HR(){let{router:i}=LE("useSubmit"),{basename:e}=G.useContext(Ti),n=lR();return G.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=TR(s,e);if(o.navigate===!1){let E=o.fetcherKey||qR();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function FR(i,{relative:e}={}){let{basename:n}=G.useContext(Ti),s=G.useContext(rr);rt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...ru(i||".",{relative:e})},f=Wr();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Xi([n,u.pathname])),Kl(u)}function GR(i,e={}){let n=G.useContext(IE);rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=LE("useViewTransitionState"),o=ru(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Ji(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Ji(n.nextLocation.pathname,s)||n.nextLocation.pathname;return sh(o.pathname,f)!=null||sh(o.pathname,u)!=null}new TextEncoder;const KR="/QuizAppFrontend/assets/Moses%20story-BHppYghn.mp4",QR=()=>N.jsxs("div",{className:"min-h-screen bg-yellow-50 flex flex-col items-center justify-center px-4 py-12 text-center",children:[N.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-extrabold text-pink-600 mb-4 drop-shadow-md",children:" Welcome to Bible Quiz for Kids! "}),N.jsxs("p",{className:"text-lg md:text-xl text-gray-800 max-w-2xl mb-10 leading-relaxed font-medium",children:[" Test your knowledge of Bible stories, heroes, and fun facts! ",N.jsx("br",{}),"Learn and grow with every question. Perfect for Sunday School, home study, or joyful playtime!"]}),N.jsxs("div",{className:"flex flex-col sm:flex-row gap-5 mb-12",children:[N.jsx(vn,{to:"/Bible-story",className:"bg-pink-400 text-white px-8 py-4 rounded-full text-lg font-bold hover:bg-pink-500 transition duration-300 shadow-lg",children:" Read About the Moses"}),N.jsx(vn,{to:"/signin",className:"bg-purple-600 text-white px-8 py-4 rounded-full text-lg font-bold hover:bg-purple-700 transition duration-300 shadow-lg",children:" Start Quiz"})]}),N.jsxs("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-semibold text-purple-700 mb-6",children:["Meet our"," ",N.jsx("span",{className:"text-pink-600 font-bold",children:"Bible Hero: MOSES"})," ","selected for the week. Hooray!!! "]}),N.jsxs("video",{controls:!0,className:"w-full rounded-xl shadow-lg",children:[N.jsx("source",{src:KR}),"Your browser does not support the video tag."]})]}),$R=()=>{};var Vv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},YR=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},jE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,P=g&63;p||(P=64,f||(A=64)),s.push(n[E],n[w],n[A],n[P])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(UE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):YR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const w=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new XR;const A=u<<2|m>>4;if(s.push(A),g!==64){const P=m<<4&240|g>>2;if(s.push(P),w!==64){const L=g<<6&192|w;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class XR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WR=function(i){const e=UE(i);return jE.encodeByteArray(e,!0)},ah=function(i){return WR(i).replace(/\./g,"")},zE=function(i){try{return jE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=()=>ZR().__FIREBASE_DEFAULTS__,eI=()=>{if(typeof process>"u"||typeof Vv>"u")return;const i=Vv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},tI=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&zE(i[1]);return e&&JSON.parse(e)},Mh=()=>{try{return $R()||JR()||eI()||tI()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},BE=i=>{var e,n;return(n=(e=Mh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},nI=i=>{const e=BE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},qE=()=>{var i;return(i=Mh())===null||i===void 0?void 0:i.config},HE=i=>{var e;return(e=Mh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[ah(JSON.stringify(n)),ah(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function aI(){var i;const e=(i=Mh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FE(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function lI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uI(){const i=Wt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function cI(){return!aI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GE(){try{return typeof indexedDB=="object"}catch{return!1}}function KE(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}function hI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="FirebaseError";class Xn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=fI,Object.setPrototypeOf(this,Xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ws.prototype.create)}}class Ws{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?dI(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Xn(o,m,s)}}function dI(i,e){return i.replace(mI,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const mI=/\{\$([^}]+)}/g;function pI(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Fr(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(Pv(u)&&Pv(f)){if(!Fr(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Pv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ml(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Vl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function gI(i,e){const n=new yI(i,e);return n.subscribe.bind(n)}class yI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");_I(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=dm),o.error===void 0&&(o.error=dm),o.complete===void 0&&(o.complete=dm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _I(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function dm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=1e3,EI=2,TI=4*60*60*1e3,bI=.5;function kv(i,e=vI,n=EI){const s=e*Math.pow(n,i),o=Math.round(bI*s*(Math.random()-.5)*2);return Math.min(TI,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(i){return i&&i._delegate?i._delegate:i}class Kn{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new iI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SI(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:AI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AI(i){return i===js?void 0:i}function SI(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const II={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},CI=Me.INFO,xI={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},NI=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=xI[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vh{constructor(e){this.name=e,this._logLevel=CI,this._logHandler=NI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?II[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const DI=(i,e)=>e.some(n=>i instanceof n);let Lv,Uv;function OI(){return Lv||(Lv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MI(){return Uv||(Uv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QE=new WeakMap,Nm=new WeakMap,$E=new WeakMap,mm=new WeakMap,cp=new WeakMap;function VI(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(zr(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&QE.set(n,i)}).catch(()=>{}),cp.set(e,i),e}function PI(i){if(Nm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Nm.set(i,e)}let Dm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Nm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||$E.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function kI(i){Dm=i(Dm)}function LI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(pm(this),e,...n);return $E.set(s,e.sort?e.sort():[e]),zr(s)}:MI().includes(i)?function(...e){return i.apply(pm(this),e),zr(QE.get(this))}:function(...e){return zr(i.apply(pm(this),e))}}function UI(i){return typeof i=="function"?LI(i):(i instanceof IDBTransaction&&PI(i),DI(i,OI())?new Proxy(i,Dm):i)}function zr(i){if(i instanceof IDBRequest)return VI(i);if(mm.has(i))return mm.get(i);const e=UI(i);return e!==i&&(mm.set(i,e),cp.set(e,i)),e}const pm=i=>cp.get(i);function YE(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=zr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(zr(f.result),p.oldVersion,p.newVersion,zr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const jI=["get","getKey","getAll","getAllKeys","count"],zI=["put","add","delete","clear"],gm=new Map;function jv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(gm.get(e))return gm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=zI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||jI.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return gm.set(e,u),u}kI(i=>({...i,get:(e,n,s)=>jv(e,n)||i.get(e,n,s),has:(e,n)=>!!jv(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function qI(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Om="@firebase/app",zv="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er=new Vh("@firebase/app"),HI="@firebase/app-compat",FI="@firebase/analytics-compat",GI="@firebase/analytics",KI="@firebase/app-check-compat",QI="@firebase/app-check",$I="@firebase/auth",YI="@firebase/auth-compat",XI="@firebase/database",WI="@firebase/data-connect",ZI="@firebase/database-compat",JI="@firebase/functions",e1="@firebase/functions-compat",t1="@firebase/installations",n1="@firebase/installations-compat",i1="@firebase/messaging",r1="@firebase/messaging-compat",s1="@firebase/performance",a1="@firebase/performance-compat",o1="@firebase/remote-config",l1="@firebase/remote-config-compat",u1="@firebase/storage",c1="@firebase/storage-compat",h1="@firebase/firestore",f1="@firebase/vertexai",d1="@firebase/firestore-compat",m1="firebase",p1="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="[DEFAULT]",g1={[Om]:"fire-core",[HI]:"fire-core-compat",[GI]:"fire-analytics",[FI]:"fire-analytics-compat",[QI]:"fire-app-check",[KI]:"fire-app-check-compat",[$I]:"fire-auth",[YI]:"fire-auth-compat",[XI]:"fire-rtdb",[WI]:"fire-data-connect",[ZI]:"fire-rtdb-compat",[JI]:"fire-fn",[e1]:"fire-fn-compat",[t1]:"fire-iid",[n1]:"fire-iid-compat",[i1]:"fire-fcm",[r1]:"fire-fcm-compat",[s1]:"fire-perf",[a1]:"fire-perf-compat",[o1]:"fire-rc",[l1]:"fire-rc-compat",[u1]:"fire-gcs",[c1]:"fire-gcs-compat",[h1]:"fire-fst",[d1]:"fire-fst-compat",[f1]:"fire-vertex","fire-js":"fire-js",[m1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new Map,y1=new Map,Vm=new Map;function Bv(i,e){try{i.container.addComponent(e)}catch(n){er.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function vi(i){const e=i.name;if(Vm.has(e))return er.debug(`There were multiple attempts to register component ${e}.`),!1;Vm.set(e,i);for(const n of oh.values())Bv(n,i);for(const n of y1.values())Bv(n,i);return!0}function Zs(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Pn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new Ws("app","Firebase",_1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Kn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=p1;function XE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Mm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Br.create("bad-app-name",{appName:String(o)});if(n||(n=qE()),!n)throw Br.create("no-options");const u=oh.get(o);if(u){if(Fr(n,u.options)&&Fr(s,u.config))return u;throw Br.create("duplicate-app",{appName:o})}const f=new RI(o);for(const p of Vm.values())f.addComponent(p);const m=new v1(n,s,f);return oh.set(o,m),m}function hp(i=Mm){const e=oh.get(i);if(!e&&i===Mm&&qE())return XE();if(!e)throw Br.create("no-app",{appName:i});return e}function kn(i,e,n){var s;let o=(s=g1[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),er.warn(m.join(" "));return}vi(new Kn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="firebase-heartbeat-database",T1=1,Ql="firebase-heartbeat-store";let ym=null;function WE(){return ym||(ym=YE(E1,T1,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ql)}catch(n){console.warn(n)}}}}).catch(i=>{throw Br.create("idb-open",{originalErrorMessage:i.message})})),ym}async function b1(i){try{const n=(await WE()).transaction(Ql),s=await n.objectStore(Ql).get(ZE(i));return await n.done,s}catch(e){if(e instanceof Xn)er.warn(e.message);else{const n=Br.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});er.warn(n.message)}}}async function qv(i,e){try{const s=(await WE()).transaction(Ql,"readwrite");await s.objectStore(Ql).put(e,ZE(i)),await s.done}catch(n){if(n instanceof Xn)er.warn(n.message);else{const s=Br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});er.warn(s.message)}}}function ZE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=1024,A1=30;class S1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new I1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Hv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>A1){const f=C1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){er.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Hv(),{heartbeatsToSend:s,unsentEntries:o}=R1(this._heartbeatsCache.heartbeats),u=ah(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return er.warn(n),""}}}function Hv(){return new Date().toISOString().substring(0,10)}function R1(i,e=w1){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Fv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Fv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class I1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GE()?KE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await b1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return qv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return qv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Fv(i){return ah(JSON.stringify({version:2,heartbeats:i})).length}function C1(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(i){vi(new Kn("platform-logger",e=>new BI(e),"PRIVATE")),vi(new Kn("heartbeat",e=>new S1(e),"PRIVATE")),kn(Om,zv,i),kn(Om,zv,"esm2017"),kn("fire-js","")}x1("");function fp(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function JE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const N1=JE,eT=new Ws("auth","Firebase",JE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new Vh("@firebase/auth");function D1(i,...e){lh.logLevel<=Me.WARN&&lh.warn(`Auth (${mo}): ${i}`,...e)}function Yc(i,...e){lh.logLevel<=Me.ERROR&&lh.error(`Auth (${mo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(i,...e){throw dp(i,...e)}function pi(i,...e){return dp(i,...e)}function tT(i,e,n){const s=Object.assign(Object.assign({},N1()),{[e]:n});return new Ws("auth","Firebase",s).create(e,{appName:i.name})}function Wi(i){return tT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return eT.create(i,...e)}function ve(i,e,...n){if(!i)throw dp(e,...n)}function $i(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Yc(e),new Error(e)}function tr(i,e){i||$i(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function O1(){return Gv()==="http:"||Gv()==="https:"}function Gv(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(O1()||FE()||"connection"in navigator)?navigator.onLine:!0}function V1(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n){this.shortDelay=e,this.longDelay=n,tr(n>e,"Short delay should be less than long delay!"),this.isMobile=sI()||lI()}get(){return M1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(i,e){tr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],L1=new au(3e4,6e4);function Zr(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Jr(i,e,n,s,o={}){return iT(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=su(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return oI()||(g.referrerPolicy="no-referrer"),nT.fetch()(await rT(i,i.config.apiHost,n,m),g)})}async function iT(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},P1),e);try{const o=new j1(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Bc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Bc(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw Bc(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw tT(i,E,g);Qn(i,E)}}catch(o){if(o instanceof Xn)throw o;Qn(i,"network-request-failed",{message:String(o)})}}async function ou(i,e,n,s,o={}){const u=await Jr(i,e,n,s,o);return"mfaPendingCredential"in u&&Qn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function rT(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?mp(i.config,o):`${i.config.apiScheme}://${o}`;return k1.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function U1(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class j1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(pi(this.auth,"network-request-failed")),L1.get())})}}function Bc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=pi(i,e,s);return o.customData._tokenResponse=n,o}function Kv(i){return i!==void 0&&i.enterprise!==void 0}class z1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return U1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function B1(i,e){return Jr(i,"GET","/v2/recaptchaConfig",Zr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q1(i,e){return Jr(i,"POST","/v1/accounts:delete",e)}async function uh(i,e){return Jr(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function H1(i,e=!1){const n=Vt(i),s=await n.getIdToken(e),o=pp(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:jl(_m(o.auth_time)),issuedAtTime:jl(_m(o.iat)),expirationTime:jl(_m(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function _m(i){return Number(i)*1e3}function pp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Yc("JWT malformed, contained fewer than 3 sections"),null;try{const o=zE(n);return o?JSON.parse(o):(Yc("Failed to decode base64 JWT payload"),null)}catch(o){return Yc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Qv(i){const e=pp(i);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Xn&&F1(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function F1({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jl(this.lastLoginAt),this.creationTime=jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ch(i){var e;const n=i.auth,s=await i.getIdToken(),o=await $l(i,uh(n,{idToken:s}));ve(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?sT(u.providerUserInfo):[],m=Q1(i.providerData,f),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new km(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,w)}async function K1(i){const e=Vt(i);await ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Q1(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function sT(i){return i.map(e=>{var{providerId:n}=e,s=fp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $1(i,e){const n=await iT(i,{},async()=>{const s=su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await rT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",nT.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Y1(i,e){return Jr(i,"POST","/v2/accounts:revokeToken",Zr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Qv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=Qv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await $1(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new eo;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new eo,this.toJSON())}_performRefresh(){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(i,e){ve(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Fn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=fp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new G1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new km(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await $l(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return H1(this,e)}reload(){return K1(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ch(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(Wi(this.auth));const e=await this.getIdToken();return await $l(this,q1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,E;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,A=(o=n.email)!==null&&o!==void 0?o:void 0,P=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,L=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Q=(m=n.tenantId)!==null&&m!==void 0?m:void 0,q=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,W=(g=n.createdAt)!==null&&g!==void 0?g:void 0,re=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ne,emailVerified:fe,isAnonymous:he,providerData:Ae,stsTokenManager:V}=n;ve(ne&&V,e,"internal-error");const S=eo.fromJSON(this.name,V);ve(typeof ne=="string",e,"internal-error"),Vr(w,e.name),Vr(A,e.name),ve(typeof fe=="boolean",e,"internal-error"),ve(typeof he=="boolean",e,"internal-error"),Vr(P,e.name),Vr(L,e.name),Vr(Q,e.name),Vr(q,e.name),Vr(W,e.name),Vr(re,e.name);const R=new Fn({uid:ne,auth:e,email:A,emailVerified:fe,displayName:w,isAnonymous:he,photoURL:L,phoneNumber:P,tenantId:Q,stsTokenManager:S,createdAt:W,lastLoginAt:re});return Ae&&Array.isArray(Ae)&&(R.providerData=Ae.map(x=>Object.assign({},x))),q&&(R._redirectEventId=q),R}static async _fromIdTokenResponse(e,n,s=!1){const o=new eo;o.updateFromServerResponse(n);const u=new Fn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ch(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?sT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new eo;m.updateFromIdToken(s);const p=new Fn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new km(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=new Map;function Yi(i){tr(i instanceof Function,"Expected a class definition");let e=$v.get(i);return e?(tr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,$v.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aT.type="NONE";const Yv=aT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(i,e,n){return`firebase:${i}:${e}:${n}`}class to{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Xc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Xc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await uh(this.auth,{idToken:e}).catch(()=>{});return n?Fn._fromGetAccountInfoResponse(this.auth,n,e):null}return Fn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new to(Yi(Yv),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Yi(Yv);const f=Xc(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let w;if(typeof E=="string"){const A=await uh(e,{idToken:E}).catch(()=>{});if(!A)break;w=await Fn._fromGetAccountInfoResponse(e,A,E)}else w=Fn._fromJSON(e,E);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new to(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new to(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fT(e))return"Blackberry";if(dT(e))return"Webos";if(lT(e))return"Safari";if((e.includes("chrome/")||uT(e))&&!e.includes("edge/"))return"Chrome";if(hT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function oT(i=Wt()){return/firefox\//i.test(i)}function lT(i=Wt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uT(i=Wt()){return/crios\//i.test(i)}function cT(i=Wt()){return/iemobile/i.test(i)}function hT(i=Wt()){return/android/i.test(i)}function fT(i=Wt()){return/blackberry/i.test(i)}function dT(i=Wt()){return/webos/i.test(i)}function gp(i=Wt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function X1(i=Wt()){var e;return gp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function W1(){return uI()&&document.documentMode===10}function mT(i=Wt()){return gp(i)||hT(i)||dT(i)||fT(i)||/windows phone/i.test(i)||cT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(i,e=[]){let n;switch(i){case"Browser":n=Xv(Wt());break;case"Worker":n=`${Xv(Wt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J1(i,e={}){return Jr(i,"GET","/v2/passwordPolicy",Zr(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=6;class tC{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:eC,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wv(this),this.idTokenSubscription=new Wv(this),this.beforeStateQueue=new Z1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await to.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await uh(this,{idToken:e}),s=await Fn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Pn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ch(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=V1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(Wi(this));const n=e?Vt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await J1(this),n=new tC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ws("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Y1(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yi(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await to.create(this,[Yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&D1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Js(i){return Vt(i)}class Wv{constructor(e){this.auth=e,this.observer=null,this.addObserver=gI(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iC(i){Ph=i}function gT(i){return Ph.loadJS(i)}function rC(){return Ph.recaptchaEnterpriseScript}function sC(){return Ph.gapiScript}function aC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class oC{constructor(){this.enterprise=new lC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class lC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const uC="recaptcha-enterprise",yT="NO_RECAPTCHA";class cC{constructor(e){this.type=uC,this.auth=Js(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{B1(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new z1(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Kv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(yT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Kv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=rC();p.length!==0&&(p+=m),gT(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function Zv(i,e,n,s=!1,o=!1){const u=new cC(i);let f;if(o)f=yT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Lm(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Zv(i,e,n,n==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Zv(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(i,e){const n=Zs(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Fr(u,e??{}))return o;Qn(o,"already-initialized")}return n.initialize({options:e})}function fC(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Yi);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function dC(i,e,n){const s=Js(i);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=_T(e),{host:f,port:m}=mC(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Fr(g,s.config.emulator)&&Fr(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,pC()}function _T(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function mC(i){const e=_T(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Jv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Jv(f)}}}function Jv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function pC(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $i("not implemented")}_getIdTokenResponse(e){return $i("not implemented")}_linkToIdToken(e,n){return $i("not implemented")}_getReauthenticationResolver(e){return $i("not implemented")}}async function gC(i,e){return Jr(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(i,e){return ou(i,"POST","/v1/accounts:signInWithPassword",Zr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(i,e){return ou(i,"POST","/v1/accounts:signInWithEmailLink",Zr(i,e))}async function vC(i,e){return ou(i,"POST","/v1/accounts:signInWithEmailLink",Zr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends yp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Yl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Yl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lm(e,n,"signInWithPassword",yC);case"emailLink":return _C(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lm(e,s,"signUpPassword",gC);case"emailLink":return vC(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(i,e){return ou(i,"POST","/v1/accounts:signInWithIdp",Zr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="http://localhost";class Fs extends yp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=fp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Fs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return no(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,no(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,no(e,n)}buildRequest(){const e={requestUri:EC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=su(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bC(i){const e=Ml(Vl(i)).link,n=e?Ml(Vl(e)).deep_link_id:null,s=Ml(Vl(i)).deep_link_id;return(s?Ml(Vl(s)).link:null)||s||n||e||i}class _p{constructor(e){var n,s,o,u,f,m;const p=Ml(Vl(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,w=TC((o=p.mode)!==null&&o!==void 0?o:null);ve(g&&E&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=bC(e);try{return new _p(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.providerId=po.PROVIDER_ID}static credential(e,n){return Yl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=_p.parseLink(n);return ve(s,"argument-error"),Yl._fromEmailAndCode(e,s.code,s.tenantId)}}po.PROVIDER_ID="password";po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends vT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends lu{constructor(){super("facebook.com")}static credential(e){return Fs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fs._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return kr.credential(n,s)}catch{return null}}}kr.GOOGLE_SIGN_IN_METHOD="google.com";kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends lu{constructor(){super("github.com")}static credential(e){return Fs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.GITHUB_SIGN_IN_METHOD="github.com";Lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends lu{constructor(){super("twitter.com")}static credential(e,n){return Fs._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ur.credential(n,s)}catch{return null}}}Ur.TWITTER_SIGN_IN_METHOD="twitter.com";Ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC(i,e){return ou(i,"POST","/v1/accounts:signUp",Zr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Fn._fromIdTokenResponse(e,s,o),f=e0(s);return new Gs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=e0(s);return new Gs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function e0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh extends Xn{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,hh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new hh(e,n,s,o)}}function ET(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?hh._fromErrorAndOperation(i,u,e,s):u})}async function AC(i,e,n=!1){const s=await $l(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Gs._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(i,e,n=!1){const{auth:s}=i;if(Pn(s.app))return Promise.reject(Wi(s));const o="reauthenticate";try{const u=await $l(i,ET(s,o,e,i),n);ve(u.idToken,s,"internal-error");const f=pp(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(i.uid===m,s,"user-mismatch"),Gs._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Qn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TT(i,e,n=!1){if(Pn(i.app))return Promise.reject(Wi(i));const s="signIn",o=await ET(i,s,e),u=await Gs._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function RC(i,e){return TT(Js(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bT(i){const e=Js(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function IC(i,e,n){if(Pn(i.app))return Promise.reject(Wi(i));const s=Js(i),f=await Lm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&bT(i),p}),m=await Gs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function CC(i,e,n){return Pn(i.app)?Promise.reject(Wi(i)):RC(Vt(i),po.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&bT(i),s})}function xC(i,e,n,s){return Vt(i).onIdTokenChanged(e,n,s)}function NC(i,e,n){return Vt(i).beforeAuthStateChanged(e,n)}const fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=1e3,OC=10;class AT extends wT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);W1()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,OC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},DC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}AT.type="LOCAL";const MC=AT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST extends wT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ST.type="SESSION";const RT=ST;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new kh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await VC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=vp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(){return window}function kC(i){gi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(){return typeof gi().WorkerGlobalScope<"u"&&typeof gi().importScripts=="function"}async function LC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UC(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function jC(){return IT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="firebaseLocalStorageDb",zC=1,dh="firebaseLocalStorage",xT="fbase_key";class uu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lh(i,e){return i.transaction([dh],e?"readwrite":"readonly").objectStore(dh)}function BC(){const i=indexedDB.deleteDatabase(CT);return new uu(i).toPromise()}function Um(){const i=indexedDB.open(CT,zC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(dh,{keyPath:xT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(dh)?e(s):(s.close(),await BC(),e(await Um()))})})}async function t0(i,e,n){const s=Lh(i,!0).put({[xT]:e,value:n});return new uu(s).toPromise()}async function qC(i,e){const n=Lh(i,!1).get(e),s=await new uu(n).toPromise();return s===void 0?null:s.value}function n0(i,e){const n=Lh(i,!0).delete(e);return new uu(n).toPromise()}const HC=800,FC=3;class NT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Um(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>FC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kh._getInstance(jC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await LC(),!this.activeServiceWorker)return;this.sender=new PC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Um();return await t0(e,fh,"1"),await n0(e,fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>t0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>qC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>n0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Lh(o,!1).getAll();return new uu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NT.type="LOCAL";const GC=NT;new au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(i,e){return e?Yi(e):(ve(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep extends yp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return no(e,this._buildIdpRequest())}_linkToIdToken(e,n){return no(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return no(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QC(i){return TT(i.auth,new Ep(i),i.bypassAuthState)}function $C(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),SC(n,new Ep(i),i.bypassAuthState)}async function YC(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),AC(n,new Ep(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QC;case"linkViaPopup":case"linkViaRedirect":return YC;case"reauthViaPopup":case"reauthViaRedirect":return $C;default:Qn(this.auth,"internal-error")}}resolve(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=new au(2e3,1e4);class Ja extends DT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ja.currentPopupAction&&Ja.currentPopupAction.cancel(),Ja.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){tr(this.filter.length===1,"Popup operations only handle one event");const e=vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ja.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XC.get())};e()}}Ja.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="pendingRedirect",Wc=new Map;class ZC extends DT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Wc.get(this.auth._key());if(!e){try{const s=await JC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Wc.set(this.auth._key(),e)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JC(i,e){const n=nx(e),s=tx(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function ex(i,e){Wc.set(i._key(),e)}function tx(i){return Yi(i._redirectPersistence)}function nx(i){return Xc(WC,i.config.apiKey,i.name)}async function ix(i,e,n=!1){if(Pn(i.app))return Promise.reject(Wi(i));const s=Js(i),o=KC(s,e),f=await new ZC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=10*60*1e3;class sx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ax(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!OT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(pi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rx&&this.cachedEventUids.clear(),this.cachedEventUids.has(i0(e))}saveEventToCache(e){this.cachedEventUids.add(i0(e)),this.lastProcessedEventTime=Date.now()}}function i0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function OT({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ax(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ox(i,e={}){return Jr(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ux=/^https?/;async function cx(i){if(i.config.emulator)return;const{authorizedDomains:e}=await ox(i);for(const n of e)try{if(hx(n))return}catch{}Qn(i,"unauthorized-domain")}function hx(i){const e=Pm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!ux.test(n))return!1;if(lx.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=new au(3e4,6e4);function r0(){const i=gi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function dx(i){return new Promise((e,n)=>{var s,o,u;function f(){r0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{r0(),n(pi(i,"network-request-failed"))},timeout:fx.get()})}if(!((o=(s=gi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=gi().gapi)===null||u===void 0)&&u.load)f();else{const m=aC("iframefcb");return gi()[m]=()=>{gapi.load?f():n(pi(i,"network-request-failed"))},gT(`${sC()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Zc=null,e})}let Zc=null;function mx(i){return Zc=Zc||dx(i),Zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=new au(5e3,15e3),gx="__/auth/iframe",yx="emulator/auth/iframe",_x={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ex(i){const e=i.config;ve(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?mp(e,yx):`https://${i.config.authDomain}/${gx}`,s={apiKey:e.apiKey,appName:i.name,v:mo},o=vx.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${su(s).slice(1)}`}async function Tx(i){const e=await mx(i),n=gi().gapi;return ve(n,i,"internal-error"),e.open({where:document.body,url:Ex(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_x,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=pi(i,"network-request-failed"),m=gi().setTimeout(()=>{u(f)},px.get());function p(){gi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wx=500,Ax=600,Sx="_blank",Rx="http://localhost";class s0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ix(i,e,n,s=wx,o=Ax){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},bx),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Wt().toLowerCase();n&&(m=uT(g)?Sx:n),oT(g)&&(e=e||Rx,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[P,L])=>`${A}${P}=${L},`,"");if(X1(g)&&m!=="_self")return Cx(e||"",m),new s0(null);const w=window.open(e||"",m,E);ve(w,i,"popup-blocked");try{w.focus()}catch{}return new s0(w)}function Cx(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx="__/auth/handler",Nx="emulator/auth/handler",Dx=encodeURIComponent("fac");async function a0(i,e,n,s,o,u){ve(i.config.authDomain,i,"auth-domain-config-required"),ve(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:mo,eventId:o};if(e instanceof vT){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",pI(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof lu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${Dx}=${encodeURIComponent(p)}`:"";return`${Ox(i)}?${su(m).slice(1)}${g}`}function Ox({config:i}){return i.emulator?mp(i,Nx):`https://${i.authDomain}/${xx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="webStorageSupport";class Mx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RT,this._completeRedirectFn=ix,this._overrideRedirectResult=ex}async _openPopup(e,n,s,o){var u;tr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await a0(e,n,s,Pm(),o);return Ix(e,f,vp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await a0(e,n,s,Pm(),o);return kC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(tr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Tx(e),s=new sx(e);return n.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vm,{type:vm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[vm];f!==void 0&&n(!!f),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cx(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mT()||lT()||gp()}}const Vx=Mx;var o0="@firebase/auth",l0="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Lx(i){vi(new Kn("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pT(i)},g=new nC(s,o,u,p);return fC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),vi(new Kn("auth-internal",e=>{const n=Js(e.getProvider("auth").getImmediate());return(s=>new Px(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),kn(o0,l0,kx(i)),kn(o0,l0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=5*60,jx=HE("authIdTokenMaxAge")||Ux;let u0=null;const zx=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>jx)return;const o=n==null?void 0:n.token;u0!==o&&(u0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Bx(i=hp()){const e=Zs(i,"auth");if(e.isInitialized())return e.getImmediate();const n=hC(i,{popupRedirectResolver:Vx,persistence:[GC,MC,RT]}),s=HE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=zx(u.toString());NC(n,f,()=>f(n.currentUser)),xC(n,m=>f(m))}}const o=BE("auth");return o&&dC(n,`http://${o}`),n}function qx(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}iC({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=pi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",qx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Lx("Browser");var Hx="firebase",Fx="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn(Hx,Fx,"app");const MT="@firebase/installations",Tp="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=1e4,PT=`w:${Tp}`,kT="FIS_v2",Gx="https://firebaseinstallations.googleapis.com/v1",Kx=60*60*1e3,Qx="installations",$x="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ks=new Ws(Qx,$x,Yx);function LT(i){return i instanceof Xn&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT({projectId:i}){return`${Gx}/projects/${i}/installations`}function jT(i){return{token:i.token,requestStatus:2,expiresIn:Wx(i.expiresIn),creationTime:Date.now()}}async function zT(i,e){const s=(await e.json()).error;return Ks.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function BT({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function Xx(i,{refreshToken:e}){const n=BT(i);return n.append("Authorization",Zx(e)),n}async function qT(i){const e=await i();return e.status>=500&&e.status<600?i():e}function Wx(i){return Number(i.replace("s","000"))}function Zx(i){return`${kT} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jx({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const s=UT(i),o=BT(i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={fid:n,authVersion:kT,appId:i.appId,sdkVersion:PT},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await qT(()=>fetch(s,m));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:jT(g.authToken)}}else throw await zT("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=/^[cdef][\w-]{21}$/,jm="";function n2(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=i2(i);return t2.test(n)?n:jm}catch{return jm}}function i2(i){return e2(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=new Map;function GT(i,e){const n=Uh(i);KT(n,e),r2(n,e)}function KT(i,e){const n=FT.get(i);if(n)for(const s of n)s(e)}function r2(i,e){const n=s2();n&&n.postMessage({key:i,fid:e}),a2()}let zs=null;function s2(){return!zs&&"BroadcastChannel"in self&&(zs=new BroadcastChannel("[Firebase] FID Change"),zs.onmessage=i=>{KT(i.data.key,i.data.fid)}),zs}function a2(){FT.size===0&&zs&&(zs.close(),zs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="firebase-installations-database",l2=1,Qs="firebase-installations-store";let Em=null;function bp(){return Em||(Em=YE(o2,l2,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Qs)}}})),Em}async function mh(i,e){const n=Uh(i),o=(await bp()).transaction(Qs,"readwrite"),u=o.objectStore(Qs),f=await u.get(n);return await u.put(e,n),await o.done,(!f||f.fid!==e.fid)&&GT(i,e.fid),e}async function QT(i){const e=Uh(i),s=(await bp()).transaction(Qs,"readwrite");await s.objectStore(Qs).delete(e),await s.done}async function jh(i,e){const n=Uh(i),o=(await bp()).transaction(Qs,"readwrite"),u=o.objectStore(Qs),f=await u.get(n),m=e(f);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&GT(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wp(i){let e;const n=await jh(i.appConfig,s=>{const o=u2(s),u=c2(i,o);return e=u.registrationPromise,u.installationEntry});return n.fid===jm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function u2(i){const e=i||{fid:n2(),registrationStatus:0};return $T(e)}function c2(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ks.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=h2(i,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:f2(i)}:{installationEntry:e}}async function h2(i,e){try{const n=await Jx(i,e);return mh(i.appConfig,n)}catch(n){throw LT(n)&&n.customData.serverCode===409?await QT(i.appConfig):await mh(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function f2(i){let e=await c0(i.appConfig);for(;e.registrationStatus===1;)await HT(100),e=await c0(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await wp(i);return s||n}return e}function c0(i){return jh(i,e=>{if(!e)throw Ks.create("installation-not-found");return $T(e)})}function $T(i){return d2(i)?{fid:i.fid,registrationStatus:0}:i}function d2(i){return i.registrationStatus===1&&i.registrationTime+VT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2({appConfig:i,heartbeatServiceProvider:e},n){const s=p2(i,n),o=Xx(i,n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={installation:{sdkVersion:PT,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await qT(()=>fetch(s,m));if(p.ok){const g=await p.json();return jT(g)}else throw await zT("Generate Auth Token",p)}function p2(i,{fid:e}){return`${UT(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ap(i,e=!1){let n;const s=await jh(i.appConfig,u=>{if(!YT(u))throw Ks.create("not-registered");const f=u.authToken;if(!e&&_2(f))return u;if(f.requestStatus===1)return n=g2(i,e),u;{if(!navigator.onLine)throw Ks.create("app-offline");const m=E2(u);return n=y2(i,m),m}});return n?await n:s.authToken}async function g2(i,e){let n=await h0(i.appConfig);for(;n.authToken.requestStatus===1;)await HT(100),n=await h0(i.appConfig);const s=n.authToken;return s.requestStatus===0?Ap(i,e):s}function h0(i){return jh(i,e=>{if(!YT(e))throw Ks.create("not-registered");const n=e.authToken;return T2(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function y2(i,e){try{const n=await m2(i,e),s=Object.assign(Object.assign({},e),{authToken:n});return await mh(i.appConfig,s),n}catch(n){if(LT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await QT(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await mh(i.appConfig,s)}throw n}}function YT(i){return i!==void 0&&i.registrationStatus===2}function _2(i){return i.requestStatus===2&&!v2(i)}function v2(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+Kx}function E2(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function T2(i){return i.requestStatus===1&&i.requestTime+VT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b2(i){const e=i,{installationEntry:n,registrationPromise:s}=await wp(e);return s?s.catch(console.error):Ap(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(i,e=!1){const n=i;return await A2(n),(await Ap(n,e)).token}async function A2(i){const{registrationPromise:e}=await wp(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(i){if(!i||!i.options)throw Tm("App Configuration");if(!i.name)throw Tm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw Tm(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Tm(i){return Ks.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="installations",R2="installations-internal",I2=i=>{const e=i.getProvider("app").getImmediate(),n=S2(e),s=Zs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},C2=i=>{const e=i.getProvider("app").getImmediate(),n=Zs(e,XT).getImmediate();return{getId:()=>b2(n),getToken:o=>w2(n,o)}};function x2(){vi(new Kn(XT,I2,"PUBLIC")),vi(new Kn(R2,C2,"PRIVATE"))}x2();kn(MT,Tp);kn(MT,Tp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph="analytics",N2="firebase_id",D2="origin",O2=60*1e3,M2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Sp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un=new Vh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Tn=new Ws("analytics","Analytics",V2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(i){if(!i.startsWith(Sp)){const e=Tn.create("invalid-gtag-resource",{gtagURL:i});return un.warn(e.message),""}return i}function WT(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function k2(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function L2(i,e){const n=k2("firebase-js-sdk-policy",{createScriptURL:P2}),s=document.createElement("script"),o=`${Sp}?l=${i}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function U2(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function j2(i,e,n,s,o,u){const f=s[o];try{if(f)await e[f];else{const p=(await WT(n)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(m){un.error(m)}i("config",o,u)}async function z2(i,e,n,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await WT(n);for(const p of f){const g=m.find(w=>w.measurementId===p),E=g&&e[g.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){un.error(u)}}function B2(i,e,n,s){async function o(u,...f){try{if(u==="event"){const[m,p]=f;await z2(i,e,n,m,p)}else if(u==="config"){const[m,p]=f;await j2(i,e,n,s,m,p)}else if(u==="consent"){const[m,p]=f;i("consent",m,p)}else if(u==="get"){const[m,p,g]=f;i("get",m,p,g)}else if(u==="set"){const[m]=f;i("set",m)}else i(u,...f)}catch(m){un.error(m)}}return o}function q2(i,e,n,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=B2(u,i,e,n),{gtagCore:u,wrappedGtag:window[o]}}function H2(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Sp)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=30,G2=1e3;class K2{constructor(e={},n=G2){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const ZT=new K2;function Q2(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function $2(i){var e;const{appId:n,apiKey:s}=i,o={method:"GET",headers:Q2(s)},u=M2.replace("{app-id}",n),f=await fetch(u,o);if(f.status!==200&&f.status!==304){let m="";try{const p=await f.json();!((e=p.error)===null||e===void 0)&&e.message&&(m=p.error.message)}catch{}throw Tn.create("config-fetch-failed",{httpStatus:f.status,responseMessage:m})}return f.json()}async function Y2(i,e=ZT,n){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw Tn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw Tn.create("no-api-key")}const f=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new Z2;return setTimeout(async()=>{m.abort()},O2),JT({appId:s,apiKey:o,measurementId:u},f,m,e)}async function JT(i,{throttleEndTimeMillis:e,backoffCount:n},s,o=ZT){var u;const{appId:f,measurementId:m}=i;try{await X2(s,e)}catch(p){if(m)return un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:f,measurementId:m};throw p}try{const p=await $2(i);return o.deleteThrottleMetadata(f),p}catch(p){const g=p;if(!W2(g)){if(o.deleteThrottleMetadata(f),m)return un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:f,measurementId:m};throw p}const E=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?kv(n,o.intervalMillis,F2):kv(n,o.intervalMillis),w={throttleEndTimeMillis:Date.now()+E,backoffCount:n+1};return o.setThrottleMetadata(f,w),un.debug(`Calling attemptFetch again in ${E} millis`),JT(i,w,s,o)}}function X2(i,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(u),s(Tn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function W2(i){if(!(i instanceof Xn)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class Z2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function J2(i,e,n,s,o){if(o&&o.global){i("event",n,s);return}else{const u=await e,f=Object.assign(Object.assign({},s),{send_to:u});i("event",n,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(){if(GE())try{await KE()}catch(i){return un.warn(Tn.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return un.warn(Tn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function tN(i,e,n,s,o,u,f){var m;const p=Y2(i);p.then(P=>{n[P.measurementId]=P.appId,i.options.measurementId&&P.measurementId!==i.options.measurementId&&un.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${P.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(P=>un.error(P)),e.push(p);const g=eN().then(P=>{if(P)return s.getId()}),[E,w]=await Promise.all([p,g]);H2(u)||L2(u,E.measurementId),o("js",new Date);const A=(m=f==null?void 0:f.config)!==null&&m!==void 0?m:{};return A[D2]="firebase",A.update=!0,w!=null&&(A[N2]=w),o("config",E.measurementId,A),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.app=e}_delete(){return delete zl[this.app.options.appId],Promise.resolve()}}let zl={},f0=[];const d0={};let bm="dataLayer",iN="gtag",m0,eb,p0=!1;function rN(){const i=[];if(FE()&&i.push("This is a browser extension environment."),hI()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=Tn.create("invalid-analytics-context",{errorInfo:e});un.warn(n.message)}}function sN(i,e,n){rN();const s=i.options.appId;if(!s)throw Tn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Tn.create("no-api-key");if(zl[s]!=null)throw Tn.create("already-exists",{id:s});if(!p0){U2(bm);const{wrappedGtag:u,gtagCore:f}=q2(zl,f0,d0,bm,iN);eb=u,m0=f,p0=!0}return zl[s]=tN(i,f0,d0,e,m0,bm,n),new nN(i)}function aN(i=hp()){i=Vt(i);const e=Zs(i,ph);return e.isInitialized()?e.getImmediate():oN(i)}function oN(i,e={}){const n=Zs(i,ph);if(n.isInitialized()){const o=n.getImmediate();if(Fr(e,n.getOptions()))return o;throw Tn.create("already-initialized")}return n.initialize({options:e})}function lN(i,e,n,s){i=Vt(i),J2(eb,zl[i.app.options.appId],e,n,s).catch(o=>un.error(o))}const g0="@firebase/analytics",y0="0.10.12";function uN(){vi(new Kn(ph,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return sN(s,o,n)},"PUBLIC")),vi(new Kn("analytics-internal",i,"PRIVATE")),kn(g0,y0),kn(g0,y0,"esm2017");function i(e){try{const n=e.getProvider(ph).getImmediate();return{logEvent:(s,o,u)=>lN(n,s,o,u)}}catch(n){throw Tn.create("interop-component-reg-failed",{reason:n})}}}uN();var _0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qr,tb;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,S){function R(){}R.prototype=S.prototype,V.D=S.prototype,V.prototype=new R,V.prototype.constructor=V,V.C=function(x,O,k){for(var C=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)C[Pt-2]=arguments[Pt];return S.prototype[O].apply(x,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,S,R){R||(R=0);var x=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)x[O]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(O=0;16>O;++O)x[O]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=V.g[0],R=V.g[1],O=V.g[2];var k=V.g[3],C=S+(k^R&(O^k))+x[0]+3614090360&4294967295;S=R+(C<<7&4294967295|C>>>25),C=k+(O^S&(R^O))+x[1]+3905402710&4294967295,k=S+(C<<12&4294967295|C>>>20),C=O+(R^k&(S^R))+x[2]+606105819&4294967295,O=k+(C<<17&4294967295|C>>>15),C=R+(S^O&(k^S))+x[3]+3250441966&4294967295,R=O+(C<<22&4294967295|C>>>10),C=S+(k^R&(O^k))+x[4]+4118548399&4294967295,S=R+(C<<7&4294967295|C>>>25),C=k+(O^S&(R^O))+x[5]+1200080426&4294967295,k=S+(C<<12&4294967295|C>>>20),C=O+(R^k&(S^R))+x[6]+2821735955&4294967295,O=k+(C<<17&4294967295|C>>>15),C=R+(S^O&(k^S))+x[7]+4249261313&4294967295,R=O+(C<<22&4294967295|C>>>10),C=S+(k^R&(O^k))+x[8]+1770035416&4294967295,S=R+(C<<7&4294967295|C>>>25),C=k+(O^S&(R^O))+x[9]+2336552879&4294967295,k=S+(C<<12&4294967295|C>>>20),C=O+(R^k&(S^R))+x[10]+4294925233&4294967295,O=k+(C<<17&4294967295|C>>>15),C=R+(S^O&(k^S))+x[11]+2304563134&4294967295,R=O+(C<<22&4294967295|C>>>10),C=S+(k^R&(O^k))+x[12]+1804603682&4294967295,S=R+(C<<7&4294967295|C>>>25),C=k+(O^S&(R^O))+x[13]+4254626195&4294967295,k=S+(C<<12&4294967295|C>>>20),C=O+(R^k&(S^R))+x[14]+2792965006&4294967295,O=k+(C<<17&4294967295|C>>>15),C=R+(S^O&(k^S))+x[15]+1236535329&4294967295,R=O+(C<<22&4294967295|C>>>10),C=S+(O^k&(R^O))+x[1]+4129170786&4294967295,S=R+(C<<5&4294967295|C>>>27),C=k+(R^O&(S^R))+x[6]+3225465664&4294967295,k=S+(C<<9&4294967295|C>>>23),C=O+(S^R&(k^S))+x[11]+643717713&4294967295,O=k+(C<<14&4294967295|C>>>18),C=R+(k^S&(O^k))+x[0]+3921069994&4294967295,R=O+(C<<20&4294967295|C>>>12),C=S+(O^k&(R^O))+x[5]+3593408605&4294967295,S=R+(C<<5&4294967295|C>>>27),C=k+(R^O&(S^R))+x[10]+38016083&4294967295,k=S+(C<<9&4294967295|C>>>23),C=O+(S^R&(k^S))+x[15]+3634488961&4294967295,O=k+(C<<14&4294967295|C>>>18),C=R+(k^S&(O^k))+x[4]+3889429448&4294967295,R=O+(C<<20&4294967295|C>>>12),C=S+(O^k&(R^O))+x[9]+568446438&4294967295,S=R+(C<<5&4294967295|C>>>27),C=k+(R^O&(S^R))+x[14]+3275163606&4294967295,k=S+(C<<9&4294967295|C>>>23),C=O+(S^R&(k^S))+x[3]+4107603335&4294967295,O=k+(C<<14&4294967295|C>>>18),C=R+(k^S&(O^k))+x[8]+1163531501&4294967295,R=O+(C<<20&4294967295|C>>>12),C=S+(O^k&(R^O))+x[13]+2850285829&4294967295,S=R+(C<<5&4294967295|C>>>27),C=k+(R^O&(S^R))+x[2]+4243563512&4294967295,k=S+(C<<9&4294967295|C>>>23),C=O+(S^R&(k^S))+x[7]+1735328473&4294967295,O=k+(C<<14&4294967295|C>>>18),C=R+(k^S&(O^k))+x[12]+2368359562&4294967295,R=O+(C<<20&4294967295|C>>>12),C=S+(R^O^k)+x[5]+4294588738&4294967295,S=R+(C<<4&4294967295|C>>>28),C=k+(S^R^O)+x[8]+2272392833&4294967295,k=S+(C<<11&4294967295|C>>>21),C=O+(k^S^R)+x[11]+1839030562&4294967295,O=k+(C<<16&4294967295|C>>>16),C=R+(O^k^S)+x[14]+4259657740&4294967295,R=O+(C<<23&4294967295|C>>>9),C=S+(R^O^k)+x[1]+2763975236&4294967295,S=R+(C<<4&4294967295|C>>>28),C=k+(S^R^O)+x[4]+1272893353&4294967295,k=S+(C<<11&4294967295|C>>>21),C=O+(k^S^R)+x[7]+4139469664&4294967295,O=k+(C<<16&4294967295|C>>>16),C=R+(O^k^S)+x[10]+3200236656&4294967295,R=O+(C<<23&4294967295|C>>>9),C=S+(R^O^k)+x[13]+681279174&4294967295,S=R+(C<<4&4294967295|C>>>28),C=k+(S^R^O)+x[0]+3936430074&4294967295,k=S+(C<<11&4294967295|C>>>21),C=O+(k^S^R)+x[3]+3572445317&4294967295,O=k+(C<<16&4294967295|C>>>16),C=R+(O^k^S)+x[6]+76029189&4294967295,R=O+(C<<23&4294967295|C>>>9),C=S+(R^O^k)+x[9]+3654602809&4294967295,S=R+(C<<4&4294967295|C>>>28),C=k+(S^R^O)+x[12]+3873151461&4294967295,k=S+(C<<11&4294967295|C>>>21),C=O+(k^S^R)+x[15]+530742520&4294967295,O=k+(C<<16&4294967295|C>>>16),C=R+(O^k^S)+x[2]+3299628645&4294967295,R=O+(C<<23&4294967295|C>>>9),C=S+(O^(R|~k))+x[0]+4096336452&4294967295,S=R+(C<<6&4294967295|C>>>26),C=k+(R^(S|~O))+x[7]+1126891415&4294967295,k=S+(C<<10&4294967295|C>>>22),C=O+(S^(k|~R))+x[14]+2878612391&4294967295,O=k+(C<<15&4294967295|C>>>17),C=R+(k^(O|~S))+x[5]+4237533241&4294967295,R=O+(C<<21&4294967295|C>>>11),C=S+(O^(R|~k))+x[12]+1700485571&4294967295,S=R+(C<<6&4294967295|C>>>26),C=k+(R^(S|~O))+x[3]+2399980690&4294967295,k=S+(C<<10&4294967295|C>>>22),C=O+(S^(k|~R))+x[10]+4293915773&4294967295,O=k+(C<<15&4294967295|C>>>17),C=R+(k^(O|~S))+x[1]+2240044497&4294967295,R=O+(C<<21&4294967295|C>>>11),C=S+(O^(R|~k))+x[8]+1873313359&4294967295,S=R+(C<<6&4294967295|C>>>26),C=k+(R^(S|~O))+x[15]+4264355552&4294967295,k=S+(C<<10&4294967295|C>>>22),C=O+(S^(k|~R))+x[6]+2734768916&4294967295,O=k+(C<<15&4294967295|C>>>17),C=R+(k^(O|~S))+x[13]+1309151649&4294967295,R=O+(C<<21&4294967295|C>>>11),C=S+(O^(R|~k))+x[4]+4149444226&4294967295,S=R+(C<<6&4294967295|C>>>26),C=k+(R^(S|~O))+x[11]+3174756917&4294967295,k=S+(C<<10&4294967295|C>>>22),C=O+(S^(k|~R))+x[2]+718787259&4294967295,O=k+(C<<15&4294967295|C>>>17),C=R+(k^(O|~S))+x[9]+3951481745&4294967295,V.g[0]=V.g[0]+S&4294967295,V.g[1]=V.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,V.g[2]=V.g[2]+O&4294967295,V.g[3]=V.g[3]+k&4294967295}s.prototype.u=function(V,S){S===void 0&&(S=V.length);for(var R=S-this.blockSize,x=this.B,O=this.h,k=0;k<S;){if(O==0)for(;k<=R;)o(this,V,k),k+=this.blockSize;if(typeof V=="string"){for(;k<S;)if(x[O++]=V.charCodeAt(k++),O==this.blockSize){o(this,x),O=0;break}}else for(;k<S;)if(x[O++]=V[k++],O==this.blockSize){o(this,x),O=0;break}}this.h=O,this.o+=S},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var S=1;S<V.length-8;++S)V[S]=0;var R=8*this.o;for(S=V.length-8;S<V.length;++S)V[S]=R&255,R/=256;for(this.u(V),V=Array(16),S=R=0;4>S;++S)for(var x=0;32>x;x+=8)V[R++]=this.g[S]>>>x&255;return V};function u(V,S){var R=m;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=S(V)}function f(V,S){this.h=S;for(var R=[],x=!0,O=V.length-1;0<=O;O--){var k=V[O]|0;x&&k==S||(R[O]=k,x=!1)}this.g=R}var m={};function p(V){return-128<=V&&128>V?u(V,function(S){return new f([S|0],0>S?-1:0)}):new f([V|0],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return w;if(0>V)return q(g(-V));for(var S=[],R=1,x=0;V>=R;x++)S[x]=V/R|0,R*=4294967296;return new f(S,0)}function E(V,S){if(V.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(V.charAt(0)=="-")return q(E(V.substring(1),S));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(S,8)),x=w,O=0;O<V.length;O+=8){var k=Math.min(8,V.length-O),C=parseInt(V.substring(O,O+k),S);8>k?(k=g(Math.pow(S,k)),x=x.j(k).add(g(C))):(x=x.j(R),x=x.add(g(C)))}return x}var w=p(0),A=p(1),P=p(16777216);i=f.prototype,i.m=function(){if(Q(this))return-q(this).m();for(var V=0,S=1,R=0;R<this.g.length;R++){var x=this.i(R);V+=(0<=x?x:4294967296+x)*S,S*=4294967296}return V},i.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(L(this))return"0";if(Q(this))return"-"+q(this).toString(V);for(var S=g(Math.pow(V,6)),R=this,x="";;){var O=fe(R,S).g;R=W(R,O.j(S));var k=((0<R.g.length?R.g[0]:R.h)>>>0).toString(V);if(R=O,L(R))return k+x;for(;6>k.length;)k="0"+k;x=k+x}},i.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function L(V){if(V.h!=0)return!1;for(var S=0;S<V.g.length;S++)if(V.g[S]!=0)return!1;return!0}function Q(V){return V.h==-1}i.l=function(V){return V=W(this,V),Q(V)?-1:L(V)?0:1};function q(V){for(var S=V.g.length,R=[],x=0;x<S;x++)R[x]=~V.g[x];return new f(R,~V.h).add(A)}i.abs=function(){return Q(this)?q(this):this},i.add=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],x=0,O=0;O<=S;O++){var k=x+(this.i(O)&65535)+(V.i(O)&65535),C=(k>>>16)+(this.i(O)>>>16)+(V.i(O)>>>16);x=C>>>16,k&=65535,C&=65535,R[O]=C<<16|k}return new f(R,R[R.length-1]&-2147483648?-1:0)};function W(V,S){return V.add(q(S))}i.j=function(V){if(L(this)||L(V))return w;if(Q(this))return Q(V)?q(this).j(q(V)):q(q(this).j(V));if(Q(V))return q(this.j(q(V)));if(0>this.l(P)&&0>V.l(P))return g(this.m()*V.m());for(var S=this.g.length+V.g.length,R=[],x=0;x<2*S;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var O=0;O<V.g.length;O++){var k=this.i(x)>>>16,C=this.i(x)&65535,Pt=V.i(O)>>>16,at=V.i(O)&65535;R[2*x+2*O]+=C*at,re(R,2*x+2*O),R[2*x+2*O+1]+=k*at,re(R,2*x+2*O+1),R[2*x+2*O+1]+=C*Pt,re(R,2*x+2*O+1),R[2*x+2*O+2]+=k*Pt,re(R,2*x+2*O+2)}for(x=0;x<S;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=S;x<2*S;x++)R[x]=0;return new f(R,0)};function re(V,S){for(;(V[S]&65535)!=V[S];)V[S+1]+=V[S]>>>16,V[S]&=65535,S++}function ne(V,S){this.g=V,this.h=S}function fe(V,S){if(L(S))throw Error("division by zero");if(L(V))return new ne(w,w);if(Q(V))return S=fe(q(V),S),new ne(q(S.g),q(S.h));if(Q(S))return S=fe(V,q(S)),new ne(q(S.g),S.h);if(30<V.g.length){if(Q(V)||Q(S))throw Error("slowDivide_ only works with positive integers.");for(var R=A,x=S;0>=x.l(V);)R=he(R),x=he(x);var O=Ae(R,1),k=Ae(x,1);for(x=Ae(x,2),R=Ae(R,2);!L(x);){var C=k.add(x);0>=C.l(V)&&(O=O.add(R),k=C),x=Ae(x,1),R=Ae(R,1)}return S=W(V,O.j(S)),new ne(O,S)}for(O=w;0<=V.l(S);){for(R=Math.max(1,Math.floor(V.m()/S.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),k=g(R),C=k.j(S);Q(C)||0<C.l(V);)R-=x,k=g(R),C=k.j(S);L(k)&&(k=A),O=O.add(k),V=W(V,C)}return new ne(O,V)}i.A=function(V){return fe(this,V).h},i.and=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],x=0;x<S;x++)R[x]=this.i(x)&V.i(x);return new f(R,this.h&V.h)},i.or=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],x=0;x<S;x++)R[x]=this.i(x)|V.i(x);return new f(R,this.h|V.h)},i.xor=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],x=0;x<S;x++)R[x]=this.i(x)^V.i(x);return new f(R,this.h^V.h)};function he(V){for(var S=V.g.length+1,R=[],x=0;x<S;x++)R[x]=V.i(x)<<1|V.i(x-1)>>>31;return new f(R,V.h)}function Ae(V,S){var R=S>>5;S%=32;for(var x=V.g.length-R,O=[],k=0;k<x;k++)O[k]=0<S?V.i(k+R)>>>S|V.i(k+R+1)<<32-S:V.i(k+R);return new f(O,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,tb=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,qr=f}).apply(typeof _0<"u"?_0:typeof self<"u"?self:typeof window<"u"?window:{});var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nb,Pl,ib,Jc,zm,rb,sb,ab;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof qc=="object"&&qc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var j=c[b];if(!(j in _))break e;_=_[j]}c=c[c.length-1],b=_[c],y=y(b),y!=b&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,b=!1,j={next:function(){if(!b&&_<c.length){var K=_++;return{value:y(K,c[K]),done:!1}}return b=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function w(c,y,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,b),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function A(c,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,A.apply(null,arguments)}function P(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function L(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,j,K){for(var se=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)se[Pe-2]=arguments[Pe];return y.prototype[j].apply(b,se)}}function Q(c){const y=c.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=c[b];return _}return[]}function q(c,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const j=c.length||0,K=b.length||0;c.length=j+K;for(let se=0;se<K;se++)c[j+se]=b[se]}else c.push(b)}}class W{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function re(c){return/^[\s\xa0]*$/.test(c)}function ne(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function fe(c){return fe[" "](c),c}fe[" "]=function(){};var he=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function Ae(c,y,_){for(const b in c)y.call(_,c[b],b,c)}function V(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function S(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,y){let _,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(_ in b)c[_]=b[_];for(let K=0;K<R.length;K++)_=R[K],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function O(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function k(c){m.setTimeout(()=>{throw c},0)}function C(){var c=ze;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Pt{constructor(){this.h=this.g=null}add(y,_){const b=at.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var at=new W(()=>new $,c=>c.reset());class ${constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,me=!1,ze=new Pt,D=()=>{const c=m.Promise.resolve(void 0);ae=()=>{c.then(te)}};var te=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){k(_)}var y=at;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function xe(c,y){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(he){e:{try{fe(y.nodeName);var j=!0;break e}catch{}j=!1}j||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xe.aa.h.call(this)}}L(xe,ie);var be={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var It="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function Wn(c,y,_,b,j){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=j,this.key=++Ze,this.da=this.fa=!1}function sr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function bi(c){this.src=c,this.g={},this.h=0}bi.prototype.add=function(c,y,_,b,j){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var se=is(c,y,b,j);return-1<se?(y=c[se],_||(y.fa=!1)):(y=new Wn(y,this.src,K,!!b,j),y.fa=_,c.push(y)),y};function ns(c,y){var _=y.type;if(_ in c.g){var b=c.g[_],j=Array.prototype.indexOf.call(b,y,void 0),K;(K=0<=j)&&Array.prototype.splice.call(b,j,1),K&&(sr(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function is(c,y,_,b){for(var j=0;j<c.length;++j){var K=c[j];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==b)return j}return-1}var rs="closure_lm_"+(1e6*Math.random()|0),To={};function gu(c,y,_,b,j){if(Array.isArray(y)){for(var K=0;K<y.length;K++)gu(c,y[K],_,b,j);return null}return _=yu(_),c&&c[It]?c.K(y,_,g(b)?!!b.capture:!1,j):bn(c,y,_,!1,b,j)}function bn(c,y,_,b,j,K){if(!y)throw Error("Invalid event type");var se=g(j)?!!j.capture:!!j,Pe=ra(c);if(Pe||(c[rs]=Pe=new bi(c)),_=Pe.add(y,_,b,se,K),_.proxy)return _;if(b=sf(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)ge||(j=se),j===void 0&&(j=!1),c.addEventListener(y.toString(),b,j);else if(c.attachEvent)c.attachEvent(ss(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function sf(){function c(_){return y.call(c.src,c.listener,_)}const y=af;return c}function bo(c,y,_,b,j){if(Array.isArray(y))for(var K=0;K<y.length;K++)bo(c,y[K],_,b,j);else b=g(b)?!!b.capture:!!b,_=yu(_),c&&c[It]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],_=is(K,_,b,j),-1<_&&(sr(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=ra(c))&&(y=c.g[y.toString()],c=-1,y&&(c=is(y,_,b,j)),(_=-1<c?y[c]:null)&&ia(_))}function ia(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[It])ns(y.i,c);else{var _=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(_,b,c.capture):y.detachEvent?y.detachEvent(ss(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=ra(y))?(ns(_,c),_.h==0&&(_.src=null,y[rs]=null)):sr(c)}}}function ss(c){return c in To?To[c]:To[c]="on"+c}function af(c,y){if(c.da)c=!0;else{y=new xe(y,this);var _=c.listener,b=c.ha||c.src;c.fa&&ia(c),c=_.call(b,y)}return c}function ra(c){return c=c[rs],c instanceof bi?c:null}var wo="__closure_events_fn_"+(1e9*Math.random()>>>0);function yu(c){return typeof c=="function"?c:(c[wo]||(c[wo]=function(y){return c.handleEvent(y)}),c[wo])}function ot(){oe.call(this),this.i=new bi(this),this.M=this,this.F=null}L(ot,oe),ot.prototype[It]=!0,ot.prototype.removeEventListener=function(c,y,_,b){bo(this,c,y,_,b)};function Fe(c,y){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new ie(y,c);else if(y instanceof ie)y.target=y.target||c;else{var j=y;y=new ie(b,c),x(y,j)}if(j=!0,_)for(var K=_.length-1;0<=K;K--){var se=y.g=_[K];j=cn(se,b,!0,y)&&j}if(se=y.g=c,j=cn(se,b,!0,y)&&j,j=cn(se,b,!1,y)&&j,_)for(K=0;K<_.length;K++)se=y.g=_[K],j=cn(se,b,!1,y)&&j}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],b=0;b<_.length;b++)sr(_[b]);delete c.g[y],c.h--}}this.F=null},ot.prototype.K=function(c,y,_,b){return this.i.add(String(c),y,!1,_,b)},ot.prototype.L=function(c,y,_,b){return this.i.add(String(c),y,!0,_,b)};function cn(c,y,_,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,K=0;K<y.length;++K){var se=y[K];if(se&&!se.da&&se.capture==_){var Pe=se.listener,bt=se.ha||se.src;se.fa&&ns(c.i,se),j=Pe.call(bt,b)!==!1&&j}}return j&&!b.defaultPrevented}function Gt(c,y,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function _u(c){c.g=Gt(()=>{c.g=null,c.i&&(c.i=!1,_u(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class of extends oe{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:_u(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(c){oe.call(this),this.h=c,this.g={}}L(as,oe);var os=[];function ls(c){Ae(c.g,function(y,_){this.g.hasOwnProperty(_)&&ia(y)},c),c.g={}}as.prototype.N=function(){as.aa.N.call(this),ls(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Un=m.JSON.stringify,sa=m.JSON.parse,us=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ao(){}Ao.prototype.h=null;function So(c){return c.h||(c.h=c.i())}function Ro(){}var wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ai(){ie.call(this,"d")}L(Ai,ie);function Io(){ie.call(this,"c")}L(Io,ie);var Zn={},Co=null;function ar(){return Co=Co||new ot}Zn.La="serverreachability";function aa(c){ie.call(this,Zn.La,c)}L(aa,ie);function or(c){const y=ar();Fe(y,new aa(y))}Zn.STAT_EVENT="statevent";function vu(c,y){ie.call(this,Zn.STAT_EVENT,c),this.stat=y}L(vu,ie);function tt(c){const y=ar();Fe(y,new vu(y,c))}Zn.Ma="timingevent";function Tt(c,y){ie.call(this,Zn.Ma,c),this.size=y}L(Tt,ie);function mt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function wn(){this.g=!0}wn.prototype.xa=function(){this.g=!1};function xo(c,y,_,b,j,K){c.info(function(){if(c.g)if(K)for(var se="",Pe=K.split("&"),bt=0;bt<Pe.length;bt++){var ke=Pe[bt].split("=");if(1<ke.length){var xt=ke[0];ke=ke[1];var wt=xt.split("_");se=2<=wt.length&&wt[1]=="type"?se+(xt+"="+ke+"&"):se+(xt+"=redacted&")}}else se=null;else se=K;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+y+`
`+_+`
`+se})}function lf(c,y,_,b,j,K,se){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+y+`
`+_+`
`+K+" "+se})}function lr(c,y,_,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+cs(c,_)+(b?" "+b:"")})}function Eu(c,y){c.info(function(){return"TIMEOUT: "+y})}wn.prototype.info=function(){};function cs(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var j=b[1];if(Array.isArray(j)&&!(1>j.length)){var K=j[0];if(K!="noop"&&K!="stop"&&K!="close")for(var se=1;se<j.length;se++)j[se]=""}}}}return Un(_)}catch{return y}}var ur={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Si={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jn;function ei(){}L(ei,Ao),ei.prototype.g=function(){return new XMLHttpRequest},ei.prototype.i=function(){return{}},Jn=new ei;function Zt(c,y,_,b){this.j=c,this.i=y,this.l=_,this.R=b||1,this.U=new as(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ct}function ct(){this.i=null,this.g="",this.h=!1}var No={},oa={};function jn(c,y,_){c.L=1,c.v=ps(hn(y)),c.m=_,c.P=!0,Ri(c,null)}function Ri(c,y){c.F=Date.now(),hs(c),c.A=hn(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),ko(_.i,"t",b),c.C=0,_=c.j.J,c.h=new ct,c.g=ku(c.j,_?y:null,!c.m),0<c.O&&(c.M=new of(A(c.Y,c,c.g),c.O)),y=c.U,_=c.g,b=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(os[0]=j.toString()),j=os);for(var K=0;K<j.length;K++){var se=gu(_,j[K],b||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),or(),xo(c.i,c.u,c.A,c.l,c.R,c.m)}Zt.prototype.ca=function(c){c=c.target;const y=this.M;y&&In(c)==3?y.j():this.Y(c)},Zt.prototype.Y=function(c){try{if(c==this.g)e:{const wt=In(this.g);var y=this.g.Ba();const Vi=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||Cu(this.g)))){this.J||wt!=4||y==7||(y==8||0>=Vi?or(3):or(2)),cr(this);var _=this.g.Z();this.X=_;t:if(Tu(this)){var b=Cu(this.g);c="";var j=b.length,K=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kt(this),ti(this);var se="";break t}this.h.i=new m.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(K&&y==j-1)});b.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,lf(this.i,this.u,this.A,this.l,this.R,wt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,bt=this.g;if((Pe=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(Pe)){var ke=Pe;break t}}ke=null}if(_=ke)lr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fs(this,_);else{this.o=!1,this.s=3,tt(12),kt(this),ti(this);break e}}if(this.P){_=!0;let Lt;for(;!this.J&&this.C<se.length;)if(Lt=bu(this,se),Lt==oa){wt==4&&(this.s=4,tt(14),_=!1),lr(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==No){this.s=4,tt(15),lr(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else lr(this.i,this.l,Lt,null),fs(this,Lt);if(Tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||se.length!=0||this.h.h||(this.s=1,tt(16),_=!1),this.o=this.o&&_,!_)lr(this.i,this.l,se,"[Invalid Chunked Response]"),kt(this),ti(this);else if(0<se.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),ws(xt),xt.M=!0,tt(11))}}else lr(this.i,this.l,se,null),fs(this,se);wt==4&&kt(this),this.o&&!this.J&&(wt==4?Mu(this.j,this):(this.o=!1,hs(this)))}else df(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),kt(this),ti(this)}}}catch{}finally{}};function Tu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function bu(c,y){var _=c.C,b=y.indexOf(`
`,_);return b==-1?oa:(_=Number(y.substring(_,b)),isNaN(_)?No:(b+=1,b+_>y.length?oa:(y=y.slice(b,b+_),c.C=b+_,y)))}Zt.prototype.cancel=function(){this.J=!0,kt(this)};function hs(c){c.S=Date.now()+c.I,wu(c,c.I)}function wu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=mt(A(c.ba,c),y)}function cr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Zt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Eu(this.i,this.A),this.L!=2&&(or(),tt(17)),kt(this),this.s=2,ti(this)):wu(this,this.S-c)};function ti(c){c.j.G==0||c.J||Mu(c.j,c)}function kt(c){cr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ls(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function fs(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Do(_.h,c))){if(!c.K&&Do(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)va(_),ya(_);else break e;Bo(_),tt(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=mt(A(_.Za,_),6e3));if(1>=ua(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Mi(_,11)}else if((c.K||_.g==c)&&va(_),!re(y))for(j=_.Da.g.parse(y),y=0;y<j.length;y++){let ke=j[y];if(_.T=ke[0],ke=ke[1],_.G==2)if(ke[0]=="c"){_.K=ke[1],_.ia=ke[2];const xt=ke[3];xt!=null&&(_.la=xt,_.j.info("VER="+_.la));const wt=ke[4];wt!=null&&(_.Aa=wt,_.j.info("SVER="+_.Aa));const Vi=ke[5];Vi!=null&&typeof Vi=="number"&&0<Vi&&(b=1.5*Vi,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Lt=c.g;if(Lt){const li=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(li){var K=b.h;K.g||li.indexOf("spdy")==-1&&li.indexOf("quic")==-1&&li.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ca(K,K.h),K.h=null))}if(b.D){const Ho=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ho&&(b.ya=Ho,Qe(b.I,b.D,Ho))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var se=c;if(b.qa=Pu(b,b.J?b.ia:null,b.W),se.K){Jt(b.h,se);var Pe=se,bt=b.L;bt&&(Pe.I=bt),Pe.B&&(cr(Pe),hs(Pe)),b.g=se}else Du(b);0<_.i.length&&_a(_)}else ke[0]!="stop"&&ke[0]!="close"||Mi(_,7);else _.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?Mi(_,7):jo(_):ke[0]!="noop"&&_.l&&_.l.ta(ke),_.v=0)}}or(4)}catch{}}var Au=class{constructor(c,y){this.g=c,this.map=y}};function Ii(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function la(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ua(c){return c.h?1:c.g?c.g.size:0}function Do(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ca(c,y){c.g?c.g.add(y):c.h=y}function Jt(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ii.prototype.cancel=function(){if(this.i=Oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Oo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return Q(c.i)}function uf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,b=0;b<_;b++)y.push(c[b]);return y}y=[],_=0;for(b in c)y[_++]=c[b];return y}function ha(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const b in c)y[_++]=b;return y}}}function Mo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=ha(c),b=uf(c),j=b.length,K=0;K<j;K++)y.call(void 0,b[K],_&&_[K],c)}var ds=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),j=null;if(0<=b){var K=c[_].substring(0,b);j=c[_].substring(b+1)}else K=c[_];y(K,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function pt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof pt){this.h=c.h,ms(this,c.j),this.o=c.o,this.g=c.g,hr(this,c.s),this.l=c.l;var y=c.i,_=new xi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ci(this,_),this.m=c.m}else c&&(y=String(c).match(ds))?(this.h=!1,ms(this,y[1]||"",!0),this.o=An(y[2]||""),this.g=An(y[3]||"",!0),hr(this,y[4]),this.l=An(y[5]||"",!0),Ci(this,y[6]||"",!0),this.m=An(y[7]||"")):(this.h=!1,this.i=new xi(null,this.h))}pt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(gs(y,Vo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(gs(y,Vo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(gs(_,_.charAt(0)=="/"?hf:Po,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",gs(_,fa)),c.join("")};function hn(c){return new pt(c)}function ms(c,y,_){c.j=_?An(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function hr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ci(c,y,_){y instanceof xi?(c.i=y,Ru(c.i,c.h)):(_||(y=gs(y,ff)),c.i=new xi(y,c.h))}function Qe(c,y,_){c.i.set(y,_)}function ps(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function An(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function gs(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Su),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Su(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Vo=/[#\/\?@]/g,Po=/[#\?:]/g,hf=/[#\?]/g,ff=/[#\?@]/g,fa=/#/g;function xi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Sn(c){c.g||(c.g=new Map,c.h=0,c.i&&cf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=xi.prototype,i.add=function(c,y){Sn(this),this.i=null,c=ni(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ni(c,y){Sn(c),y=ni(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Di(c,y){return Sn(c),y=ni(c,y),c.g.has(y)}i.forEach=function(c,y){Sn(this),this.g.forEach(function(_,b){_.forEach(function(j){c.call(y,j,b,this)},this)},this)},i.na=function(){Sn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const j=c[b];for(let K=0;K<j.length;K++)_.push(y[b])}return _},i.V=function(c){Sn(this);let y=[];if(typeof c=="string")Di(this,c)&&(y=y.concat(this.g.get(ni(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return Sn(this),this.i=null,c=ni(this,c),Di(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function ko(c,y,_){Ni(c,y),0<_.length&&(c.i=null,c.g.set(ni(c,y),Q(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const K=encodeURIComponent(String(b)),se=this.V(b);for(b=0;b<se.length;b++){var j=K;se[b]!==""&&(j+="="+encodeURIComponent(String(se[b]))),c.push(j)}}return this.i=c.join("&")};function ni(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ru(c,y){y&&!c.j&&(Sn(c),c.i=null,c.g.forEach(function(_,b){var j=b.toLowerCase();b!=j&&(Ni(this,b),ko(this,j,_))},c)),c.j=y}function ys(c,y){const _=new wn;if(m.Image){const b=new Image;b.onload=P(Rn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=P(Rn,_,"TestLoadImage: error",!1,y,b),b.onabort=P(Rn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=P(Rn,_,"TestLoadImage: timeout",!1,y,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function zn(c,y){const _=new wn,b=new AbortController,j=setTimeout(()=>{b.abort(),Rn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(K=>{clearTimeout(j),K.ok?Rn(_,"TestPingServer: ok",!0,y):Rn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Rn(_,"TestPingServer: error",!1,y)})}function Rn(c,y,_,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(_)}catch{}}function _s(){this.g=new us}function ii(c,y,_){const b=_||"";try{Mo(c,function(j,K){let se=j;g(j)&&(se=Un(j)),y.push(b+K+"="+encodeURIComponent(se))})}catch(j){throw y.push(b+"type="+encodeURIComponent("_badmap")),j}}function fr(c){this.l=c.Ub||null,this.j=c.eb||!1}L(fr,Ao),fr.prototype.g=function(){return new Oi(this.l,this.j)},fr.prototype.i=function(c){return function(){return c}}({});function Oi(c,y){ot.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Oi,ot),i=Oi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,si(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ri(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ri(this):si(this),this.readyState==3&&Lo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ri(this))},i.Qa=function(c){this.g&&(this.response=c,ri(this))},i.ga=function(){this.g&&ri(this)};function ri(c){c.readyState=4,c.l=null,c.j=null,c.v=null,si(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function si(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Uo(c){let y="";return Ae(c,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function Ct(c,y,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=Uo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Qe(c,y,_))}function qe(c){ot.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(qe,ot);var da=/^https?$/i,vs=["POST","PUT"];i=qe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jn.g(),this.v=this.o?So(this.o):So(Jn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Iu(this,K);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)_.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const K of b.keys())_.set(K,b.get(K));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(vs,y,void 0))||b||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of _)this.g.setRequestHeader(K,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Es(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Iu(this,K)}};function Iu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ma(c),ai(c)}function ma(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),ai(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ai(this,!0)),qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?pa(this):this.bb())},i.bb=function(){pa(this)};function pa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||In(c)!=4||c.Z()!=2)){if(c.u&&In(c)==4)Gt(c.Ea,0,c);else if(Fe(c,"readystatechange"),In(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var b;if(b=se===0){var j=String(c.D).match(ds)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),b=!da.test(j?j.toLowerCase():"")}_=b}if(_)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var K=2<In(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",ma(c)}}finally{ai(c)}}}}function ai(c,y){if(c.g){Es(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Fe(c,"ready");try{_.onreadystatechange=b}catch{}}}function Es(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function In(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),sa(y)}};function Cu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function df(c){const y={};c=(c.g&&2<=In(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(re(c[b]))continue;var _=O(c[b]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[j]||[];y[j]=K,K.push(_)}V(y,function(b){return b.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ts(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ga(c){this.Aa=0,this.i=[],this.j=new wn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ts("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ts("baseRetryDelayMs",5e3,c),this.cb=Ts("retryDelaySeedMs",1e4,c),this.Wa=Ts("forwardChannelMaxRetries",2,c),this.wa=Ts("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ii(c&&c.concurrentRequestLimit),this.Da=new _s,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ga.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,b){tt(0),this.W=c,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Pu(this,null,this.W),_a(this)};function jo(c){if(xu(c),c.G==3){var y=c.U++,_=hn(c.I);if(Qe(_,"SID",c.K),Qe(_,"RID",y),Qe(_,"TYPE","terminate"),bs(c,_),y=new Zt(c,c.j,y),y.L=2,y.v=ps(hn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=ku(y.j,null),y.g.ea(y.v)),y.F=Date.now(),hs(y)}Vu(c)}function ya(c){c.g&&(ws(c),c.g.cancel(),c.g=null)}function xu(c){ya(c),c.u&&(m.clearTimeout(c.u),c.u=null),va(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function _a(c){if(!la(c.h)&&!c.s){c.s=!0;var y=c.Ga;ae||D(),me||(ae(),me=!0),ze.add(y,c),c.B=0}}function mf(c,y){return ua(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=mt(A(c.Ga,c,y),qo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new Zt(this,this.j,c);let K=this.o;if(this.S&&(K?(K=S(K),x(K,this.S)):K=this.S),this.m!==null||this.O||(j.H=K,K=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Nu(this,j,y),_=hn(this.I),Qe(_,"RID",c),Qe(_,"CVER",22),this.D&&Qe(_,"X-HTTP-Session-Id",this.D),bs(this,_),K&&(this.O?y="headers="+encodeURIComponent(String(Uo(K)))+"&"+y:this.m&&Ct(_,this.m,K)),ca(this.h,j),this.Ua&&Qe(_,"TYPE","init"),this.P?(Qe(_,"$req",y),Qe(_,"SID","null"),j.T=!0,jn(j,_,null)):jn(j,_,y),this.G=2}}else this.G==3&&(c?zo(this,c):this.i.length==0||la(this.h)||zo(this))};function zo(c,y){var _;y?_=y.l:_=c.U++;const b=hn(c.I);Qe(b,"SID",c.K),Qe(b,"RID",_),Qe(b,"AID",c.T),bs(c,b),c.m&&c.o&&Ct(b,c.m,c.o),_=new Zt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Nu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ca(c.h,_),jn(_,b,y)}function bs(c,y){c.H&&Ae(c.H,function(_,b){Qe(y,b,_)}),c.l&&Mo({},function(_,b){Qe(y,b,_)})}function Nu(c,y,_){_=Math.min(c.i.length,_);var b=c.l?A(c.l.Na,c.l,c):null;e:{var j=c.i;let K=-1;for(;;){const se=["count="+_];K==-1?0<_?(K=j[0].g,se.push("ofs="+K)):K=0:se.push("ofs="+K);let Pe=!0;for(let bt=0;bt<_;bt++){let ke=j[bt].g;const xt=j[bt].map;if(ke-=K,0>ke)K=Math.max(0,j[bt].g-100),Pe=!1;else try{ii(xt,se,"req"+ke+"_")}catch{b&&b(xt)}}if(Pe){b=se.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,b}function Du(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ae||D(),me||(ae(),me=!0),ze.add(y,c),c.v=0}}function Bo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=mt(A(c.Fa,c),qo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=mt(A(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tt(10),ya(this),Ou(this))};function ws(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Ou(c){c.g=new Zt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=hn(c.qa);Qe(y,"RID","rpc"),Qe(y,"SID",c.K),Qe(y,"AID",c.T),Qe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(y,"TO",c.ja),Qe(y,"TYPE","xmlhttp"),bs(c,y),c.m&&c.o&&Ct(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ps(hn(y)),_.m=null,_.P=!0,Ri(_,c)}i.Za=function(){this.C!=null&&(this.C=null,ya(this),Bo(this),tt(19))};function va(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Mu(c,y){var _=null;if(c.g==y){va(c),ws(c),c.g=null;var b=2}else if(Do(c.h,y))_=y.D,Jt(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;b=ar(),Fe(b,new Tt(b,_)),_a(c)}else Du(c);else if(j=y.s,j==3||j==0&&0<y.X||!(b==1&&mf(c,y)||b==2&&Bo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),j){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function qo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Mi(c,y){if(c.j.info("Error code "+y),y==2){var _=A(c.fb,c),b=c.Xa;const j=!b;b=new pt(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ms(b,"https"),ps(b),j?ys(b.toString(),_):zn(b.toString(),_)}else tt(2);c.G=0,c.l&&c.l.sa(y),Vu(c),xu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function Vu(c){if(c.G=0,c.ka=[],c.l){const y=Oo(c.h);(y.length!=0||c.i.length!=0)&&(q(c.ka,y),q(c.ka,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.ra()}}function Pu(c,y,_){var b=_ instanceof pt?hn(_):new pt(_);if(b.g!="")y&&(b.g=y+"."+b.g),hr(b,b.s);else{var j=m.location;b=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var K=new pt(null);b&&ms(K,b),y&&(K.g=y),j&&hr(K,j),_&&(K.l=_),b=K}return _=c.D,y=c.ya,_&&y&&Qe(b,_,y),Qe(b,"VER",c.la),bs(c,b),b}function ku(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new qe(new fr({eb:_})):new qe(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lu(){}i=Lu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ea(){}Ea.prototype.g=function(c,y){return new en(c,y)};function en(c,y){ot.call(this),this.g=new ga(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!re(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!re(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new oi(this)}L(en,ot),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){jo(this.g)},en.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Un(c),c=_);y.i.push(new Au(y.Ya++,c)),y.G==3&&_a(y)},en.prototype.N=function(){this.g.l=null,delete this.j,jo(this.g),delete this.g,en.aa.N.call(this)};function Uu(c){Ai.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}L(Uu,Ai);function ju(){Io.call(this),this.status=1}L(ju,Io);function oi(c){this.g=c}L(oi,Lu),oi.prototype.ua=function(){Fe(this.g,"a")},oi.prototype.ta=function(c){Fe(this.g,new Uu(c))},oi.prototype.sa=function(c){Fe(this.g,new ju)},oi.prototype.ra=function(){Fe(this.g,"b")},Ea.prototype.createWebChannel=Ea.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,ab=function(){return new Ea},sb=function(){return ar()},rb=Zn,zm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ur.NO_ERROR=0,ur.TIMEOUT=8,ur.HTTP_ERROR=6,Jc=ur,Si.COMPLETE="complete",ib=Si,Ro.EventType=wi,wi.OPEN="a",wi.CLOSE="b",wi.ERROR="c",wi.MESSAGE="d",ot.prototype.listen=ot.prototype.K,Pl=Ro,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,nb=qe}).apply(typeof qc<"u"?qc:typeof self<"u"?self:typeof window<"u"?window:{});const v0="@firebase/firestore",E0="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let go="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new Vh("@firebase/firestore");function Ya(){return $s.logLevel}function le(i,...e){if($s.logLevel<=Me.DEBUG){const n=e.map(Rp);$s.debug(`Firestore (${go}): ${i}`,...n)}}function nr(i,...e){if($s.logLevel<=Me.ERROR){const n=e.map(Rp);$s.error(`Firestore (${go}): ${i}`,...n)}}function ro(i,...e){if($s.logLevel<=Me.WARN){const n=e.map(Rp);$s.warn(`Firestore (${go}): ${i}`,...n)}}function Rp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i="Unexpected state"){const e=`FIRESTORE (${go}) INTERNAL ASSERTION FAILED: `+i;throw nr(e),new Error(e)}function He(i,e){i||Te()}function Se(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Xn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class hN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fN{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Zi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Zi,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Zi)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string"),new ob(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new Yt(e)}}class dN{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class mN{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new dN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class T0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pN{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Pn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){He(this.o===void 0);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new T0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string"),this.R=n.token,new T0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=gN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ce(i,e){return i<e?-1:i>e?1:0}function Bm(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ce(s,o);{const u=lb(),f=yN(u.encode(b0(i,n)),u.encode(b0(e,n)));return f!==0?f:Ce(s,o)}}n+=s>65535?2:1}return Ce(i.length,e.length)}function b0(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function yN(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Ce(i[n],e[n]);return Ce(i.length,e.length)}function so(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=-62135596800,A0=1e6;class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*A0);return new Et(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<w0)throw new ue(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/A0}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-w0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Et(0,0))}static max(){return new we(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="__name__";class mi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(),s===void 0?s=e.length-n:s>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=mi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ce(e.length,n.length)}static compareSegments(e,n){const s=mi.isNumericId(e),o=mi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?mi.extractNumericId(e).compare(mi.extractNumericId(n)):Bm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qr.fromString(e.substring(4,e.length-2))}}class et extends mi{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new et(n)}static emptyPath(){return new et([])}}const _N=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends mi{construct(e,n,s){return new Ht(e,n,s)}static isValidIdentifier(e){return _N.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===S0}static keyField(){return new Ht([S0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ue(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ue(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(et.fromString(e))}static fromName(e){return new pe(et.fromString(e).popFirst(5))}static empty(){return new pe(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new et(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=-1;function vN(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new Et(n+1,0):new Et(n,s));return new Gr(o,pe.empty(),e)}function EN(i){return new Gr(i.readTime,i.key,Xl)}class Gr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Gr(we.min(),pe.empty(),Xl)}static max(){return new Gr(we.max(),pe.empty(),Xl)}}function TN(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(i.documentKey,e.documentKey),n!==0?n:Ce(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yo(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==bN)throw i;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(o=>o?J.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new J((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new J((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function AN(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _o(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}zh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=-1;function Bh(i){return i==null}function gh(i){return i===0&&1/i==-1/0}function SN(i){return typeof i=="number"&&Number.isInteger(i)&&!gh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="";function RN(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=R0(e)),e=IN(i.get(n),e);return R0(e)}function IN(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case cb:n+="";break;default:n+=u}}return n}function R0(i){return i+cb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function es(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function hb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hc(this.root,e,this.comparator,!0)}}class Hc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??qt.RED,this.left=o??qt.EMPTY,this.right=u??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,s,o,u){return this}insert(e,n,s){return new qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new C0(this.data.getIterator())}getIteratorFrom(e){return new C0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class C0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new En([])}unionWith(e){let n=new Rt(Ht.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new En(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return so(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new fb("Invalid base64 string: "+u):u}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const CN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(i){if(He(!!i),typeof i=="string"){let e=0;const n=CN.exec(i);if(He(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:dt(i.seconds),nanos:dt(i.nanos)}}function dt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Qr(i){return typeof i=="string"?Ft.fromBase64String(i):Ft.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="server_timestamp",mb="__type__",pb="__previous_value__",gb="__local_write_time__";function Cp(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[mb])===null||n===void 0?void 0:n.stringValue)===db}function qh(i){const e=i.mapValue.fields[pb];return Cp(e)?qh(e):e}function Wl(i){const e=Kr(i.mapValue.fields[gb].timestampValue);return new Et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,n,s,o,u,f,m,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const yh="(default)";class Zl{constructor(e,n){this.projectId=e,this.database=n||yh}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===yh}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="__type__",NN="__max__",Fc={mapValue:{}},_b="__vector__",_h="value";function $r(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Cp(i)?4:ON(i)?9007199254740991:DN(i)?10:11:Te()}function Ei(i,e){if(i===e)return!0;const n=$r(i);if(n!==$r(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Wl(i).isEqual(Wl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Kr(o.timestampValue),m=Kr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Qr(o.bytesValue).isEqual(Qr(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return dt(o.geoPointValue.latitude)===dt(u.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return dt(o.integerValue)===dt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=dt(o.doubleValue),m=dt(u.doubleValue);return f===m?gh(f)===gh(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return so(i.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(I0(f)!==I0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ei(f[p],m[p])))return!1;return!0}(i,e);default:return Te()}}function Jl(i,e){return(i.values||[]).find(n=>Ei(n,e))!==void 0}function ao(i,e){if(i===e)return 0;const n=$r(i),s=$r(e);if(n!==s)return Ce(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=dt(u.integerValue||u.doubleValue),p=dt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return x0(i.timestampValue,e.timestampValue);case 4:return x0(Wl(i),Wl(e));case 5:return Bm(i.stringValue,e.stringValue);case 6:return function(u,f){const m=Qr(u),p=Qr(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ce(m[g],p[g]);if(E!==0)return E}return Ce(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ce(dt(u.latitude),dt(f.latitude));return m!==0?m:Ce(dt(u.longitude),dt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return N0(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const w=u.fields||{},A=f.fields||{},P=(m=w[_h])===null||m===void 0?void 0:m.arrayValue,L=(p=A[_h])===null||p===void 0?void 0:p.arrayValue,Q=Ce(((g=P==null?void 0:P.values)===null||g===void 0?void 0:g.length)||0,((E=L==null?void 0:L.values)===null||E===void 0?void 0:E.length)||0);return Q!==0?Q:N0(P,L)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Fc.mapValue&&f===Fc.mapValue)return 0;if(u===Fc.mapValue)return 1;if(f===Fc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const A=Bm(p[w],E[w]);if(A!==0)return A;const P=ao(m[p[w]],g[E[w]]);if(P!==0)return P}return Ce(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Te()}}function x0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ce(i,e);const n=Kr(i),s=Kr(e),o=Ce(n.seconds,s.seconds);return o!==0?o:Ce(n.nanos,s.nanos)}function N0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=ao(n[o],s[o]);if(u)return u}return Ce(n.length,s.length)}function oo(i){return qm(i)}function qm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Kr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Qr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return pe.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=qm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${qm(n.fields[f])}`;return o+"}"}(i.mapValue):Te()}function eh(i){switch($r(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qh(i);return e?16+eh(e):16;case 5:return 2*i.stringValue.length;case 6:return Qr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+eh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return es(s.fields,(u,f)=>{o+=u.length+eh(f)}),o}(i.mapValue);default:throw Te()}}function D0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Hm(i){return!!i&&"integerValue"in i}function xp(i){return!!i&&"arrayValue"in i}function O0(i){return!!i&&"nullValue"in i}function M0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function th(i){return!!i&&"mapValue"in i}function DN(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[yb])===null||n===void 0?void 0:n.stringValue)===_b}function Bl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return es(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Bl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function ON(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===NN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(n)}setAll(e){let n=Ht.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Bl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){es(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new ln(Bl(this.value))}}function vb(i){const e=[];return es(i.fields,(n,s)=>{const o=new Ht([n]);if(th(s)){const u=vb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new En(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Xt(e,0,we.min(),we.min(),we.min(),ln.empty(),0)}static newFoundDocument(e,n,s,o){return new Xt(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new Xt(e,2,n,we.min(),we.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,we.min(),we.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n){this.position=e,this.inclusive=n}}function V0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(f.referenceValue),n.key):s=ao(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function P0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ei(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n="asc"){this.field=e,this.dir=n}}function MN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{}class vt extends Eb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new PN(e,n,s):n==="array-contains"?new UN(e,s):n==="in"?new jN(e,s):n==="not-in"?new zN(e,s):n==="array-contains-any"?new BN(e,s):new vt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new kN(e,s):new LN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ao(n,this.value)):n!==null&&$r(this.value)===$r(n)&&this.matchesComparison(ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends Eb{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new $n(e,n)}matches(e){return Tb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Tb(i){return i.op==="and"}function bb(i){return VN(i)&&Tb(i)}function VN(i){for(const e of i.filters)if(e instanceof $n)return!1;return!0}function Fm(i){if(i instanceof vt)return i.field.canonicalString()+i.op.toString()+oo(i.value);if(bb(i))return i.filters.map(e=>Fm(e)).join(",");{const e=i.filters.map(n=>Fm(n)).join(",");return`${i.op}(${e})`}}function wb(i,e){return i instanceof vt?function(s,o){return o instanceof vt&&s.op===o.op&&s.field.isEqual(o.field)&&Ei(s.value,o.value)}(i,e):i instanceof $n?function(s,o){return o instanceof $n&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&wb(f,o.filters[m]),!0):!1}(i,e):void Te()}function Ab(i){return i instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${oo(n.value)}`}(i):i instanceof $n?function(n){return n.op.toString()+" {"+n.getFilters().map(Ab).join(" ,")+"}"}(i):"Filter"}class PN extends vt{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class kN extends vt{constructor(e,n){super(e,"in",n),this.keys=Sb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class LN extends vt{constructor(e,n){super(e,"not-in",n),this.keys=Sb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Sb(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>pe.fromName(s.referenceValue))}class UN extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xp(n)&&Jl(n.arrayValue,this.value)}}class jN extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class zN extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Jl(this.value.arrayValue,n)}}class BN extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Jl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function k0(i,e=null,n=[],s=[],o=null,u=null,f=null){return new qN(i,e,n,s,o,u,f)}function Np(i){const e=Se(i);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Fm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>oo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>oo(s)).join(",")),e.le=n}return e.le}function Dp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!MN(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!wb(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!P0(i.startAt,e.startAt)&&P0(i.endAt,e.endAt)}function Gm(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function HN(i,e,n,s,o,u,f,m){return new cu(i,e,n,s,o,u,f,m)}function Op(i){return new cu(i)}function L0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Rb(i){return i.collectionGroup!==null}function ql(i){const e=Se(i);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Rt(Ht.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new Eh(u,s))}),n.has(Ht.keyField().canonicalString())||e.he.push(new Eh(Ht.keyField(),s))}return e.he}function yi(i){const e=Se(i);return e.Pe||(e.Pe=FN(e,ql(i))),e.Pe}function FN(i,e){if(i.limitType==="F")return k0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Eh(o.field,u)});const n=i.endAt?new vh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new vh(i.startAt.position,i.startAt.inclusive):null;return k0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Km(i,e){const n=i.filters.concat([e]);return new cu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Qm(i,e,n){return new cu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Hh(i,e){return Dp(yi(i),yi(e))&&i.limitType===e.limitType}function Ib(i){return`${Np(yi(i))}|lt:${i.limitType}`}function Xa(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>Ab(o)).join(", ")}]`),Bh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>oo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>oo(o)).join(",")),`Target(${s})`}(yi(i))}; limitType=${i.limitType})`}function Fh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=V0(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,ql(s),o)||s.endAt&&!function(f,m,p){const g=V0(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,ql(s),o))}(i,e)}function GN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Cb(i){return(e,n)=>{let s=!1;for(const o of ql(i)){const u=KN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function KN(i,e,n){const s=i.field.isKeyField()?pe.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?ao(p,g):Te()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){es(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return hb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=new st(pe.comparator);function ir(){return QN}const xb=new st(pe.comparator);function kl(...i){let e=xb;for(const n of i)e=e.insert(n.key,n);return e}function Nb(i){let e=xb;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Bs(){return Hl()}function Db(){return Hl()}function Hl(){return new ea(i=>i.toString(),(i,e)=>i.isEqual(e))}const $N=new st(pe.comparator),YN=new Rt(pe.comparator);function Ve(...i){let e=YN;for(const n of i)e=e.add(n);return e}const XN=new Rt(Ce);function WN(){return XN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(e)?"-0":e}}function Ob(i){return{integerValue:""+i}}function ZN(i,e){return SN(e)?Ob(e):Mp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(){this._=void 0}}function JN(i,e,n){return i instanceof Th?function(o,u){const f={fields:{[mb]:{stringValue:db},[gb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Cp(u)&&(u=qh(u)),u&&(f.fields[pb]=u),{mapValue:f}}(n,e):i instanceof eu?Vb(i,e):i instanceof tu?Pb(i,e):function(o,u){const f=Mb(o,u),m=U0(f)+U0(o.Ie);return Hm(f)&&Hm(o.Ie)?Ob(m):Mp(o.serializer,m)}(i,e)}function eD(i,e,n){return i instanceof eu?Vb(i,e):i instanceof tu?Pb(i,e):n}function Mb(i,e){return i instanceof bh?function(s){return Hm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Th extends Gh{}class eu extends Gh{constructor(e){super(),this.elements=e}}function Vb(i,e){const n=kb(e);for(const s of i.elements)n.some(o=>Ei(o,s))||n.push(s);return{arrayValue:{values:n}}}class tu extends Gh{constructor(e){super(),this.elements=e}}function Pb(i,e){let n=kb(e);for(const s of i.elements)n=n.filter(o=>!Ei(o,s));return{arrayValue:{values:n}}}class bh extends Gh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function U0(i){return dt(i.integerValue||i.doubleValue)}function kb(i){return xp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function tD(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof eu&&o instanceof eu||s instanceof tu&&o instanceof tu?so(s.elements,o.elements,Ei):s instanceof bh&&o instanceof bh?Ei(s.Ie,o.Ie):s instanceof Th&&o instanceof Th}(i.transform,e.transform)}class nD{constructor(e,n){this.version=e,this.transformResults=n}}class Ln{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Kh{}function Lb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Vp(i.key,Ln.none()):new hu(i.key,i.data,Ln.none());{const n=i.data,s=ln.empty();let o=new Rt(Ht.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ts(i.key,s,new En(o.toArray()),Ln.none())}}function iD(i,e,n){i instanceof hu?function(o,u,f){const m=o.value.clone(),p=z0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof ts?function(o,u,f){if(!nh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=z0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(Ub(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Fl(i,e,n,s){return i instanceof hu?function(u,f,m,p){if(!nh(u.precondition,f))return m;const g=u.value.clone(),E=B0(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof ts?function(u,f,m,p){if(!nh(u.precondition,f))return m;const g=B0(u.fieldTransforms,p,f),E=f.data;return E.setAll(Ub(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(i,e,n,s):function(u,f,m){return nh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function rD(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=Mb(s.transform,o||null);u!=null&&(n===null&&(n=ln.empty()),n.set(s.field,u))}return n||null}function j0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&so(s,o,(u,f)=>tD(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class hu extends Kh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ts extends Kh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Ub(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function z0(i,e,n){const s=new Map;He(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,eD(f,m,n[o]))}return s}function B0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,JN(u,f,e))}return s}class Vp extends Kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sD extends Kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&iD(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Db();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=Lb(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&so(this.mutations,e.mutations,(n,s)=>j0(n,s))&&so(this.baseMutations,e.baseMutations,(n,s)=>j0(n,s))}}class Pp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){He(e.mutations.length===s.length);let o=function(){return $N}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Pp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Ue;function uD(i){switch(i){case ee.OK:return Te();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Te()}}function jb(i){if(i===void 0)return nr("GRPC error has no .code"),ee.UNKNOWN;switch(i){case _t.OK:return ee.OK;case _t.CANCELLED:return ee.CANCELLED;case _t.UNKNOWN:return ee.UNKNOWN;case _t.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case _t.INTERNAL:return ee.INTERNAL;case _t.UNAVAILABLE:return ee.UNAVAILABLE;case _t.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case _t.NOT_FOUND:return ee.NOT_FOUND;case _t.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case _t.ABORTED:return ee.ABORTED;case _t.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case _t.DATA_LOSS:return ee.DATA_LOSS;default:return Te()}}(Ue=_t||(_t={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=new qr([4294967295,4294967295],0);function q0(i){const e=lb().encode(i),n=new tb;return n.update(e),new Uint8Array(n.digest())}function H0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new qr([n,s],0),new qr([o,u],0)]}class kp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ll(`Invalid padding: ${n}`);if(s<0)throw new Ll(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=qr.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(qr.fromNumber(s)));return o.compare(cD)===1&&(o=new qr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=q0(e),[s,o]=H0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new kp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=q0(e),[s,o]=H0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Qh(we.min(),o,new st(Ce),ir(),Ve())}}class fu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new fu(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class zb{constructor(e,n){this.targetId=e,this.ge=n}}class Bb{constructor(e,n,s=Ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class F0{constructor(){this.pe=0,this.ye=G0(),this.we=Ft.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ve(),n=Ve(),s=Ve();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te()}}),new fu(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=G0()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,He(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class hD{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ir(),this.$e=Gc(),this.Ue=Gc(),this.Ke=new st(Ce)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Gm(u))if(s===0){const f=new pe(u.path);this.ze(n,f,Xt.newNoDocument(f,we.min()))}else He(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Qr(s).toUint8Array()}catch(p){if(p instanceof fb)return ro("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new kp(f,o,u)}catch(p){return ro(p instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Gm(m.target)){const p=new pe(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Xt.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Ve();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Qh(e,n,this.Ke,this.Qe,s);return this.Qe=ir(),this.$e=Gc(),this.Ue=Gc(),this.Ke=new st(Ce),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new F0,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Rt(Ce),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Rt(Ce),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new F0),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Gc(){return new st(pe.comparator)}function G0(){return new st(pe.comparator)}const fD={asc:"ASCENDING",desc:"DESCENDING"},dD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mD={and:"AND",or:"OR"};class pD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $m(i,e){return i.useProto3Json||Bh(e)?e:{value:e}}function wh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function gD(i,e){return wh(i,e.toTimestamp())}function _i(i){return He(!!i),we.fromTimestamp(function(n){const s=Kr(n);return new Et(s.seconds,s.nanos)}(i))}function Lp(i,e){return Ym(i,e).canonicalString()}function Ym(i,e){const n=function(o){return new et(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function Hb(i){const e=et.fromString(i);return He($b(e)),e}function Xm(i,e){return Lp(i.databaseId,e.path)}function wm(i,e){const n=Hb(e);if(n.get(1)!==i.databaseId.projectId)throw new ue(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ue(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new pe(Gb(n))}function Fb(i,e){return Lp(i.databaseId,e)}function yD(i){const e=Hb(i);return e.length===4?et.emptyPath():Gb(e)}function Wm(i){return new et(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Gb(i){return He(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function K0(i,e,n){return{name:Xm(i,e),fields:n.value.mapValue.fields}}function _D(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(He(E===void 0||typeof E=="string"),Ft.fromBase64String(E||"")):(He(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Ft.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?ee.UNKNOWN:jb(g.code);return new ue(E,g.message||"")}(f);n=new Bb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=wm(i,s.document.name),u=_i(s.document.updateTime),f=s.document.createTime?_i(s.document.createTime):we.min(),m=new ln({mapValue:{fields:s.document.fields}}),p=Xt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new ih(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=wm(i,s.document),u=s.readTime?_i(s.readTime):we.min(),f=Xt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ih([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=wm(i,s.document),u=s.removedTargetIds||[];n=new ih([],u,o,null)}else{if(!("filter"in e))return Te();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new lD(o,u),m=s.targetId;n=new zb(m,f)}}return n}function vD(i,e){let n;if(e instanceof hu)n={update:K0(i,e.key,e.value)};else if(e instanceof Vp)n={delete:Xm(i,e.key)};else if(e instanceof ts)n={update:K0(i,e.key,e.data),updateMask:CD(e.fieldMask)};else{if(!(e instanceof sD))return Te();n={verify:Xm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Th)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof eu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof tu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof bh)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Te()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:gD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te()}(i,e.precondition)),n}function ED(i,e){return i&&i.length>0?(He(e!==void 0),i.map(n=>function(o,u){let f=o.updateTime?_i(o.updateTime):_i(u);return f.isEqual(we.min())&&(f=_i(u)),new nD(f,o.transformResults||[])}(n,e))):[]}function TD(i,e){return{documents:[Fb(i,e.path)]}}function bD(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Fb(i,o);const u=function(g){if(g.length!==0)return Qb($n.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(A){return{field:Wa(A.field),direction:SD(A.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=$m(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:o}}function wD(i){let e=yD(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){He(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(w){const A=Kb(w);return A instanceof $n&&bb(A)?A.getFilters():[A]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(A=>function(L){return new Eh(Za(L.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(A))}(n.orderBy));let m=null;n.limit&&(m=function(w){let A;return A=typeof w=="object"?w.value:w,Bh(A)?null:A}(n.limit));let p=null;n.startAt&&(p=function(w){const A=!!w.before,P=w.values||[];return new vh(P,A)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const A=!w.before,P=w.values||[];return new vh(P,A)}(n.endAt)),HN(e,o,f,u,m,"F",p,g)}function AD(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Kb(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Za(n.unaryFilter.field);return vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Za(n.unaryFilter.field);return vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Za(n.unaryFilter.field);return vt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Za(n.unaryFilter.field);return vt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(i):i.fieldFilter!==void 0?function(n){return vt.create(Za(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return $n.create(n.compositeFilter.filters.map(s=>Kb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(i):Te()}function SD(i){return fD[i]}function RD(i){return dD[i]}function ID(i){return mD[i]}function Wa(i){return{fieldPath:i.canonicalString()}}function Za(i){return Ht.fromServerFormat(i.fieldPath)}function Qb(i){return i instanceof vt?function(n){if(n.op==="=="){if(M0(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NAN"}};if(O0(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(M0(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NAN"}};if(O0(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(n.field),op:RD(n.op),value:n.value}}}(i):i instanceof $n?function(n){const s=n.getFilters().map(o=>Qb(o));return s.length===1?s[0]:{compositeFilter:{op:ID(n.op),filters:s}}}(i):Te()}function CD(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $b(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n,s,o,u=we.min(),f=we.min(),m=Ft.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.Tt=e}}function ND(i){const e=wD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Qm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(){this.Tn=new OD}addToCollectionParentIndex(e,n){return this.Tn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Gr.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Gr.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class OD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Rt(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Rt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yb=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(Yb,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new lo(0)}static Kn(){return new lo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="LruGarbageCollector",MD=1048576;function Y0([i,e],[n,s]){const o=Ce(i,n);return o===0?Ce(e,s):o}class VD{constructor(e){this.Hn=e,this.buffer=new Rt(Y0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Y0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class PD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){le($0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_o(n)?le($0,"Ignoring IndexedDB error during garbage collection: ",n):await yo(n)}await this.er(3e5)})}}class kD{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(zh.ae);const s=new VD(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Q0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),Ya()<=Me.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function LD(i,e){return new kD(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.changes=new ea(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Fl(s.mutation,o,En.empty(),Et.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ve()){const o=Bs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=kl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Bs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ve()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=ir();const f=Hl(),m=function(){return Hl()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ts)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Fl(E.mutation,g,E.mutation.getFieldMask(),Et.now())):f.set(g.key,En.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var w;return m.set(g,new jD(E,(w=f.get(g))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Hl();let o=new st((f,m)=>f-m),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||En.empty();E=m.applyToLocalView(g,E),s.set(p,E);const w=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,w=Db();E.forEach(A=>{if(!u.has(A)){const P=Lb(n.get(A),s.get(A));P!==null&&w.set(A,P),u=u.add(A)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return J.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Rb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):J.resolve(Bs());let m=Xl,p=u;return f.next(g=>J.forEach(g,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{p=p.insert(E,A)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ve())).next(E=>({batchId:m,changes:Nb(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(s=>{let o=kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=kl();return this.indexManager.getCollectionParents(e,u).next(m=>J.forEach(m,p=>{const g=function(w,A){return new cu(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((w,A)=>{f=f.insert(w,A)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Xt.newInvalidDocument(E)))});let m=kl();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Fl(E.mutation,g,En.empty(),Et.now()),Fh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return J.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:_i(o.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:ND(o.bundledQuery),readTime:_i(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.overlays=new st(pe.comparator),this.Rr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Bs();return J.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const o=Bs(),u=n.length+1,f=new pe(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new st((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Bs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Bs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return J.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new oD(n,s));let u=this.Rr.get(n);u===void 0&&(u=Ve(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(){this.Vr=new Rt(Mt.mr),this.gr=new Rt(Mt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new Mt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new Mt(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new pe(new et([])),s=new Mt(n,e),o=new Mt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new pe(new et([])),s=new Mt(n,e),o=new Mt(n,e+1);let u=Ve();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Mt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Mt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return pe.comparator(e.key,n.key)||Ce(e.Cr,n.Cr)}static pr(e,n){return Ce(e.Cr,n.Cr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Rt(Mt.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new aD(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Mt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Ip:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Mt(n,0),o=new Mt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Rt(Ce);return n.forEach(o=>{const u=new Mt(o,0),f=new Mt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),J.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const f=new Mt(new pe(u),0);let m=new Rt(Ce);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},f),J.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){He(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return J.forEach(n.mutations,o=>{const u=new Mt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new Mt(n,0),o=this.Mr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.kr=e,this.docs=function(){return new st(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let s=ir();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Xt.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ir();const f=n.path,m=new pe(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||TN(EN(E),s)<=0||(o.has(E.key)||Fh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te()}qr(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new KD(this)}getSize(e){return J.resolve(this.size)}}class KD extends UD{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.persistence=e,this.Qr=new ea(n=>Np(n),Dp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Up,this.targetCount=0,this.Kr=lo.Un()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),J.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new lo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.zn(n),J.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new zh(0),this.zr=!1,this.zr=!0,this.jr=new HD,this.referenceDelegate=e(this),this.Hr=new QD(this),this.indexManager=new DD,this.remoteDocumentCache=function(o){return new GD(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new xD(n),this.Yr=new BD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new FD(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new $D(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return J.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class $D extends wN{constructor(e){super(),this.currentSequenceNumber=e}}class jp{constructor(e){this.persistence=e,this.ti=new Up,this.ni=null}static ri(e){return new jp(e)}get ii(){if(this.ni)return this.ni;throw Te()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),J.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,s=>{const o=pe.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,we.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return J.or([()=>J.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Ah{constructor(e,n){this.persistence=e,this.oi=new ea(s=>RN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=LD(this,n)}static ri(e,n){return new Ah(e,n)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return J.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?J.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=eh(e.data.value)),n}ar(e,n,s){return J.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new zp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return cI()?8:AN(Wt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new YD;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(Ya()<=Me.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(Ya()<=Me.DEBUG&&le("QueryEngine","Query:",Xa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Ya()<=Me.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(n))):J.resolve())}rs(e,n){if(L0(n))return J.resolve(null);let s=yi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Qm(n,null,"F"),s=yi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ve(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(n,m);return this.ls(n,g,f,p.readTime)?this.rs(e,Qm(n,null,"F")):this.hs(e,g,n,p)}))})))}ss(e,n,s,o){return L0(n)||o.isEqual(we.min())?J.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?J.resolve(null):(Ya()<=Me.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Xa(n)),this.hs(e,f,n,vN(o,Xl)).next(m=>m))})}cs(e,n){let s=new Rt(Cb(e));return n.forEach((o,u)=>{Fh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return Ya()<=Me.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Xa(n)),this.ns.getDocumentsMatchingQuery(e,n,Gr.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="LocalStore",WD=3e8;class ZD{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new st(Ce),this.Is=new ea(u=>Np(u),Dp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function JD(i,e,n,s){return new ZD(i,e,n,s)}async function Wb(i,e){const n=Se(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ve();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:m}))})})}function eO(i,e){const n=Se(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const w=g.batch,A=w.keys();let P=J.resolve();return A.forEach(L=>{P=P.next(()=>E.getEntry(p,L)).next(Q=>{const q=g.docVersions.get(L);He(q!==null),Q.version.compareTo(q)<0&&(w.applyToRemoteDocument(Q,g),Q.isValidDocument()&&(Q.setReadTime(g.commitVersion),E.addEntry(Q)))})}),P.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ve();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function Zb(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function tO(i,e){const n=Se(i),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,w)=>{const A=o.get(w);if(!A)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,w)));let P=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?P=P.withResumeToken(Ft.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(w,P),function(Q,q,W){return Q.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=WD?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(A,P,E)&&m.push(n.Hr.updateTargetData(u,P))});let p=ir(),g=Ve();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(nO(u,f,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(we.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(w=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return J.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function nO(i,e,n){let s=Ve(),o=Ve();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=ir();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):le(Bp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function iO(i,e){const n=Se(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Ip),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function rO(i,e){const n=Se(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,J.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new jr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function Zm(i,e,n){const s=Se(i),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!_o(f))throw f;le(Bp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function X0(i,e,n){const s=Se(i);let o=we.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const w=Se(p),A=w.Is.get(E);return A!==void 0?J.resolve(w.Ts.get(A)):w.Hr.getTargetData(g,E)}(s,f,yi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:we.min(),n?u:Ve())).next(m=>(sO(s,GN(e),m),{documents:m,gs:u})))}function sO(i,e,n){let s=i.Es.get(e)||we.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class W0{constructor(){this.activeTargetIds=WN()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aO{constructor(){this.ho=new W0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new W0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="ConnectivityMonitor";class J0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){le(Z0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){le(Z0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc=null;function Jm(){return Kc===null?Kc=function(){return 268435456+Math.round(2147483648*Math.random())}():Kc++,"0x"+Kc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="RestConnection",lO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uO{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===yh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const f=Jm(),m=this.bo(e,n.toUriEncodedString());le(Am,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(g=>(le(Am,`Received RPC '${e}' ${f}: `,g),g),g=>{throw ro(Am,`RPC '${e}' ${f} failed with error: `,g,"url: ",m,"request:",s),g})}Co(e,n,s,o,u,f){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+go}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=lO[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class hO extends uO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=Jm();return new Promise((f,m)=>{const p=new nb;p.setWithCredentials(!0),p.listenOnce(ib.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Jc.NO_ERROR:const E=p.getResponseJson();le($t,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Jc.TIMEOUT:le($t,`RPC '${e}' ${u} timed out`),m(new ue(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const w=p.getStatus();if(le($t,`RPC '${e}' ${u} failed with status:`,w,"response text:",p.getResponseText()),w>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const P=A==null?void 0:A.error;if(P&&P.status&&P.message){const L=function(q){const W=q.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(W)>=0?W:ee.UNKNOWN}(P.status);m(new ue(L,P.message))}else m(new ue(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ue(ee.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{le($t,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);le($t,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}Wo(e,n,s){const o=Jm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=ab(),m=sb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");le($t,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);let A=!1,P=!1;const L=new cO({Fo:q=>{P?le($t,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(A||(le($t,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),le($t,`RPC '${e}' stream ${o} sending:`,q),w.send(q))},Mo:()=>w.close()}),Q=(q,W,re)=>{q.listen(W,ne=>{try{re(ne)}catch(fe){setTimeout(()=>{throw fe},0)}})};return Q(w,Pl.EventType.OPEN,()=>{P||(le($t,`RPC '${e}' stream ${o} transport opened.`),L.Qo())}),Q(w,Pl.EventType.CLOSE,()=>{P||(P=!0,le($t,`RPC '${e}' stream ${o} transport closed`),L.Uo())}),Q(w,Pl.EventType.ERROR,q=>{P||(P=!0,ro($t,`RPC '${e}' stream ${o} transport errored:`,q),L.Uo(new ue(ee.UNAVAILABLE,"The operation could not be completed")))}),Q(w,Pl.EventType.MESSAGE,q=>{var W;if(!P){const re=q.data[0];He(!!re);const ne=re,fe=(ne==null?void 0:ne.error)||((W=ne[0])===null||W===void 0?void 0:W.error);if(fe){le($t,`RPC '${e}' stream ${o} received error:`,fe);const he=fe.status;let Ae=function(R){const x=_t[R];if(x!==void 0)return jb(x)}(he),V=fe.message;Ae===void 0&&(Ae=ee.INTERNAL,V="Unknown error status: "+he+" with message "+fe.message),P=!0,L.Uo(new ue(Ae,V)),w.close()}else le($t,`RPC '${e}' stream ${o} received:`,re),L.Ko(re)}}),Q(m,rb.STAT_EVENT,q=>{q.stat===zm.PROXY?le($t,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===zm.NOPROXY&&le($t,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.$o()},0),L}}function Sm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(i){return new pD(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="PersistentStream";class ew{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Jb(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(nr(n.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new ue(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return le(eE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(le(eE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fO extends ew{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=_D(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?_i(f.readTime):we.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Wm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Gm(p)?{documents:TD(u,p)}:{query:bD(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=qb(u,f.resumeToken);const g=$m(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=wh(u,f.snapshotVersion.toTimestamp());const g=$m(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=AD(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Wm(this.serializer),n.removeTarget=e,this.I_(n)}}class dO extends ew{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return He(!!e.streamToken),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=ED(e.writeResults,e.commitTime),s=_i(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Wm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>vD(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{}class pO extends mO{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ue(ee.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,Ym(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(ee.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,Ym(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ue(ee.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class gO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(nr(n),this.N_=!1):le("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="RemoteStore";class yO{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{ta(this)&&(le(Ys,"Restarting streams for network reachability change."),await async function(p){const g=Se(p);g.W_.add(4),await du(g),g.j_.set("Unknown"),g.W_.delete(4),await Yh(g)}(this))})}),this.j_=new gO(s,o)}}async function Yh(i){if(ta(i))for(const e of i.G_)await e(!0)}async function du(i){for(const e of i.G_)await e(!1)}function tw(i,e){const n=Se(i);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Gp(n)?Fp(n):vo(n).c_()&&Hp(n,e))}function qp(i,e){const n=Se(i),s=vo(n);n.K_.delete(e),s.c_()&&nw(n,e),n.K_.size===0&&(s.c_()?s.P_():ta(n)&&n.j_.set("Unknown"))}function Hp(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vo(i).y_(e)}function nw(i,e){i.H_.Ne(e),vo(i).w_(e)}function Fp(i){i.H_=new hD({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.K_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),vo(i).start(),i.j_.B_()}function Gp(i){return ta(i)&&!vo(i).u_()&&i.K_.size>0}function ta(i){return Se(i).W_.size===0}function iw(i){i.H_=void 0}async function _O(i){i.j_.set("Online")}async function vO(i){i.K_.forEach((e,n)=>{Hp(i,e)})}async function EO(i,e){iw(i),Gp(i)?(i.j_.q_(e),Fp(i)):i.j_.set("Unknown")}async function TO(i,e,n){if(i.j_.set("Online"),e instanceof Bb&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(i,e)}catch(s){le(Ys,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Sh(i,s)}else if(e instanceof ih?i.H_.We(e):e instanceof zb?i.H_.Ze(e):i.H_.je(e),!n.isEqual(we.min()))try{const s=await Zb(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.K_.get(g);E&&u.K_.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.K_.get(p);if(!E)return;u.K_.set(p,E.withResumeToken(Ft.EMPTY_BYTE_STRING,E.snapshotVersion)),nw(u,p);const w=new jr(E.target,p,g,E.sequenceNumber);Hp(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){le(Ys,"Failed to raise snapshot:",s),await Sh(i,s)}}async function Sh(i,e,n){if(!_o(e))throw e;i.W_.add(1),await du(i),i.j_.set("Offline"),n||(n=()=>Zb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{le(Ys,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await Yh(i)})}function rw(i,e){return e().catch(n=>Sh(i,n,e))}async function Xh(i){const e=Se(i),n=Yr(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:Ip;for(;bO(e);)try{const o=await iO(e.localStore,s);if(o===null){e.U_.length===0&&n.P_();break}s=o.batchId,wO(e,o)}catch(o){await Sh(e,o)}sw(e)&&aw(e)}function bO(i){return ta(i)&&i.U_.length<10}function wO(i,e){i.U_.push(e);const n=Yr(i);n.c_()&&n.S_&&n.b_(e.mutations)}function sw(i){return ta(i)&&!Yr(i).u_()&&i.U_.length>0}function aw(i){Yr(i).start()}async function AO(i){Yr(i).C_()}async function SO(i){const e=Yr(i);for(const n of i.U_)e.b_(n.mutations)}async function RO(i,e,n){const s=i.U_.shift(),o=Pp.from(s,e,n);await rw(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Xh(i)}async function IO(i,e){e&&Yr(i).S_&&await async function(s,o){if(function(f){return uD(f)&&f!==ee.ABORTED}(o.code)){const u=s.U_.shift();Yr(s).h_(),await rw(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Xh(s)}}(i,e),sw(i)&&aw(i)}async function tE(i,e){const n=Se(i);n.asyncQueue.verifyOperationInProgress(),le(Ys,"RemoteStore received new credentials");const s=ta(n);n.W_.add(3),await du(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Yh(n)}async function CO(i,e){const n=Se(i);e?(n.W_.delete(2),await Yh(n)):e||(n.W_.add(2),await du(n),n.j_.set("Unknown"))}function vo(i){return i.J_||(i.J_=function(n,s,o){const u=Se(n);return u.M_(),new fO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:_O.bind(null,i),No:vO.bind(null,i),Lo:EO.bind(null,i),p_:TO.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),Gp(i)?Fp(i):i.j_.set("Unknown")):(await i.J_.stop(),iw(i))})),i.J_}function Yr(i){return i.Y_||(i.Y_=function(n,s,o){const u=Se(n);return u.M_(),new dO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:AO.bind(null,i),Lo:IO.bind(null,i),D_:SO.bind(null,i),v_:RO.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await Xh(i)):(await i.Y_.stop(),i.U_.length>0&&(le(Ys,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Kp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qp(i,e){if(nr("AsyncQueue",`${e}: ${i}`),_o(i))return new ue(ee.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{static emptySet(e){return new io(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=kl(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof io)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new io;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(){this.Z_=new st(pe.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Te():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class uo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new uo(e,n,io.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class NO{constructor(){this.queries=iE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Se(n),u=o.queries;o.queries=iE(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new ue(ee.ABORTED,"Firestore shutting down"))}}function iE(){return new ea(i=>Ib(i),Hh)}async function ow(i,e){const n=Se(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new xO,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Qp(f,`Initialization of query '${Xa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&$p(n)}async function lw(i,e){const n=Se(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function DO(i,e){const n=Se(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&$p(n)}function OO(i,e,n){const s=Se(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function $p(i){i.ia.forEach(e=>{e.next()})}var ep,rE;(rE=ep||(ep={}))._a="default",rE.Cache="cache";class uw{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new uo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ep.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e){this.key=e}}class hw{constructor(e){this.key=e}}class MO{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=Cb(e),this.wa=new io(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new nE,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const A=o.get(E),P=Fh(this.query,w)?w:null,L=!!A&&this.mutatedKeys.has(A.key),Q=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let q=!1;A&&P?A.data.isEqual(P.data)?L!==Q&&(s.track({type:3,doc:P}),q=!0):this.va(A,P)||(s.track({type:2,doc:P}),q=!0,(p&&this.ya(P,p)>0||g&&this.ya(P,g)<0)&&(m=!0)):!A&&P?(s.track({type:0,doc:P}),q=!0):A&&!P&&(s.track({type:1,doc:A}),q=!0,(p||g)&&(m=!0)),q&&(P?(f=f.add(P),u=Q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,w)=>function(P,L){const Q=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return Q(P)-Q(L)}(E.type,w.type)||this.ya(E.doc,w.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,f.length!==0||g?{snapshot:new uo(this.query,e.wa,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new nE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new hw(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new cw(s))}),n}Oa(e){this.fa=e.gs,this.pa=Ve();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return uo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Yp="SyncEngine";class VO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class PO{constructor(e){this.key=e,this.Ba=!1}}class kO{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new ea(m=>Ib(m),Hh),this.qa=new Map,this.Qa=new Set,this.$a=new st(pe.comparator),this.Ua=new Map,this.Ka=new Up,this.Wa={},this.Ga=new Map,this.za=lo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function LO(i,e,n=!0){const s=yw(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await fw(s,e,n,!0),o}async function UO(i,e){const n=yw(i);await fw(n,e,!0,!1)}async function fw(i,e,n,s){const o=await rO(i.localStore,yi(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await jO(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&tw(i.remoteStore,o),m}async function jO(i,e,n,s,o){i.Ha=(w,A,P)=>async function(Q,q,W,re){let ne=q.view.ba(W);ne.ls&&(ne=await X0(Q.localStore,q.query,!1).then(({documents:V})=>q.view.ba(V,ne)));const fe=re&&re.targetChanges.get(q.targetId),he=re&&re.targetMismatches.get(q.targetId)!=null,Ae=q.view.applyChanges(ne,Q.isPrimaryClient,fe,he);return aE(Q,q.targetId,Ae.Ma),Ae.snapshot}(i,w,A,P);const u=await X0(i.localStore,e,!0),f=new MO(e,u.gs),m=f.ba(u.documents),p=fu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);aE(i,n,g.Ma);const E=new VO(e,n,f);return i.ka.set(e,E),i.qa.has(n)?i.qa.get(n).push(e):i.qa.set(n,[e]),g.snapshot}async function zO(i,e,n){const s=Se(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Hh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Zm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&qp(s.remoteStore,o.targetId),tp(s,o.targetId)}).catch(yo)):(tp(s,o.targetId),await Zm(s.localStore,o.targetId,!0))}async function BO(i,e){const n=Se(i),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),qp(n.remoteStore,s.targetId))}async function qO(i,e,n){const s=YO(i);try{const o=await function(f,m){const p=Se(f),g=Et.now(),E=m.reduce((P,L)=>P.add(L.key),Ve());let w,A;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let L=ir(),Q=Ve();return p.ds.getEntries(P,E).next(q=>{L=q,L.forEach((W,re)=>{re.isValidDocument()||(Q=Q.add(W))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,L)).next(q=>{w=q;const W=[];for(const re of m){const ne=rD(re,w.get(re.key).overlayedDocument);ne!=null&&W.push(new ts(re.key,ne,vb(ne.value.mapValue),Ln.exists(!0)))}return p.mutationQueue.addMutationBatch(P,g,W,m)}).next(q=>{A=q;const W=q.applyToLocalDocumentSet(w,Q);return p.documentOverlayCache.saveOverlays(P,q.batchId,W)})}).then(()=>({batchId:A.batchId,changes:Nb(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Wa[f.currentUser.toKey()];g||(g=new st(Ce)),g=g.insert(m,p),f.Wa[f.currentUser.toKey()]=g}(s,o.batchId,n),await mu(s,o.changes),await Xh(s.remoteStore)}catch(o){const u=Qp(o,"Failed to persist write");n.reject(u)}}async function dw(i,e){const n=Se(i);try{const s=await tO(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?He(f.Ba):o.removedDocuments.size>0&&(He(f.Ba),f.Ba=!1))}),await mu(n,s,e)}catch(s){await yo(s)}}function sE(i,e,n){const s=Se(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Se(f);p.onlineState=m;let g=!1;p.queries.forEach((E,w)=>{for(const A of w.ta)A.sa(m)&&(g=!0)}),g&&$p(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function HO(i,e,n){const s=Se(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ua.get(e),u=o&&o.key;if(u){let f=new st(pe.comparator);f=f.insert(u,Xt.newNoDocument(u,we.min()));const m=Ve().add(u),p=new Qh(we.min(),new Map,new st(Ce),f,m);await dw(s,p),s.$a=s.$a.remove(u),s.Ua.delete(e),Xp(s)}else await Zm(s.localStore,e,!1).then(()=>tp(s,e,n)).catch(yo)}async function FO(i,e){const n=Se(i),s=e.batch.batchId;try{const o=await eO(n.localStore,e);pw(n,s,null),mw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await mu(n,o)}catch(o){await yo(o)}}async function GO(i,e,n){const s=Se(i);try{const o=await function(f,m){const p=Se(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(w=>(He(w!==null),E=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);pw(s,e,n),mw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await mu(s,o)}catch(o){await yo(o)}}function mw(i,e){(i.Ga.get(e)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(e)}function pw(i,e,n){const s=Se(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function tp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),n&&i.La.Ja(s,n);i.qa.delete(e),i.isPrimaryClient&&i.Ka.br(e).forEach(s=>{i.Ka.containsKey(s)||gw(i,s)})}function gw(i,e){i.Qa.delete(e.path.canonicalString());const n=i.$a.get(e);n!==null&&(qp(i.remoteStore,n),i.$a=i.$a.remove(e),i.Ua.delete(n),Xp(i))}function aE(i,e,n){for(const s of n)s instanceof cw?(i.Ka.addReference(s.key,e),KO(i,s)):s instanceof hw?(le(Yp,"Document no longer in limbo: "+s.key),i.Ka.removeReference(s.key,e),i.Ka.containsKey(s.key)||gw(i,s.key)):Te()}function KO(i,e){const n=e.key,s=n.path.canonicalString();i.$a.get(n)||i.Qa.has(s)||(le(Yp,"New document in limbo: "+n),i.Qa.add(s),Xp(i))}function Xp(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const n=new pe(et.fromString(e)),s=i.za.next();i.Ua.set(s,new PO(n)),i.$a=i.$a.insert(n,s),tw(i.remoteStore,new jr(yi(Op(n.path)),s,"TargetPurposeLimboResolution",zh.ae))}}async function mu(i,e,n){const s=Se(i),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const w=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=zp.Yi(p.targetId,g);u.push(w)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,g){const E=Se(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>J.forEach(g,A=>J.forEach(A.Hi,P=>E.persistence.referenceDelegate.addReference(w,A.targetId,P)).next(()=>J.forEach(A.Ji,P=>E.persistence.referenceDelegate.removeReference(w,A.targetId,P)))))}catch(w){if(!_o(w))throw w;le(Bp,"Failed to update sequence numbers: "+w)}for(const w of g){const A=w.targetId;if(!w.fromCache){const P=E.Ts.get(A),L=P.snapshotVersion,Q=P.withLastLimboFreeSnapshotVersion(L);E.Ts=E.Ts.insert(A,Q)}}}(s.localStore,u))}async function QO(i,e){const n=Se(i);if(!n.currentUser.isEqual(e)){le(Yp,"User change. New user:",e.toKey());const s=await Wb(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new ue(ee.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await mu(n,s.Rs)}}function $O(i,e){const n=Se(i),s=n.Ua.get(e);if(s&&s.Ba)return Ve().add(s.key);{let o=Ve();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function yw(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=dw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$O.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HO.bind(null,e),e.La.p_=DO.bind(null,e.eventManager),e.La.Ja=OO.bind(null,e.eventManager),e}function YO(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GO.bind(null,e),e}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$h(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return JD(this.persistence,new XD,e.initialUser,this.serializer)}Xa(e){return new Xb(jp.ri,this.serializer)}Za(e){return new aO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class XO extends Rh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){He(this.persistence.referenceDelegate instanceof Ah);const s=this.persistence.referenceDelegate.garbageCollector;return new PD(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new Xb(s=>Ah.ri(s,n),this.serializer)}}class np{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>sE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=QO.bind(null,this.syncEngine),await CO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new NO}()}createDatastore(e){const n=$h(e.databaseInfo.databaseId),s=function(u){return new hO(u)}(e.databaseInfo);return function(u,f,m,p){return new pO(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new yO(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>sE(this.syncEngine,n,0),function(){return J0.D()?new J0:new oO}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const w=new kO(o,u,f,m,p,g);return E&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Se(o);le(Ys,"RemoteStore shutting down."),u.W_.add(5),await du(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}np.provider={build:()=>new np};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):nr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="FirestoreClient";class WO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Yt.UNAUTHENTICATED,this.clientId=ub.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{le(Xr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(le(Xr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Qp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Rm(i,e){i.asyncQueue.verifyOperationInProgress(),le(Xr,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Wb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function oE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await ZO(i);le(Xr,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>tE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>tE(e.remoteStore,o)),i._onlineComponents=e}async function ZO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){le(Xr,"Using user provided OfflineComponentProvider");try{await Rm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;ro("Error using user provided cache. Falling back to memory cache: "+n),await Rm(i,new Rh)}}else le(Xr,"Using default OfflineComponentProvider"),await Rm(i,new XO(void 0));return i._offlineComponents}async function vw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(le(Xr,"Using user provided OnlineComponentProvider"),await oE(i,i._uninitializedComponentsProvider._online)):(le(Xr,"Using default OnlineComponentProvider"),await oE(i,new np))),i._onlineComponents}function JO(i){return vw(i).then(e=>e.syncEngine)}async function Ew(i){const e=await vw(i),n=e.eventManager;return n.onListen=LO.bind(null,e.syncEngine),n.onUnlisten=zO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=UO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=BO.bind(null,e.syncEngine),n}function eM(i,e,n={}){const s=new Zi;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new _w({next:A=>{E.su(),f.enqueueAndForget(()=>lw(u,w));const P=A.docs.has(m);!P&&A.fromCache?g.reject(new ue(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&A.fromCache&&p&&p.source==="server"?g.reject(new ue(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),w=new uw(Op(m.path),E,{includeMetadataChanges:!0,Ta:!0});return ow(u,w)}(await Ew(i),i.asyncQueue,e,n,s)),s.promise}function tM(i,e,n={}){const s=new Zi;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new _w({next:A=>{E.su(),f.enqueueAndForget(()=>lw(u,w)),A.fromCache&&p.source==="server"?g.reject(new ue(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),w=new uw(m,E,{includeMetadataChanges:!0,Ta:!0});return ow(u,w)}(await Ew(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(i,e,n){if(!n)throw new ue(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function nM(i,e,n,s){if(e===!0&&s===!0)throw new ue(ee.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function uE(i){if(!pe.isDocumentKey(i))throw new ue(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function cE(i){if(pe.isDocumentKey(i))throw new ue(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Wh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te()}function Yn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ue(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wh(i);throw new ue(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="firestore.googleapis.com",hE=!0;class fE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ww,this.ssl=hE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:hE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Yb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MD)throw new ue(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Tw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new cN;switch(s.type){case"firstParty":return new mN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=lE.get(n);s&&(le("ComponentProvider","Removing Datastore"),lE.delete(n),s.terminate())}(this),Promise.resolve()}}function iM(i,e,n,s={}){var o;const u=(i=Yn(i,Zh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==ww&&u.host!==m&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Fr(p,f)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Yt.MOCK_USER;else{g=rI(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new ue(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Yt(w)}i._authCredentials=new hN(new ob(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Eo(this.firestore,e,this._query)}}class nn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}}class Hr extends Eo{constructor(e,n,s){super(e,n,Op(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new pe(e))}withConverter(e){return new Hr(this.firestore,e,this._path)}}function Ih(i,e,...n){if(i=Vt(i),bw("collection","path",e),i instanceof Zh){const s=et.fromString(e,...n);return cE(s),new Hr(i,null,s)}{if(!(i instanceof nn||i instanceof Hr))throw new ue(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...n));return cE(s),new Hr(i.firestore,null,s)}}function Gl(i,e,...n){if(i=Vt(i),arguments.length===1&&(e=ub.newId()),bw("doc","path",e),i instanceof Zh){const s=et.fromString(e,...n);return uE(s),new nn(i,null,new pe(s))}{if(!(i instanceof nn||i instanceof Hr))throw new ue(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...n));return uE(s),new nn(i.firestore,i instanceof Hr?i.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="AsyncQueue";class mE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Jb(this,"async_queue_retry"),this.Su=()=>{const s=Sm();s&&le(dE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=Sm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Sm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Zi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!_o(e))throw e;le(dE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw nr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Kp.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Te()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class na extends Zh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new mE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mE(e),this._firestoreClient=void 0,await e}}}function rM(i,e){const n=typeof i=="object"?i:hp(),s=typeof i=="string"?i:yh,o=Zs(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=nI("firestore");u&&iM(o,...u)}return o}function Wp(i){if(i._terminated)throw new ue(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||sM(i),i._firestoreClient}function sM(i){var e,n,s;const o=i._freezeSettings(),u=function(m,p,g,E){return new xN(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Tw(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new WO(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this._byteString=e}static fromBase64String(e){try{return new co(Ft.fromBase64String(e))}catch(n){throw new ue(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new co(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=/^__.*__$/;class oM{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ts(e,this.data,this.fieldMask,n,this.fieldTransforms):new hu(e,this.data,n,this.fieldTransforms)}}class Aw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ts(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Sw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class tg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new tg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Ch(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Sw(this.Lu)&&aM.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class lM{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||$h(e)}ju(e,n,s,o=!1){return new tg({Lu:e,methodName:n,zu:s,path:Ht.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ef(i){const e=i._freezeSettings(),n=$h(i._databaseId);return new lM(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Rw(i,e,n,s,o,u={}){const f=i.ju(u.merge||u.mergeFields?2:0,e,n,o);ng("Data must be an object, but it was:",f,s);const m=Iw(s,f);let p,g;if(u.merge)p=new En(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const A=ip(e,w,n);if(!f.contains(A))throw new ue(ee.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);xw(E,A)||E.push(A)}p=new En(E),g=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=f.fieldTransforms;return new oM(new ln(m),p,g)}class tf extends Zp{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tf}}function uM(i,e,n,s){const o=i.ju(1,e,n);ng("Data must be an object, but it was:",o,s);const u=[],f=ln.empty();es(s,(p,g)=>{const E=ig(e,p,n);g=Vt(g);const w=o.Uu(E);if(g instanceof tf)u.push(E);else{const A=pu(g,w);A!=null&&(u.push(E),f.set(E,A))}});const m=new En(u);return new Aw(f,m,o.fieldTransforms)}function cM(i,e,n,s,o,u){const f=i.ju(1,e,n),m=[ip(e,s,n)],p=[o];if(u.length%2!=0)throw new ue(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(ip(e,u[A])),p.push(u[A+1]);const g=[],E=ln.empty();for(let A=m.length-1;A>=0;--A)if(!xw(g,m[A])){const P=m[A];let L=p[A];L=Vt(L);const Q=f.Uu(P);if(L instanceof tf)g.push(P);else{const q=pu(L,Q);q!=null&&(g.push(P),E.set(P,q))}}const w=new En(g);return new Aw(E,w,f.fieldTransforms)}function hM(i,e,n,s=!1){return pu(n,i.ju(s?4:3,e))}function pu(i,e){if(Cw(i=Vt(i)))return ng("Unsupported field value:",e,i),Iw(i,e);if(i instanceof Zp)return function(s,o){if(!Sw(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=pu(m,o.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=Vt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return ZN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Et.fromDate(s);return{timestampValue:wh(o.serializer,u)}}if(s instanceof Et){const u=new Et(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:wh(o.serializer,u)}}if(s instanceof Jp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof co)return{bytesValue:qb(o.serializer,s._byteString)};if(s instanceof nn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Lp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof eg)return function(f,m){return{mapValue:{fields:{[yb]:{stringValue:_b},[_h]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return Mp(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Wh(s)}`)}(i,e)}function Iw(i,e){const n={};return hb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):es(i,(s,o)=>{const u=pu(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function Cw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Et||i instanceof Jp||i instanceof co||i instanceof nn||i instanceof Zp||i instanceof eg)}function ng(i,e,n){if(!Cw(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Wh(n);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function ip(i,e,n){if((e=Vt(e))instanceof Jh)return e._internalPath;if(typeof e=="string")return ig(i,e);throw Ch("Field path arguments must be of type string or ",i,!1,void 0,n)}const fM=new RegExp("[~\\*/\\[\\]]");function ig(i,e,n){if(e.search(fM)>=0)throw Ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Jh(...e.split("."))._internalPath}catch{throw Ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Ch(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ue(ee.INVALID_ARGUMENT,m+i+p)}function xw(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class dM extends Nw{data(){return super.data()}}function rg(i,e){return typeof e=="string"?ig(i,e):e instanceof Jh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ue(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sg{}class pM extends sg{}function gM(i,e,...n){let s=[];e instanceof sg&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof ag).length,m=u.filter(p=>p instanceof nf).length;if(f>1||f>0&&m>0)throw new ue(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class nf extends pM{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new nf(e,n,s)}_apply(e){const n=this._parse(e);return Dw(e._query,n),new Eo(e.firestore,e.converter,Km(e._query,n))}_parse(e){const n=ef(e.firestore);return function(u,f,m,p,g,E,w){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ue(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){gE(w,E);const L=[];for(const Q of w)L.push(pE(p,u,Q));A={arrayValue:{values:L}}}else A=pE(p,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||gE(w,E),A=hM(m,f,w,E==="in"||E==="not-in");return vt.create(g,E,A)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function yM(i,e,n){const s=e,o=rg("where",i);return nf._create(o,s,n)}class ag extends sg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ag(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:$n.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)Dw(f,p),f=Km(f,p)}(e._query,n),new Eo(e.firestore,e.converter,Km(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function pE(i,e,n){if(typeof(n=Vt(n))=="string"){if(n==="")throw new ue(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rb(e)&&n.indexOf("/")!==-1)throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!pe.isDocumentKey(s))throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return D0(i,new pe(s))}if(n instanceof nn)return D0(i,n._key);throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(n)}.`)}function gE(i,e){if(!Array.isArray(i)||i.length===0)throw new ue(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Dw(i,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ue(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class _M{convertValue(e,n="none"){switch($r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return es(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[_h].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>dt(f.doubleValue));return new eg(u)}convertGeoPoint(e){return new Jp(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=qh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const n=Kr(e);return new Et(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);He($b(s));const o=new Zl(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(n)||nr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mw extends Nw{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(rg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class rh extends Mw{data(e={}){return super.data(e)}}class vM{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ul(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new rh(this._firestore,this._userDataWriter,s.key,s,new Ul(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ul(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ul(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:EM(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function EM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(i){i=Yn(i,nn);const e=Yn(i.firestore,na);return eM(Wp(e),i._key).then(n=>SM(e,i,n))}class Vw extends _M{constructor(e){super(),this.firestore=e}convertBytes(e){return new co(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,n)}}function Pw(i){i=Yn(i,Eo);const e=Yn(i.firestore,na),n=Wp(e),s=new Vw(e);return mM(i._query),tM(n,i._query).then(o=>new vM(e,s,i,o))}function kw(i,e,n){i=Yn(i,nn);const s=Yn(i.firestore,na),o=Ow(i.converter,e,n);return rf(s,[Rw(ef(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Ln.none())])}function bM(i,e,n,...s){i=Yn(i,nn);const o=Yn(i.firestore,na),u=ef(o);let f;return f=typeof(e=Vt(e))=="string"||e instanceof Jh?cM(u,"updateDoc",i._key,e,n,s):uM(u,"updateDoc",i._key,e),rf(o,[f.toMutation(i._key,Ln.exists(!0))])}function wM(i){return rf(Yn(i.firestore,na),[new Vp(i._key,Ln.none())])}function AM(i,e){const n=Yn(i.firestore,na),s=Gl(i),o=Ow(i.converter,e);return rf(n,[Rw(ef(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Ln.exists(!1))]).then(()=>s)}function rf(i,e){return function(s,o){const u=new Zi;return s.asyncQueue.enqueueAndForget(async()=>qO(await JO(s),o,u)),u.promise}(Wp(i),e)}function SM(i,e,n){const s=n.docs.get(e._key),o=new Vw(i);return new Mw(i,o,e._key,s,new Ul(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){go=o})(mo),vi(new Kn("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new na(new fN(s.getProvider("auth-internal")),new pN(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ue(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),kn(v0,E0,e),kn(v0,E0,"esm2017")})();const RM={apiKey:"AIzaSyB-OjJ8u8oiRJG19oEl3IM3TOhL6kcWnNw",authDomain:"quizdb-19952.firebaseapp.com",projectId:"quizdb-19952",storageBucket:"quizdb-19952.firebasestorage.app",messagingSenderId:"510711448818",appId:"1:510711448818:web:418c57255477cfe2fe7c6b",measurementId:"G-ZTP2RFN0H6"},og=XE(RM);aN(og);const qs=rM(og),Lw=Bx(og);var Uw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},yE=Hs.createContext&&Hs.createContext(Uw),IM=["attr","size","title"];function CM(i,e){if(i==null)return{};var n=xM(i,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(n[s]=i[s])}return n}function xM(i,e){if(i==null)return{};var n={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function xh(){return xh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},xh.apply(this,arguments)}function _E(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function Nh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_E(Object(n),!0).forEach(function(s){NM(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):_E(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function NM(i,e,n){return e=DM(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function DM(i){var e=OM(i,"string");return typeof e=="symbol"?e:e+""}function OM(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function jw(i){return i&&i.map((e,n)=>Hs.createElement(e.tag,Nh({key:n},e.attr),jw(e.child)))}function zw(i){return e=>Hs.createElement(MM,xh({attr:Nh({},i.attr)},e),jw(i.child))}function MM(i){var e=n=>{var{attr:s,size:o,title:u}=i,f=CM(i,IM),m=o||n.size||"1em",p;return n.className&&(p=n.className),i.className&&(p=(p?p+" ":"")+i.className),Hs.createElement("svg",xh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:p,style:Nh(Nh({color:i.color||n.color},n.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Hs.createElement("title",null,u),i.children)};return yE!==void 0?Hs.createElement(yE.Consumer,null,n=>e(n)):e(Uw)}function VM(i){return zw({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(i)}function PM(i){return zw({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(i)}const kM=()=>{const[i,e]=G.useState(""),[n,s]=G.useState(""),[o,u]=G.useState(""),[f,m]=G.useState(!1),p=fo(),g=async E=>{E.preventDefault();try{const A=(await CC(Lw,i,n)).user;u("Login successful!");const P=Gl(qs,"users",A.uid),L=await TM(P);let Q=A.email;if(L.exists()){const q=L.data();q&&q.username&&(Q=q.username)}localStorage.setItem("username",Q),L.exists()||await kw(P,{username:A.email},{merge:!0}),p("/quiz")}catch(w){console.error(w),u("Login failed. Please check your credentials.")}};return N.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-r from-indigo-600 to-purple-600",children:N.jsxs("div",{className:"w-full max-w-md p-8 bg-white rounded-lg shadow-xl",children:[N.jsx("h1",{className:"text-3xl font-bold text-center text-gray-700 mb-8",children:"Login"}),N.jsxs("form",{onSubmit:g,className:"space-y-6",children:[N.jsx("div",{children:N.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:E=>e(E.target.value),className:"w-full p-4 border-2 border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})}),N.jsxs("div",{className:"relative",children:[N.jsx("input",{type:f?"text":"password",placeholder:"Password",value:n,onChange:E=>s(E.target.value),className:"w-full p-4 border-2 border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),N.jsx("div",{onClick:()=>m(!f),className:"absolute top-1/2 right-3 transform -translate-y-1/2 cursor-pointer",children:f?N.jsx(VM,{size:20}):N.jsx(PM,{size:20})})]}),N.jsx("button",{type:"submit",className:"w-full py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all",children:"Login"})]}),o&&N.jsx("p",{className:"text-center text-lg mt-4 text-green-600",children:o}),N.jsxs("p",{className:"text-center text-gray-600 mt-4",children:["Don't have an account?"," ",N.jsx("span",{onClick:()=>p("/register"),className:"text-blue-500 cursor-pointer hover:text-blue-700 transition-colors",children:"Register here"})]})]})})},LM=[{question:"Who was the mother of Moses?",options:["Jochebed","Leah","Sarah","Hannah"],answer:"Jochebed"},{question:"Who was Moses sister who watched over him?",options:["Esther","Deborah","Miriam","Naomi"],answer:"Miriam"},{question:"What river was baby Moses placed into?",options:["Euphrates","Jordan","Tigris","Nile"],answer:"Nile"},{question:"How long did Jochebed hide baby Moses?",options:["1 year","1 month","6 months","3 months"],answer:"3 months"},{question:"Who found baby Moses in the basket?",options:["Pharaohs daughter","A shepherd girl","A servant","A fisherman"],answer:"Pharaohs daughter"},{question:"What does the name Moses mean?",options:["Saved one","Gift of God","Drawn out of water","Leader"],answer:"Drawn out of water"},{question:"Where did Moses grow up?",options:["In Canaan","In a cave","With shepherds","In Pharaohs palace"],answer:"In Pharaohs palace"},{question:"Why did Moses flee Egypt?",options:["He was sent away","He was afraid of Pharaoh","He killed an Egyptian","He got lost"],answer:"He killed an Egyptian"},{question:"Where did Moses go after leaving Egypt?",options:["Sinai","Canaan","Midian","Moab"],answer:"Midian"},{question:"Who did Moses marry?",options:["Rebecca","Zipporah","Ruth","Leah"],answer:"Zipporah"},{question:"What was the name of Moses first son?",options:["Benjamin","Aaron","Gershom","Isaac"],answer:"Gershom"},{question:"What was the name of Moses second son?",options:["Ezra","Samuel","Eli","Eliezer"],answer:"Eliezer"},{question:"What did Moses see on Mount Horeb?",options:["A giant stone","A golden calf","A burning bush","An angel"],answer:"A burning bush"},{question:"What did God say from the burning bush?",options:["You are chosen!","Follow Me!","Peace be with you","Moses! Moses!"],answer:"Moses! Moses!"},{question:"What excuse did Moses give for not going to Egypt?",options:["Im afraid","I am too old","I dont believe","I cant speak well"],answer:"I cant speak well"},{question:"What did God turn Moses' staff into?",options:["A scroll","A snake","A sword","A torch"],answer:"A snake"},{question:"What disease appeared and healed on Moses hand?",options:["Spots","Leprosy","Blisters","Boils"],answer:"Leprosy"},{question:"What did Moses' water turn into?",options:["Honey","Blood","Oil","Milk"],answer:"Blood"},{question:"Who was Moses brother?",options:["Joshua","Caleb","Levi","Aaron"],answer:"Aaron"},{question:"How did Aaron help Moses?",options:["He wrote scrolls","He guided the sheep","He cooked food","He spoke for him"],answer:"He spoke for him"},{question:"What did Moses and Aaron tell Pharaoh?",options:["Let my people go!","Set us free!","We come in peace!","Stop the slavery!"],answer:"Let my people go!"},{question:"What sea did God part for the Israelites?",options:["Red Sea","Dead Sea","Jordan River","Great Sea"],answer:"Red Sea"},{question:"What mountain did Moses receive the Ten Commandments on?",options:["Mount Sinai","Mount Zion","Mount Ararat","Mount Carmel"],answer:"Mount Sinai"},{question:"What did God give Moses on the mountain?",options:["Ten Commandments","A new name","A crown","A sword"],answer:"Ten Commandments"},{question:"What did the Israelites build to worship wrongly?",options:["A silver dove","A stone idol","A bronze serpent","A golden calf"],answer:"A golden calf"},{question:"What did Moses do to the tablets when he saw the idol?",options:["He broke them","He gave them to Aaron","He lost them","He hid them"],answer:"He broke them"},{question:"Who spoke to Moses face to face?",options:["God","Aaron","A prophet","An angel"],answer:"God"},{question:"What did God feed the Israelites in the desert?",options:["Bread from Egypt","Manna","Fish","Corn"],answer:"Manna"},{question:"How did God lead the Israelites by day?",options:["Sunlight","Torch","Pillar of cloud","Wind"],answer:"Pillar of cloud"},{question:"How did God lead the Israelites by night?",options:["Moonlight","Stars","Pillar of fire","Lamps"],answer:"Pillar of fire"},{question:"What did Moses strike to get water?",options:["A mountain","A wall","A tree","A rock"],answer:"A rock"},{question:"How many plagues did God send on Egypt?",options:["10","12","7","5"],answer:"10"},{question:"What was the final plague?",options:["Frogs","Darkness","Death of the firstborn","Flies"],answer:"Death of the firstborn"},{question:"What animals blood saved the Israelites?",options:["Lamb","Bird","Goat","Cow"],answer:"Lamb"},{question:"Who led the Israelites after Moses?",options:["Aaron","Caleb","Joshua","Eliezer"],answer:"Joshua"},{question:"Where did Moses die?",options:["Mount Carmel","Mount Nebo","Mount Sinai","Mount Horeb"],answer:"Mount Nebo"},{question:"How old was Moses when he died?",options:["80","110","100","120"],answer:"120"},{question:"Who buried Moses?",options:["The elders","Joshua","God","Aaron"],answer:"God"},{question:"What was Moses fathers name?",options:["Nadab","Amram","Levi","Jacob"],answer:"Amram"},{question:"Who was Moses father-in-law?",options:["Reuben","Jethro","Nahor","Gad"],answer:"Jethro"}],UM=({id:i,username:e,score:n,date:s,quizState:o})=>{localStorage.setItem("username",e);const u=o.length*5,f=m=>m===u?" Amazing! Perfect Score! Keep it up!":m>=70?"Great job! You can do even better next time!":m>=50?"Nice effort! Put more energy into the next quiz!":m>=30?"You can get it right next time! Keep trying!":"Don't be discouraged, you're on the right track!";return N.jsx("div",{className:"bg-white min-h-screen p-6 print:p-4 print:bg-white",children:N.jsx("div",{className:"max-w-3xl mx-auto mt-40",children:N.jsxs("div",{className:"text-center mb-10 border-b-2 pb-4 print:border-none",children:[N.jsxs("h1",{className:"text-4xl font-extrabold text-purple-600",children:[" Great Job, ",e,"!"]}),N.jsxs("p",{className:"text-xl mt-2 text-gray-700",children:["Your Score is:"," ",N.jsxs("span",{className:"font-bold text-green-600",children:[n," / ",u]})]}),N.jsxs("p",{className:"text-sm text-gray-500",children:["Date: ",new Date(s).toLocaleString()]}),N.jsx("p",{className:"text-lg font-semibold text-purple-600 mt-4",children:f(n)}),N.jsx("button",{onClick:()=>window.print(),className:"mt-4 px-2 py-2 bg-blue-500 text-white rounded-full shadow-md hover:bg-blue-600 print:hidden mr-2",children:"Print Result"}),N.jsx(vn,{to:"/dashboard",className:"mt-4 px-2 py-2 bg-blue-500 text-white rounded-full shadow-md hover:bg-blue-600 print:hidden",children:"Check Result"})]})})})},Bt=[];for(let i=0;i<256;++i)Bt.push((i+256).toString(16).slice(1));function jM(i,e=0){return(Bt[i[e+0]]+Bt[i[e+1]]+Bt[i[e+2]]+Bt[i[e+3]]+"-"+Bt[i[e+4]]+Bt[i[e+5]]+"-"+Bt[i[e+6]]+Bt[i[e+7]]+"-"+Bt[i[e+8]]+Bt[i[e+9]]+"-"+Bt[i[e+10]]+Bt[i[e+11]]+Bt[i[e+12]]+Bt[i[e+13]]+Bt[i[e+14]]+Bt[i[e+15]]).toLowerCase()}let Im;const zM=new Uint8Array(16);function BM(){if(!Im){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Im=crypto.getRandomValues.bind(crypto)}return Im(zM)}const qM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),vE={randomUUID:qM};function HM(i,e,n){var o;if(vE.randomUUID&&!i)return vE.randomUUID();i=i||{};const s=i.random??((o=i.rng)==null?void 0:o.call(i))??BM();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,jM(s)}const FM=()=>{const i=localStorage.getItem("username"),e=x=>[...LM].sort(()=>Math.random()-.5).slice(0,x).map(k=>({...k,userAnswer:""})),[n,s]=G.useState(()=>e(20)),[o,u]=G.useState(""),[f,m]=G.useState(!1),[p,g]=G.useState(0),[E,w]=G.useState(""),[A,P]=G.useState(!1),[L,Q]=G.useState(900),q=fo(),[W,re]=G.useState(null),[ne,fe]=G.useState(null),he=(x,O)=>{const k=[...n];k[x].userAnswer=O,s(k)},Ae=()=>{localStorage.removeItem("username"),q("/")},V=async()=>{if(f)return;let x=0;n.forEach(k=>{k.userAnswer===k.answer&&(x+=5)});const O={id:HM(),username:i,score:x,date:new Date().toISOString(),quizState:n};fe(O),m(!0),g(x),w(O.date),u(` Quiz submitted! You scored ${x} points!`);try{await AM(Ih(qs,"quizResults"),O),console.log("Quiz result saved to Firestore")}catch(k){console.error("Error saving result to Firestore:",k),u("Failed to save your result. Try again.")}window.scrollTo({top:0,behavior:"smooth"})},S=x=>{P(x);{const O=setInterval(()=>{Q(k=>k<=1?(clearInterval(O),V(),0):k-1)},1e3);re(O)}},R=x=>{const O=Math.floor(x/60),k=x%60;return`${String(O).padStart(2,"0")}:${String(k).padStart(2,"0")}`};return N.jsx(N.Fragment,{children:f?N.jsx(UM,{id:ne.id,username:i||"Guest",score:p,date:E,quizState:n}):N.jsxs("div",{children:[N.jsxs("div",{className:"sticky top-0 z-50 bg-white mt-10 py-4 shadow-md",children:[N.jsx("h1",{className:"text-4xl md:text-4xl font-extrabold text-purple-700 mb-4 drop-shadow-md text-center",children:" Bible Quiz Time!"}),N.jsxs("p",{className:"text-lg md:text-2xl mx-6 md:mx-24 text-gray-700 text-center mb-8",children:[" Hi"," ",N.jsx("span",{className:"text-purple-700 text-2xl font-bold",children:i==null?void 0:i.toUpperCase()}),",",N.jsx("br",{}),"Lets have some fun while learning about the Bible! "]})]}),!A&&N.jsxs("div",{className:"flex flex-col justify-center items-center space-y-6 mb-8",children:[N.jsx("p",{className:"text-lg font-semibold text-gray-700 text-center",children:"Are you ready to take the quiz?"}),N.jsxs("div",{className:"flex space-x-6",children:[N.jsx("button",{onClick:()=>S(!0),className:"bg-green-500 text-white py-2 px-4 rounded-xl hover:bg-green-600 transition duration-300",children:"Yes"}),N.jsx("button",{onClick:Ae,className:"bg-red-500 text-white py-2 px-4 rounded-xl hover:bg-red-600 transition duration-300",children:"No"})]}),N.jsxs("p",{className:"text-lg font-semibold text-gray-700 text-center mt-6",children:["You have 15 minutes to answer the 20 questions assigned to you.",N.jsx("br",{}),"All the Best!!! "]})]}),A&&N.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-100 to-pink-100 flex flex-col items-center px-4 py-10",children:[N.jsxs("div",{className:`sticky text-2xl top-64 z-50 mr-16 items-end font-bold ${L<=120?"text-red-700 animate-pulse":"text-red-600"}`,children:["Time Remaining: ",R(L)]}),n.map((x,O)=>N.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-6 w-full max-w-2xl mb-6 border-4 border-yellow-300",children:[N.jsxs("h2",{className:"text-xl font-bold text-pink-600 mb-4",children:[" Question ",O+1,":"]}),N.jsx("p",{className:"text-lg text-gray-800 mb-6",children:x.question}),N.jsx("div",{className:"grid gap-4 mb-6",children:x.options.map((k,C)=>N.jsxs("button",{onClick:()=>he(O,k),className:`${n[O].userAnswer===k?"bg-purple-300":"bg-purple-100 hover:bg-purple-200"} text-purple-700 font-semibold py-3 px-4 rounded-2xl transition-all border border-purple-300`,children:[String.fromCharCode(65+C),". ",k]},C))})]},O)),N.jsx("div",{className:"w-full flex justify-center",children:N.jsx("button",{onClick:V,className:"bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-full text-lg transition duration-300 shadow-lg mb-4",children:" Submit Answers"})}),o&&N.jsxs("p",{className:"text-center text-xl font-semibold text-green-700",children:[i,o]})]})]})})},GM=()=>{const[i,e]=G.useState(!1),n=fo(),s=localStorage.getItem("username");G.useEffect(()=>{e(!!s)});const o=()=>{localStorage.removeItem("username"),n("/")};return N.jsx("nav",{className:"sticky top-0 w-full bg-amber-500 text-white shadow-md z-50 max-h-max",children:N.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4 py-4 font-serif font-bold flex flex-col sm:flex-row items-center justify-between",children:[N.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-white drop-shadow-md mb-4 sm:mb-0",children:"Inspiration Time "}),N.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-end gap-3 sm:gap-4",children:[N.jsx(vn,{to:"/",className:"px-4 py-2 bg-white text-amber-600 rounded-full hover:bg-yellow-100 font-semibold transition-all",children:"Home"}),s?N.jsxs(N.Fragment,{children:[N.jsx(vn,{to:"/dashboard",className:"px-4 py-2 bg-white text-amber-600 rounded-full hover:bg-yellow-100 font-semibold transition-all",children:"Dashboard"}),i&&N.jsx("button",{onClick:o,className:"px-4 py-2 bg-red-100 text-red-700 rounded-full hover:bg-red-200 font-semibold transition-all",children:"Log Out"})]}):N.jsxs(N.Fragment,{children:[N.jsx(vn,{to:"/Bible-story",className:"px-4 py-2 bg-white text-amber-600 rounded-full hover:bg-yellow-100 font-semibold transition-all",children:"Bible Story"}),N.jsx(vn,{to:"/signin",className:"px-4 py-2 bg-white text-amber-600 rounded-full hover:bg-yellow-100 font-semibold transition-all",children:"Sign In"}),N.jsx(vn,{to:"/register",className:"px-4 py-2 bg-white text-amber-600 rounded-full hover:bg-yellow-100 font-semibold transition-all",children:"Register"}),N.jsx(vn,{to:"/help",className:"px-4 py-2 bg-black text-white rounded-full hover:bg-yellow-100 hover:text-black font-semibold transition-all",children:"Help"})]})]})]})})};/**
 * @license lucide-react v0.494.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QM=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),EE=i=>{const e=QM(i);return e.charAt(0).toUpperCase()+e.slice(1)},Bw=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),$M=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.494.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.494.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=G.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>G.createElement("svg",{ref:p,...YM,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:Bw("lucide",o),...!u&&!$M(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,E])=>G.createElement(g,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.494.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=(i,e)=>{const n=G.forwardRef(({className:s,...o},u)=>G.createElement(XM,{ref:u,iconNode:e,className:Bw(`lucide-${KM(EE(i))}`,`lucide-${i}`,s),...o}));return n.displayName=EE(i),n};/**
 * @license lucide-react v0.494.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ZM=qw("eye",WM);/**
 * @license lucide-react v0.494.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],eV=qw("eye-off",JM),tV=()=>{const[i,e]=G.useState(""),[n,s]=G.useState(""),[o,u]=G.useState(""),[f,m]=G.useState(!1),p=()=>m(!f),g=async E=>{if(E.preventDefault(),!i||!n){u("Please fill out all fields!");return}try{const w=await IC(Lw,i,n);u("User registered successfully!"),console.log(w.user)}catch(w){u("Error: "+w.message)}};return N.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-r from-blue-400 to-blue-600",children:N.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-lg w-96 max-w-md",children:[N.jsx("h2",{className:"text-3xl font-bold text-center text-blue-600 mb-4",children:"Create Your Account"}),o&&N.jsx("p",{className:"text-center text-red-500 mb-4",children:o}),N.jsxs("form",{onSubmit:g,className:"space-y-4",children:[N.jsxs("div",{children:[N.jsx("label",{htmlFor:"email",className:"block text-lg font-medium text-blue-700",children:"Email"}),N.jsx("input",{type:"email",id:"email",value:i,onChange:E=>e(E.target.value),className:"mt-2 p-3 w-full border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter your email"})]}),N.jsxs("div",{className:"relative",children:[N.jsx("label",{htmlFor:"password",className:"block text-lg font-medium text-blue-700",children:"Password"}),N.jsx("input",{type:f?"text":"password",id:"password",value:n,onChange:E=>s(E.target.value),className:"mt-2 p-3 w-full border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter your password"}),N.jsx("button",{type:"button",onClick:p,className:"absolute top-3 right-3 inset-y-0 flex items-center text-blue-600 hover:text-purple-600",children:f?N.jsx(eV,{size:20}):N.jsx(ZM,{size:20})})]}),N.jsx("button",{type:"submit",className:"w-full p-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Sign Up"})]}),N.jsxs("p",{className:"text-center text-sm mt-4",children:["Already have an account?"," ",N.jsx(vn,{to:"/signin",className:"text-amber-600 hover:bg-yellow-100 font-semibold transition-all",children:"Log in here"})]}),N.jsx("div",{className:"mt-4 text-center text-gray-600",children:N.jsx(vn,{to:"/request-login",className:"text-lg font-semibold text-purple-500",children:"Request Login"})})]})})},nV=()=>{const[i,e]=G.useState([]),[n,s]=G.useState(""),[o,u]=G.useState(null),f=fo();G.useEffect(()=>{const p=localStorage.getItem("username");p?(async()=>{try{const E=gM(Ih(qs,"quizResults"),yM("username","==",p)),w=await Pw(E),A=[];w.forEach(P=>{const L=P.data(),Q=L.timestamp instanceof Et?L.timestamp:null;A.push({id:P.id,...L,timestamp:Q})}),console.log("Fetched Results:",A),A.sort((P,L)=>{var Q,q;return(((Q=L.timestamp)==null?void 0:Q.seconds)??0)-(((q=P.timestamp)==null?void 0:q.seconds)??0)}),e(A)}catch(E){console.error(E),s("Error fetching quiz results")}})():f("/signin")},[f]);const m=p=>{u(o===p?null:p)};return N.jsxs("div",{className:"p-6 bg-gray-100 min-h-screen",children:[N.jsx("h1",{className:"text-3xl font-bold text-center mb-6",children:"User Dashboard"}),n&&N.jsx("p",{className:"text-red-500 text-center",children:n}),i.length>0?N.jsx("div",{className:"space-y-6",children:i.map((p,g)=>N.jsxs("div",{children:[N.jsxs("div",{onClick:()=>m(g),className:"sticky top-0 bg-white p-6 rounded-lg shadow-lg border-2 border-gray-300 cursor-pointer transform hover:scale-105 hover:shadow-2xl transition-all duration-300 ease-in-out",children:[N.jsxs("div",{className:"flex justify-between items-center mb-4",children:[N.jsxs("h3",{className:"text-2xl font-semibold text-gray-800 hover:text-amber-500 transition-colors duration-300",children:["Quiz #",g+1," - ",p.username]}),N.jsx("p",{className:"text-lg font-semibold text-gray-500",children:p.timestamp?p.timestamp.toDate().toLocaleString():"No Date"})]}),N.jsx("div",{className:"mb-4",children:N.jsxs("p",{className:"text-xl font-bold text-gray-700",children:["Score:"," ",N.jsx("span",{className:"text-green-500",children:p.score})," /"," ",p.quizState.length*5]})}),N.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Click on this card for full details of your result"}),N.jsx("div",{className:"flex justify-end mt-4",children:N.jsx("button",{onClick:()=>m(g),className:"bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-6 rounded-xl shadow-md transition duration-300",children:o===g?"Hide Details":"Show Details"})})]}),o===g&&N.jsx("div",{className:"space-y-4 mt-4",children:p.quizState.map((E,w)=>{const A=E.userAnswer===E.answer;return N.jsxs("div",{className:`p-4 rounded-lg shadow-md border-2 ${A?"border-green-400 bg-green-50":"border-red-400 bg-red-50"}`,children:[N.jsx("h3",{className:"text-lg font-semibold",children:E.question}),N.jsx("div",{className:"mt-2 space-y-1",children:E.options.map((P,L)=>{const Q=E.userAnswer===P,q=E.answer===P;return N.jsxs("p",{className:`px-3 py-1 rounded-lg ${q?"bg-green-200 font-bold":Q?"bg-yellow-200":"bg-gray-100"}`,children:[String.fromCharCode(65+L),". ",P]},L)})}),N.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:[N.jsxs("p",{children:[N.jsx("strong",{children:"Your Answer:"})," ",N.jsxs("span",{className:A?"text-green-700":"text-red-700",children:[E.userAnswer||"No answer"," ",A?"":""]})]}),!A&&N.jsxs("p",{children:[N.jsx("strong",{children:"Correct Answer:"})," ",N.jsx("span",{className:"text-green-700",children:E.answer})]})]})]},w)})})]},p.id))}):N.jsx("p",{className:"text-center text-gray-500",children:"No quiz results available"})]})},iV=()=>N.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-100 via-purple-100 to-blue-100 p-6",children:[N.jsx("h1",{className:"text-3xl font-bold text-center text-purple-700 mb-8",children:" The Story of Moses"}),N.jsx("div",{className:"space-y-8 max-w-4xl mx-auto",children:rV.map((i,e)=>N.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border-l-8 border-pink-300 hover:scale-[1.01] transition-all duration-300",children:[N.jsx("h2",{className:"text-3xl font-chewy text-purple-800 mb-4",children:i.title}),N.jsx("p",{className:"text-base font-nunito text-gray-800 leading-relaxed",children:i.scripture}),N.jsx("p",{className:"text-purple-900 font-nunito whitespace-pre-line leading-relaxed",children:i.content})]},e))})]}),rV=[{title:" The Baby in the Basket",scripture:" Exodus 12",content:`A long time ago, in Egypt, the king (called Pharaoh) saw that the Israelites were growing in number. He got scared and made them slaves . He ordered that all baby boys born to Israelites should be killed .

But a brave woman named Jochebed had a baby boy and knew he was special. She hid him for 3 months . When she couldnt hide him anymore, she put him in a waterproof basket and gently placed it on the river Nile .

The babys big sister, Miriam, watched nearby as the basket floated. Pharaohs daughter came to the river, saw the basket, and took pity on the crying baby . She decided to raise him as her ownand named him Moses, which means drawn out of water.`},{title:" Moses Grows Up in the Palace",scripture:" Exodus 2:1015",content:`Moses grew up in Pharaohs palace like a prince ! But he never forgot that he was an Israelite. One day, he saw an Egyptian hurting an Israelite slave . Moses got angry and defended the man, but he ended up killing the Egyptian.

When Pharaoh found out, Moses got scared  and ran away to the land of Midian.`},{title:" A New Life in Midian",scripture:" Exodus 2:1625",content:`In Midian, Moses sat by a well . He saw some shepherd girls being bullied, and he stood up for them. Their father, Jethro (also called Reuel), was so thankful that he invited Moses to stay.

Moses married one of Jethros daughters, Zipporah, and had two sons; Gershom and Eliezer . He became a shepherd and lived a quiet life in the mountains.`},{title:" The Burning Bush",scripture:" Exodus 34",content:`One day, while watching sheep on Mount Horeb , Moses saw a bush on firebut it didnt burn up! 

He went closer and heard a voice:

Moses! Moses!

It was God speaking from the bush !

God told Moses He had heard the cries of the Israelites and wanted to set them free. God chose Moses to lead His people out of Egypt! 

Moses was scared and didnt think he was the right person. He said things like:

What if they dont believe me?
I cant speak well!
Please send someone else!

But God promised,

I will be with you. 

He even gave Moses signs:
 His staff turned into a snake 
 His hand became leprous and healed again 
 Water turned into blood 

So, Moses finally said Yes.`},{title:" Back to Egypt",scripture:" Exodus 4:1831",content:`Moses took his wife and sons and began the journey back to Egypt. Along the way, his brother Aaron met him and joined him .

Together, they would face Pharaoh and say these powerful words:

Let my people go! `},{title:" Moses' Special Encounters with God",scripture:"",content:`Throughout his life, Moses had many amazing moments with God:

 Burning bush  God calls him (Exodus 3)
 In Egypt  God speaks to him and Aaron (Exodus 612)
 Parting the Red Sea  God shows power (Exodus 14)
 Mount Sinai  God gives him the Ten Commandments (Exodus 20)
 Tent of Meeting  God speaks with Moses as a friend speaks to a friend (Exodus 33:11)`},{title:" A Message for Children",scripture:"",content:`Moses didnt feel brave or specialbut God chose him anyway. He listened, obeyed (even when it was hard), and God used him in amazing ways .

Just like Moses, God can use YOU to do great things! 
 The story of Moses teaches children about God's faithfulness, leadership, and the importance of listening to and trusting God, even when faced with challenges. It highlights God's protection, power, and plan for his people, and shows how God can use even broken individuals to achieve his purposes.
The story also emphasizes the importance of obeying God's commands and seeking his will in our lives. `}],sV=()=>{const[i,e]=G.useState(""),[n,s]=G.useState(""),[o,u]=G.useState(""),f=fo(),m=p=>{p.preventDefault(),i==="Superadmin"&&n==="OyeSamuel"?(u("Login successful!"),f("/admin/dashboard")):u("Invalid username or password")};return N.jsxs("div",{className:"p-6 bg-gray-100 min-h-screen",children:[N.jsx("h1",{className:"text-3xl font-bold text-center mb-6",children:"Admin Login"}),N.jsxs("form",{onSubmit:m,className:"space-y-4 max-w-md mx-auto",children:[N.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",placeholder:"Username",value:i,onChange:p=>e(p.target.value)}),N.jsx("input",{type:"password",className:"w-full border p-2 rounded-lg",placeholder:"Password",value:n,onChange:p=>s(p.target.value)}),N.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600",children:"Login"})]}),o&&N.jsx("p",{className:"text-center text-red-500 mt-4",children:o})]})},aV=()=>{const[i,e]=G.useState([]),[n,s]=G.useState(""),[o,u]=G.useState("");G.useEffect(()=>{(async()=>{try{const E=await Pw(Ih(qs,"users")),w=[];E.forEach(A=>{w.push({id:A.id,...A.data()})}),e(w)}catch(E){s("Error fetching users."),console.error(E)}})()},[]);const f=async g=>{try{await wM(Gl(qs,"users",g)),e(i.filter(E=>E.id!==g))}catch{s("Error deleting user.")}},m=async g=>{try{const E=Gl(qs,"users",g);await bM(E,{username:o}),e(i.map(w=>w.id===g?{...w,username:o}:w)),u("")}catch{s("Error updating user.")}},p=async()=>{if(o){const g={username:o,email:`${o}@gmail.com`};try{const E=Gl(Ih(qs,"users"));await kw(E,g),e([...i,{id:E.id,...g}]),u("")}catch{s("Error creating user.")}}};return N.jsxs("div",{className:"p-6 bg-gray-100 min-h-screen",children:[N.jsx("h1",{className:"text-3xl font-bold text-center mb-6",children:"Admin Dashboard"}),n&&N.jsx("p",{className:"text-red-500 text-center",children:n}),N.jsxs("div",{className:"mb-4 text-center",children:[N.jsx("input",{type:"text",className:"border border-gray-400 p-2 rounded-lg",value:o,onChange:g=>u(g.target.value),placeholder:"New username"}),N.jsx("button",{onClick:p,className:"ml-4 bg-blue-500 text-white px-4 py-2 rounded-lg",children:"Add User"})]}),N.jsx("div",{className:"space-y-4",children:i.map(g=>N.jsxs("div",{className:"flex justify-between items-center p-4 border border-gray-300 rounded-lg",children:[N.jsxs("div",{children:[N.jsx("p",{className:"font-bold",children:g.username}),N.jsx("p",{children:g.email})]}),N.jsxs("div",{className:"space-x-2",children:[N.jsx("button",{onClick:()=>m(g.id),className:"bg-yellow-500 text-white px-4 py-2 rounded-lg",children:"Update Username"}),N.jsx("button",{onClick:()=>f(g.id),className:"bg-red-500 text-white px-4 py-2 rounded-lg",children:"Delete User"})]})]},g.id))})]})},oV=()=>N.jsx("div",{className:"min-h-screen bg-gradient-to-b from-purple-100 via-pink-100 to-yellow-100 py-10 px-6 md:px-24 font-sans",children:N.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-3xl shadow-2xl p-10 border border-yellow-300",children:[N.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-purple-700 mb-6 text-center",children:" Help & Navigation Guide"}),N.jsx("p",{className:"text-lg text-gray-800 mb-6 text-center",children:"Welcome to the Bible Quiz App! Follow this guide to navigate and enjoy your experience."}),N.jsxs("div",{className:"space-y-10",children:[N.jsxs("section",{children:[N.jsx("h2",{className:"text-2xl font-bold text-pink-600 mb-3",children:"1 Registering Your Account"}),N.jsxs("p",{className:"text-gray-700 text-lg",children:["Before accessing the quiz, you need to"," ",N.jsx("span",{className:"font-semibold",children:"register"}),". Choose a memorable username and password  it doesn't have to be your real name. This helps save and track your progress."]})]}),N.jsxs("section",{children:[N.jsx("h2",{className:"text-2xl font-bold text-pink-600 mb-3",children:"2 Signing In"}),N.jsxs("p",{className:"text-gray-700 text-lg",children:["After registration, use your chosen"," ",N.jsx("span",{className:"font-semibold",children:"username"})," and"," ",N.jsx("span",{className:"font-semibold",children:"password"})," to sign in. This unlocks your access to the quiz and dashboard."]})]}),N.jsxs("section",{children:[N.jsx("h2",{className:"text-2xl font-bold text-pink-600 mb-3",children:"3 Reading the Bible Story"}),N.jsx("p",{className:"text-gray-700 text-lg",children:"We encourage you to read the Bible Story before taking the quiz."})]}),N.jsxs("section",{children:[N.jsx("h2",{className:"text-2xl font-bold text-pink-600 mb-3",children:"4 Starting the Quiz"}),N.jsxs("p",{className:"text-gray-700 text-lg",children:["After reading the story, you can start the quiz. Here's what you need to know:",N.jsxs("ul",{className:"list-disc pl-6 mt-2",children:[N.jsxs("li",{children:[" Youll have ",N.jsx("span",{className:"font-bold",children:"15 minutes"})," ","to complete the quiz."]}),N.jsxs("li",{children:[" Once you begin,"," ",N.jsx("span",{className:"font-bold",children:"do not switch tabs or close the window"}),". The quiz will be auto-submitted if you do."]}),N.jsxs("li",{children:[" You can take the quiz"," ",N.jsx("span",{className:"font-bold",children:"as many times as you want but make sure to log out and log in again"}),"."]})]})]})]}),N.jsxs("section",{children:[N.jsx("h2",{className:"text-2xl font-bold text-pink-600 mb-3",children:"5 Viewing Results"}),N.jsxs("p",{className:"text-gray-700 text-lg",children:["Your quiz scores are saved and viewable on the"," ",N.jsx("span",{className:"font-semibold",children:"Dashboard"})," after each attempt."]}),N.jsxs("p",{className:"text-gray-700 text-lg",children:["You can only access the Dashboard when you logged in."," ",N.jsx("span",{className:"font-semibold",children:"Dashboard"})]})]}),N.jsxs("section",{children:[N.jsx("h2",{className:"text-2xl font-bold text-pink-600 mb-3",children:" Need Help?"}),N.jsxs("p",{className:"text-gray-700 text-lg",children:["For further assistance, please contact:",N.jsxs("ul",{className:"list-disc pl-6 mt-2",children:[N.jsxs("li",{children:[" Phone: ",N.jsx("span",{className:"font-semibold",children:"08036605211"})]}),N.jsxs("li",{children:[" Email:"," ",N.jsx("a",{href:"mailto:oyebadepriscilla22@gmail.com",className:"text-blue-600 hover:underline",children:"oyebadepriscilla22@gmail.com"})]})]})]})]})]})]})}),lV=[{path:"/",element:N.jsx(QR,{})},{path:"/signin",element:N.jsx(kM,{})},{path:"/quiz",element:N.jsx(FM,{})},{path:"/register",element:N.jsx(tV,{})},{path:"/dashboard",element:N.jsx(nV,{})},{path:"/Bible-story",element:N.jsx(iV,{})},{path:"/admin/login",element:N.jsx(sV,{})},{path:"/admin/dashboard",element:N.jsx(aV,{})},{path:"/help",element:N.jsx(oV,{})}];function uV(){const e=Wr().pathname==="/quiz";return N.jsxs(N.Fragment,{children:[!e&&N.jsx(GM,{})," ",N.jsx(dR,{children:lV.map(n=>N.jsx(OE,{path:n.path,element:n.element},n.path))})]})}wS.createRoot(document.getElementById("root")).render(N.jsx(G.StrictMode,{children:N.jsx(kR,{children:N.jsx(uV,{})})}));
